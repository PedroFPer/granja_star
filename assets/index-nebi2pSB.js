(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var zd={exports:{}},gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function bw(){if(Cv)return gl;Cv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:i,type:s,key:f,ref:l!==void 0?l:null,props:u}}return gl.Fragment=e,gl.jsx=n,gl.jsxs=n,gl}var Rv;function Tw(){return Rv||(Rv=1,zd.exports=bw()),zd.exports}var me=Tw(),Hd={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function ww(){if(Av)return we;Av=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.iterator;function E(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,H={};function U(w,V,ne){this.props=w,this.context=V,this.refs=H,this.updater=ne||b}U.prototype.isReactComponent={},U.prototype.setState=function(w,V){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,V,"setState")},U.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function B(){}B.prototype=U.prototype;function q(w,V,ne){this.props=w,this.context=V,this.refs=H,this.updater=ne||b}var $=q.prototype=new B;$.constructor=q,N($,U.prototype),$.isPureReactComponent=!0;var de=Array.isArray,A={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function Se(w,V,ne,ie,Q,be){return ne=be.ref,{$$typeof:i,type:w,key:V,ref:ne!==void 0?ne:null,props:be}}function ce(w,V){return Se(w.type,V,void 0,void 0,void 0,w.props)}function G(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function ae(w){var V={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ne){return V[ne]})}var tt=/\/+/g;function jt(w,V){return typeof w=="object"&&w!==null&&w.key!=null?ae(""+w.key):V.toString(36)}function Tt(){}function Wt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Tt,Tt):(w.status="pending",w.then(function(V){w.status==="pending"&&(w.status="fulfilled",w.value=V)},function(V){w.status==="pending"&&(w.status="rejected",w.reason=V)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Pe(w,V,ne,ie,Q){var be=typeof w;(be==="undefined"||be==="boolean")&&(w=null);var Te=!1;if(w===null)Te=!0;else switch(be){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(w.$$typeof){case i:case e:Te=!0;break;case _:return Te=w._init,Pe(Te(w._payload),V,ne,ie,Q)}}if(Te)return Q=Q(w),Te=ie===""?"."+jt(w,0):ie,de(Q)?(ne="",Te!=null&&(ne=Te.replace(tt,"$&/")+"/"),Pe(Q,V,ne,"",function(Me){return Me})):Q!=null&&(G(Q)&&(Q=ce(Q,ne+(Q.key==null||w&&w.key===Q.key?"":(""+Q.key).replace(tt,"$&/")+"/")+Te)),V.push(Q)),1;Te=0;var Mt=ie===""?".":ie+":";if(de(w))for(var He=0;He<w.length;He++)ie=w[He],be=Mt+jt(ie,He),Te+=Pe(ie,V,ne,be,Q);else if(He=E(w),typeof He=="function")for(w=He.call(w),He=0;!(ie=w.next()).done;)ie=ie.value,be=Mt+jt(ie,He++),Te+=Pe(ie,V,ne,be,Q);else if(be==="object"){if(typeof w.then=="function")return Pe(Wt(w),V,ne,ie,Q);throw V=String(w),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Te}function K(w,V,ne){if(w==null)return w;var ie=[],Q=0;return Pe(w,ie,"","",function(be){return V.call(ne,be,Q++)}),ie}function ge(w){if(w._status===-1){var V=w._result;V=V(),V.then(function(ne){(w._status===0||w._status===-1)&&(w._status=1,w._result=ne)},function(ne){(w._status===0||w._status===-1)&&(w._status=2,w._result=ne)}),w._status===-1&&(w._status=0,w._result=V)}if(w._status===1)return w._result.default;throw w._result}var ue=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function De(){}return we.Children={map:K,forEach:function(w,V,ne){K(w,function(){V.apply(this,arguments)},ne)},count:function(w){var V=0;return K(w,function(){V++}),V},toArray:function(w){return K(w,function(V){return V})||[]},only:function(w){if(!G(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},we.Component=U,we.Fragment=n,we.Profiler=l,we.PureComponent=q,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,we.act=function(){throw Error("act(...) is not supported in production builds of React.")},we.cache=function(w){return function(){return w.apply(null,arguments)}},we.cloneElement=function(w,V,ne){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var ie=N({},w.props),Q=w.key,be=void 0;if(V!=null)for(Te in V.ref!==void 0&&(be=void 0),V.key!==void 0&&(Q=""+V.key),V)!te.call(V,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&V.ref===void 0||(ie[Te]=V[Te]);var Te=arguments.length-2;if(Te===1)ie.children=ne;else if(1<Te){for(var Mt=Array(Te),He=0;He<Te;He++)Mt[He]=arguments[He+2];ie.children=Mt}return Se(w.type,Q,void 0,void 0,be,ie)},we.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},we.createElement=function(w,V,ne){var ie,Q={},be=null;if(V!=null)for(ie in V.key!==void 0&&(be=""+V.key),V)te.call(V,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(Q[ie]=V[ie]);var Te=arguments.length-2;if(Te===1)Q.children=ne;else if(1<Te){for(var Mt=Array(Te),He=0;He<Te;He++)Mt[He]=arguments[He+2];Q.children=Mt}if(w&&w.defaultProps)for(ie in Te=w.defaultProps,Te)Q[ie]===void 0&&(Q[ie]=Te[ie]);return Se(w,be,void 0,void 0,null,Q)},we.createRef=function(){return{current:null}},we.forwardRef=function(w){return{$$typeof:h,render:w}},we.isValidElement=G,we.lazy=function(w){return{$$typeof:_,_payload:{_status:-1,_result:w},_init:ge}},we.memo=function(w,V){return{$$typeof:m,type:w,compare:V===void 0?null:V}},we.startTransition=function(w){var V=A.T,ne={};A.T=ne;try{var ie=w(),Q=A.S;Q!==null&&Q(ne,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(De,ue)}catch(be){ue(be)}finally{A.T=V}},we.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},we.use=function(w){return A.H.use(w)},we.useActionState=function(w,V,ne){return A.H.useActionState(w,V,ne)},we.useCallback=function(w,V){return A.H.useCallback(w,V)},we.useContext=function(w){return A.H.useContext(w)},we.useDebugValue=function(){},we.useDeferredValue=function(w,V){return A.H.useDeferredValue(w,V)},we.useEffect=function(w,V){return A.H.useEffect(w,V)},we.useId=function(){return A.H.useId()},we.useImperativeHandle=function(w,V,ne){return A.H.useImperativeHandle(w,V,ne)},we.useInsertionEffect=function(w,V){return A.H.useInsertionEffect(w,V)},we.useLayoutEffect=function(w,V){return A.H.useLayoutEffect(w,V)},we.useMemo=function(w,V){return A.H.useMemo(w,V)},we.useOptimistic=function(w,V){return A.H.useOptimistic(w,V)},we.useReducer=function(w,V,ne){return A.H.useReducer(w,V,ne)},we.useRef=function(w){return A.H.useRef(w)},we.useState=function(w){return A.H.useState(w)},we.useSyncExternalStore=function(w,V,ne){return A.H.useSyncExternalStore(w,V,ne)},we.useTransition=function(){return A.H.useTransition()},we.version="19.0.0",we}var Nv;function Fh(){return Nv||(Nv=1,Hd.exports=ww()),Hd.exports}var M=Fh(),Bd={exports:{}},_l={},jd={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function Cw(){return Ov||(Ov=1,function(i){function e(K,ge){var ue=K.length;K.push(ge);e:for(;0<ue;){var De=ue-1>>>1,w=K[De];if(0<l(w,ge))K[De]=ge,K[ue]=w,ue=De;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ge=K[0],ue=K.pop();if(ue!==ge){K[0]=ue;e:for(var De=0,w=K.length,V=w>>>1;De<V;){var ne=2*(De+1)-1,ie=K[ne],Q=ne+1,be=K[Q];if(0>l(ie,ue))Q<w&&0>l(be,ie)?(K[De]=be,K[Q]=ue,De=Q):(K[De]=ie,K[ne]=ue,De=ne);else if(Q<w&&0>l(be,ue))K[De]=be,K[Q]=ue,De=Q;else break e}}return ge}function l(K,ge){var ue=K.sortIndex-ge.sortIndex;return ue!==0?ue:K.id-ge.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();i.unstable_now=function(){return f.now()-h}}var p=[],m=[],_=1,y=null,E=3,b=!1,N=!1,H=!1,U=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function $(K){for(var ge=n(m);ge!==null;){if(ge.callback===null)s(m);else if(ge.startTime<=K)s(m),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=n(m)}}function de(K){if(H=!1,$(K),!N)if(n(p)!==null)N=!0,Wt();else{var ge=n(m);ge!==null&&Pe(de,ge.startTime-K)}}var A=!1,te=-1,Se=5,ce=-1;function G(){return!(i.unstable_now()-ce<Se)}function ae(){if(A){var K=i.unstable_now();ce=K;var ge=!0;try{e:{N=!1,H&&(H=!1,B(te),te=-1),b=!0;var ue=E;try{t:{for($(K),y=n(p);y!==null&&!(y.expirationTime>K&&G());){var De=y.callback;if(typeof De=="function"){y.callback=null,E=y.priorityLevel;var w=De(y.expirationTime<=K);if(K=i.unstable_now(),typeof w=="function"){y.callback=w,$(K),ge=!0;break t}y===n(p)&&s(p),$(K)}else s(p);y=n(p)}if(y!==null)ge=!0;else{var V=n(m);V!==null&&Pe(de,V.startTime-K),ge=!1}}break e}finally{y=null,E=ue,b=!1}ge=void 0}}finally{ge?tt():A=!1}}}var tt;if(typeof q=="function")tt=function(){q(ae)};else if(typeof MessageChannel<"u"){var jt=new MessageChannel,Tt=jt.port2;jt.port1.onmessage=ae,tt=function(){Tt.postMessage(null)}}else tt=function(){U(ae,0)};function Wt(){A||(A=!0,tt())}function Pe(K,ge){te=U(function(){K(i.unstable_now())},ge)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_continueExecution=function(){N||b||(N=!0,Wt())},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Se=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(K){switch(E){case 1:case 2:case 3:var ge=3;break;default:ge=E}var ue=E;E=ge;try{return K()}finally{E=ue}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(K,ge){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ue=E;E=K;try{return ge()}finally{E=ue}},i.unstable_scheduleCallback=function(K,ge,ue){var De=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?De+ue:De):ue=De,K){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ue+w,K={id:_++,callback:ge,priorityLevel:K,startTime:ue,expirationTime:w,sortIndex:-1},ue>De?(K.sortIndex=ue,e(m,K),n(p)===null&&K===n(m)&&(H?(B(te),te=-1):H=!0,Pe(de,ue-De))):(K.sortIndex=w,e(p,K),N||b||(N=!0,Wt())),K},i.unstable_shouldYield=G,i.unstable_wrapCallback=function(K){var ge=E;return function(){var ue=E;E=ge;try{return K.apply(this,arguments)}finally{E=ue}}}}(Vd)),Vd}var Iv;function Rw(){return Iv||(Iv=1,jd.exports=Cw()),jd.exports}var Fd={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function Aw(){if(Dv)return Gt;Dv=1;var i=Fh();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:p,containerInfo:m,implementation:_}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gt.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,_)},Gt.flushSync=function(p){var m=f.T,_=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=m,s.p=_,s.d.f()}},Gt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},Gt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Gt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,y=h(_,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:b}):_==="script"&&s.d.X(p,{crossOrigin:y,integrity:E,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Gt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},Gt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,y=h(_,m.crossOrigin);s.d.L(p,_,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Gt.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=h(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},Gt.requestFormReset=function(p){s.d.r(p)},Gt.unstable_batchedUpdates=function(p,m){return p(m)},Gt.useFormState=function(p,m,_){return f.H.useFormState(p,m,_)},Gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Gt.version="19.0.0",Gt}var Mv;function RE(){if(Mv)return Fd.exports;Mv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Fd.exports=Aw(),Fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function Nw(){if(kv)return _l;kv=1;var i=Rw(),e=Fh(),n=RE();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),b=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),de=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function te(t){return t===null||typeof t!="object"?null:(t=A&&t[A]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Symbol.for("react.client.reference");function ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Se?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case h:return"Portal";case _:return"Profiler";case m:return"StrictMode";case H:return"Suspense";case U:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case N:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B:return r=t.displayName||null,r!==null?r:ce(t.type)||"Memo";case q:r=t._payload,t=t._init;try{return ce(t(r))}catch{}}return null}var G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=Object.assign,tt,jt;function Tt(t){if(tt===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);tt=r&&r[1]||"",jt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+t+jt}var Wt=!1;function Pe(t,r){if(!t||Wt)return"";Wt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(x){var k=x}Reflect.construct(t,[],j)}else{try{j.call()}catch(x){k=x}t.call(j.prototype)}}else{try{throw Error()}catch(x){k=x}(j=t())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(x){if(x&&k&&typeof x.stack=="string")return[x.stack,k.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),g=d[0],v=d[1];if(g&&v){var S=g.split(`
`),R=v.split(`
`);for(c=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;if(o===S.length||c===R.length)for(o=S.length-1,c=R.length-1;1<=o&&0<=c&&S[o]!==R[c];)c--;for(;1<=o&&0<=c;o--,c--)if(S[o]!==R[c]){if(o!==1||c!==1)do if(o--,c--,0>c||S[o]!==R[c]){var P=`
`+S[o].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=o&&0<=c);break}}}finally{Wt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Tt(a):""}function K(t){switch(t.tag){case 26:case 27:case 5:return Tt(t.type);case 16:return Tt("Lazy");case 13:return Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 15:return t=Pe(t.type,!1),t;case 11:return t=Pe(t.type.render,!1),t;case 1:return t=Pe(t.type,!0),t;default:return""}}function ge(t){try{var r="";do r+=K(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ue(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function De(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function w(t){if(ue(t)!==t)throw Error(s(188))}function V(t){var r=t.alternate;if(!r){if(r=ue(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,o=r;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return w(c),t;if(d===o)return w(c),r;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=c,o=d;else{for(var g=!1,v=c.child;v;){if(v===a){g=!0,a=c,o=d;break}if(v===o){g=!0,o=c,a=d;break}v=v.sibling}if(!g){for(v=d.child;v;){if(v===a){g=!0,a=d,o=c;break}if(v===o){g=!0,o=d,a=c;break}v=v.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function ne(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=ne(t),r!==null)return r;t=t.sibling}return null}var ie=Array.isArray,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Te=[],Mt=-1;function He(t){return{current:t}}function Me(t){0>Mt||(t.current=Te[Mt],Te[Mt]=null,Mt--)}function Ve(t,r){Mt++,Te[Mt]=t.current,t.current=r}var rn=He(null),wr=He(null),Vt=He(null),ps=He(null);function ms(t,r){switch(Ve(Vt,r),Ve(wr,t),Ve(rn,null),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?ev(r):0;break;default:if(t=t===8?r.parentNode:r,r=t.tagName,t=t.namespaceURI)t=ev(t),r=tv(t,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Me(rn),Ve(rn,r)}function ti(){Me(rn),Me(wr),Me(Vt)}function Ea(t){t.memoizedState!==null&&Ve(ps,t);var r=rn.current,a=tv(r,t.type);r!==a&&(Ve(wr,t),Ve(rn,a))}function gs(t){wr.current===t&&(Me(rn),Me(wr)),ps.current===t&&(Me(ps),fl._currentValue=be)}var Sa=Object.prototype.hasOwnProperty,ba=i.unstable_scheduleCallback,Dn=i.unstable_cancelCallback,Cr=i.unstable_shouldYield,uo=i.unstable_requestPaint,Qt=i.unstable_now,Fn=i.unstable_getCurrentPriorityLevel,dn=i.unstable_ImmediatePriority,Ta=i.unstable_UserBlockingPriority,Ui=i.unstable_NormalPriority,Mc=i.unstable_LowPriority,Mn=i.unstable_IdlePriority,co=i.log,fo=i.unstable_setDisableYieldValue,Pi=null,Yt=null;function ho(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Pi,t,void 0,(t.current.flags&128)===128)}catch{}}function sn(t){if(typeof co=="function"&&fo(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Pi,t)}catch{}}var Ft=Math.clz32?Math.clz32:po,wa=Math.log,kc=Math.LN2;function po(t){return t>>>=0,t===0?32:31-(wa(t)/kc|0)|0}var _s=128,Rr=4194304;function hn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ni(t,r){var a=t.pendingLanes;if(a===0)return 0;var o=0,c=t.suspendedLanes,d=t.pingedLanes,g=t.warmLanes;t=t.finishedLanes!==0;var v=a&134217727;return v!==0?(a=v&~c,a!==0?o=hn(a):(d&=v,d!==0?o=hn(d):t||(g=v&~g,g!==0&&(o=hn(g))))):(v=a&~c,v!==0?o=hn(v):d!==0?o=hn(d):t||(g=a&~g,g!==0&&(o=hn(g)))),o===0?0:r!==0&&r!==o&&(r&c)===0&&(c=o&-o,g=r&-r,c>=g||c===32&&(g&4194176)!==0)?r:o}function Ar(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Lc(t,r){switch(t){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T(){var t=_s;return _s<<=1,(_s&4194176)===0&&(_s=128),t}function I(){var t=Rr;return Rr<<=1,(Rr&62914560)===0&&(Rr=4194304),t}function L(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function F(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function W(t,r,a,o,c,d){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,S=t.expirationTimes,R=t.hiddenUpdates;for(a=g&~a;0<a;){var P=31-Ft(a),j=1<<P;v[P]=0,S[P]=-1;var k=R[P];if(k!==null)for(R[P]=null,P=0;P<k.length;P++){var x=k[P];x!==null&&(x.lane&=-536870913)}a&=~j}o!==0&&he(t,o,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~r))}function he(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-Ft(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194218}function fe(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var o=31-Ft(a),c=1<<o;c&r|t[o]&r&&(t[o]|=r),a&=~c}}function re(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function le(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:yv(t.type))}function X(t,r){var a=Q.p;try{return Q.p=t,r()}finally{Q.p=a}}var Z=Math.random().toString(36).slice(2),J="__reactFiber$"+Z,ve="__reactProps$"+Z,Ge="__reactContainer$"+Z,gt="__reactEvents$"+Z,ot="__reactListeners$"+Z,nt="__reactHandles$"+Z,ut="__reactResources$"+Z,pn="__reactMarker$"+Z;function ii(t){delete t[J],delete t[ve],delete t[gt],delete t[ot],delete t[nt]}function kt(t){var r=t[J];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ge]||a[J]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=rv(t);t!==null;){if(a=t[J])return a;t=rv(t)}return r}t=a,a=t.parentNode}return null}function Lt(t){if(t=t[J]||t[Ge]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ri(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function mn(t){var r=t[ut];return r||(r=t[ut]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Qe(t){t[pn]=!0}var Nr=new Set,Or={};function xe(t,r){rt(t,r),rt(t+"Capture",r)}function rt(t,r){for(Or[t]=r,t=0;t<r.length;t++)Nr.add(r[t])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},si={};function mo(t){return Sa.call(si,t)?!0:Sa.call(st,t)?!1:Ir.test(t)?si[t]=!0:(st[t]=!0,!1)}function vs(t,r,a){if(mo(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function go(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function ai(t,r,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+o)}}function gn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function im(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _b(t){var r=im(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,d.call(this,g)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function _o(t){t._valueTracker||(t._valueTracker=_b(t))}function rm(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return t&&(o=im(t)?t.checked?"true":"false":t.value),t=o,t!==a?(r.setValue(t),!0):!1}function vo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vb=/[\n"\\]/g;function _n(t){return t.replace(vb,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function xc(t,r,a,o,c,d,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),r!=null?g==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+gn(r)):t.value!==""+gn(r)&&(t.value=""+gn(r)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),r!=null?Uc(t,g,gn(r)):a!=null?Uc(t,g,gn(a)):o!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+gn(v):t.removeAttribute("name")}function sm(t,r,a,o,c,d,g,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+gn(a):"",r=r!=null?""+gn(r):a,v||r===t.value||(t.value=r),t.defaultValue=r}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=v?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function Uc(t,r,a){r==="number"&&vo(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ys(t,r,a,o){if(t=t.options,r){r={};for(var c=0;c<a.length;c++)r["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=r.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&o&&(t[a].defaultSelected=!0)}else{for(a=""+gn(a),r=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}r!==null||t[c].disabled||(r=t[c])}r!==null&&(r.selected=!0)}}function am(t,r,a){if(r!=null&&(r=""+gn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+gn(a):""}function lm(t,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(s(92));if(ie(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=gn(r),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function Es(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var yb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function om(t,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,a):typeof a!="number"||a===0||yb.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function um(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in r)o=r[c],r.hasOwnProperty(c)&&a[c]!==o&&om(t,c,o)}else for(var d in r)r.hasOwnProperty(d)&&om(t,d,r[d])}function Pc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(t){return Sb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var zc=null;function Hc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ss=null,bs=null;function cm(t){var r=Lt(t);if(r&&(t=r.stateNode)){var a=t[ve]||null;e:switch(t=r.stateNode,r.type){case"input":if(xc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==t&&o.form===t.form){var c=o[ve]||null;if(!c)throw Error(s(90));xc(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===t.form&&rm(o)}break e;case"textarea":am(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ys(t,!!a.multiple,r,!1)}}}var Bc=!1;function fm(t,r,a){if(Bc)return t(r,a);Bc=!0;try{var o=t(r);return o}finally{if(Bc=!1,(Ss!==null||bs!==null)&&(nu(),Ss&&(r=Ss,t=bs,bs=Ss=null,cm(r),t)))for(r=0;r<t.length;r++)cm(t[r])}}function Ca(t,r){var a=t.stateNode;if(a===null)return null;var o=a[ve]||null;if(o===null)return null;a=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jc=!1;if(Xt)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){jc=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{jc=!1}var zi=null,Vc=null,Eo=null;function dm(){if(Eo)return Eo;var t,r=Vc,a=r.length,o,c="value"in zi?zi.value:zi.textContent,d=c.length;for(t=0;t<a&&r[t]===c[t];t++);var g=a-t;for(o=1;o<=g&&r[a-o]===c[d-o];o++);return Eo=c.slice(t,1<o?1-o:void 0)}function So(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function bo(){return!0}function hm(){return!1}function Zt(t){function r(a,o,c,d,g){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?bo:hm,this.isPropagationStopped=hm,this}return ae(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),r}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=Zt(Dr),Aa=ae({},Dr,{view:0,detail:0}),bb=Zt(Aa),Fc,qc,Na,wo=ae({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Na&&(Na&&t.type==="mousemove"?(Fc=t.screenX-Na.screenX,qc=t.screenY-Na.screenY):qc=Fc=0,Na=t),Fc)},movementY:function(t){return"movementY"in t?t.movementY:qc}}),pm=Zt(wo),Tb=ae({},wo,{dataTransfer:0}),wb=Zt(Tb),Cb=ae({},Aa,{relatedTarget:0}),Gc=Zt(Cb),Rb=ae({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ab=Zt(Rb),Nb=ae({},Dr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ob=Zt(Nb),Ib=ae({},Dr,{data:0}),mm=Zt(Ib),Db={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lb(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=kb[t])?!!r[t]:!1}function Yc(){return Lb}var xb=ae({},Aa,{key:function(t){if(t.key){var r=Db[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=So(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yc,charCode:function(t){return t.type==="keypress"?So(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?So(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ub=Zt(xb),Pb=ae({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gm=Zt(Pb),zb=ae({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yc}),Hb=Zt(zb),Bb=ae({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),jb=Zt(Bb),Vb=ae({},wo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fb=Zt(Vb),qb=ae({},Dr,{newState:0,oldState:0}),Gb=Zt(qb),Yb=[9,13,27,32],$c=Xt&&"CompositionEvent"in window,Oa=null;Xt&&"documentMode"in document&&(Oa=document.documentMode);var $b=Xt&&"TextEvent"in window&&!Oa,_m=Xt&&(!$c||Oa&&8<Oa&&11>=Oa),vm=" ",ym=!1;function Em(t,r){switch(t){case"keyup":return Yb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ts=!1;function Kb(t,r){switch(t){case"compositionend":return Sm(r);case"keypress":return r.which!==32?null:(ym=!0,vm);case"textInput":return t=r.data,t===vm&&ym?null:t;default:return null}}function Wb(t,r){if(Ts)return t==="compositionend"||!$c&&Em(t,r)?(t=dm(),Eo=Vc=zi=null,Ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _m&&r.locale!=="ko"?null:r.data;default:return null}}var Qb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bm(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Qb[t.type]:r==="textarea"}function Tm(t,r,a,o){Ss?bs?bs.push(o):bs=[o]:Ss=o,r=lu(r,"onChange"),0<r.length&&(a=new To("onChange","change",null,a,o),t.push({event:a,listeners:r}))}var Ia=null,Da=null;function Xb(t){W_(t,0)}function Co(t){var r=ri(t);if(rm(r))return t}function wm(t,r){if(t==="change")return r}var Cm=!1;if(Xt){var Kc;if(Xt){var Wc="oninput"in document;if(!Wc){var Rm=document.createElement("div");Rm.setAttribute("oninput","return;"),Wc=typeof Rm.oninput=="function"}Kc=Wc}else Kc=!1;Cm=Kc&&(!document.documentMode||9<document.documentMode)}function Am(){Ia&&(Ia.detachEvent("onpropertychange",Nm),Da=Ia=null)}function Nm(t){if(t.propertyName==="value"&&Co(Da)){var r=[];Tm(r,Da,t,Hc(t)),fm(Xb,r)}}function Zb(t,r,a){t==="focusin"?(Am(),Ia=r,Da=a,Ia.attachEvent("onpropertychange",Nm)):t==="focusout"&&Am()}function Jb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Co(Da)}function eT(t,r){if(t==="click")return Co(r)}function tT(t,r){if(t==="input"||t==="change")return Co(r)}function nT(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var an=typeof Object.is=="function"?Object.is:nT;function Ma(t,r){if(an(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!Sa.call(r,c)||!an(t[c],r[c]))return!1}return!0}function Om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Im(t,r){var a=Om(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=r&&o>=r)return{node:a,offset:r-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Om(a)}}function Dm(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Dm(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Mm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=vo(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=vo(t.document)}return r}function Qc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function iT(t,r){var a=Mm(r);r=t.focusedElem;var o=t.selectionRange;if(a!==r&&r&&r.ownerDocument&&Dm(r.ownerDocument.documentElement,r)){if(o!==null&&Qc(r)){if(t=o.start,a=o.end,a===void 0&&(a=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(a,r.value.length);else if(a=(t=r.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var c=r.textContent.length,d=Math.min(o.start,c);o=o.end===void 0?d:Math.min(o.end,c),!a.extend&&d>o&&(c=o,o=d,d=c),c=Im(r,d);var g=Im(r,o);c&&g&&(a.rangeCount!==1||a.anchorNode!==c.node||a.anchorOffset!==c.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),a.removeAllRanges(),d>o?(a.addRange(t),a.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),a.addRange(t)))}}for(t=[],a=r;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)a=t[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var rT=Xt&&"documentMode"in document&&11>=document.documentMode,ws=null,Xc=null,ka=null,Zc=!1;function km(t,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zc||ws==null||ws!==vo(o)||(o=ws,"selectionStart"in o&&Qc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ka&&Ma(ka,o)||(ka=o,o=lu(Xc,"onSelect"),0<o.length&&(r=new To("onSelect","select",null,r,a),t.push({event:r,listeners:o}),r.target=ws)))}function Mr(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Cs={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},Jc={},Lm={};Xt&&(Lm=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function kr(t){if(Jc[t])return Jc[t];if(!Cs[t])return t;var r=Cs[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Lm)return Jc[t]=r[a];return t}var xm=kr("animationend"),Um=kr("animationiteration"),Pm=kr("animationstart"),sT=kr("transitionrun"),aT=kr("transitionstart"),lT=kr("transitioncancel"),zm=kr("transitionend"),Hm=new Map,Bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function kn(t,r){Hm.set(t,r),xe(r,[t])}var vn=[],Rs=0,ef=0;function Ro(){for(var t=Rs,r=ef=Rs=0;r<t;){var a=vn[r];vn[r++]=null;var o=vn[r];vn[r++]=null;var c=vn[r];vn[r++]=null;var d=vn[r];if(vn[r++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}d!==0&&jm(a,c,d)}}function Ao(t,r,a,o){vn[Rs++]=t,vn[Rs++]=r,vn[Rs++]=a,vn[Rs++]=o,ef|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function tf(t,r,a,o){return Ao(t,r,a,o),No(t)}function Hi(t,r){return Ao(t,null,null,r),No(t)}function jm(t,r,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var c=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;c&&r!==null&&t.tag===3&&(d=t.stateNode,c=31-Ft(a),d=d.hiddenUpdates,t=d[c],t===null?d[c]=[r]:t.push(r),r.lane=a|536870912)}function No(t){if(50<rl)throw rl=0,od=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var As={},Vm=new WeakMap;function yn(t,r){if(typeof t=="object"&&t!==null){var a=Vm.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ge(r)},Vm.set(t,r),r)}return{value:t,source:r,stack:ge(r)}}var Ns=[],Os=0,Oo=null,Io=0,En=[],Sn=0,Lr=null,li=1,oi="";function xr(t,r){Ns[Os++]=Io,Ns[Os++]=Oo,Oo=t,Io=r}function Fm(t,r,a){En[Sn++]=li,En[Sn++]=oi,En[Sn++]=Lr,Lr=t;var o=li;t=oi;var c=32-Ft(o)-1;o&=~(1<<c),a+=1;var d=32-Ft(r)+c;if(30<d){var g=c-c%5;d=(o&(1<<g)-1).toString(32),o>>=g,c-=g,li=1<<32-Ft(r)+c|a<<c|o,oi=d+t}else li=1<<d|a<<c|o,oi=t}function nf(t){t.return!==null&&(xr(t,1),Fm(t,1,0))}function rf(t){for(;t===Oo;)Oo=Ns[--Os],Ns[Os]=null,Io=Ns[--Os],Ns[Os]=null;for(;t===Lr;)Lr=En[--Sn],En[Sn]=null,oi=En[--Sn],En[Sn]=null,li=En[--Sn],En[Sn]=null}var $t=null,xt=null,Be=!1,Ln=null,qn=!1,sf=Error(s(519));function Ur(t){var r=Error(s(418,""));throw Ua(yn(r,t)),sf}function qm(t){var r=t.stateNode,a=t.type,o=t.memoizedProps;switch(r[J]=t,r[ve]=o,a){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(a=0;a<al.length;a++)Le(al[a],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),sm(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),_o(r);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),lm(r,o.value,o.defaultValue,o.children),_o(r)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||J_(r.textContent,a)?(o.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),o.onScroll!=null&&Le("scroll",r),o.onScrollEnd!=null&&Le("scrollend",r),o.onClick!=null&&(r.onclick=ou),r=!0):r=!1,r||Ur(t)}function Gm(t){for($t=t.return;$t;)switch($t.tag){case 3:case 27:qn=!0;return;case 5:case 13:qn=!1;return;default:$t=$t.return}}function La(t){if(t!==$t)return!1;if(!Be)return Gm(t),Be=!0,!1;var r=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Cd(t.type,t.memoizedProps)),a=!a),a&&(r=!0),r&&xt&&Ur(t),Gm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){xt=Un(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}xt=null}}else xt=$t?Un(t.stateNode.nextSibling):null;return!0}function xa(){xt=$t=null,Be=!1}function Ua(t){Ln===null?Ln=[t]:Ln.push(t)}var Pa=Error(s(460)),Ym=Error(s(474)),af={then:function(){}};function $m(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Do(){}function Km(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Do,Do),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===Pa?Error(s(483)):t;default:if(typeof r.status=="string")r.then(Do,Do);else{if(t=Xe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var c=r;c.status="fulfilled",c.value=o}},function(o){if(r.status==="pending"){var c=r;c.status="rejected",c.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===Pa?Error(s(483)):t}throw za=r,Pa}}var za=null;function Wm(){if(za===null)throw Error(s(459));var t=za;return za=null,t}var Is=null,Ha=0;function Mo(t){var r=Ha;return Ha+=1,Is===null&&(Is=[]),Km(Is,t,r)}function Ba(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function ko(t,r){throw r.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Qm(t){var r=t._init;return r(t._payload)}function Xm(t){function r(O,C){if(t){var D=O.deletions;D===null?(O.deletions=[C],O.flags|=16):D.push(C)}}function a(O,C){if(!t)return null;for(;C!==null;)r(O,C),C=C.sibling;return null}function o(O){for(var C=new Map;O!==null;)O.key!==null?C.set(O.key,O):C.set(O.index,O),O=O.sibling;return C}function c(O,C){return O=Xi(O,C),O.index=0,O.sibling=null,O}function d(O,C,D){return O.index=D,t?(D=O.alternate,D!==null?(D=D.index,D<C?(O.flags|=33554434,C):D):(O.flags|=33554434,C)):(O.flags|=1048576,C)}function g(O){return t&&O.alternate===null&&(O.flags|=33554434),O}function v(O,C,D,z){return C===null||C.tag!==6?(C=ed(D,O.mode,z),C.return=O,C):(C=c(C,D),C.return=O,C)}function S(O,C,D,z){var ee=D.type;return ee===p?P(O,C,D.props.children,z,D.key):C!==null&&(C.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===q&&Qm(ee)===C.type)?(C=c(C,D.props),Ba(C,D),C.return=O,C):(C=Xo(D.type,D.key,D.props,null,O.mode,z),Ba(C,D),C.return=O,C)}function R(O,C,D,z){return C===null||C.tag!==4||C.stateNode.containerInfo!==D.containerInfo||C.stateNode.implementation!==D.implementation?(C=td(D,O.mode,z),C.return=O,C):(C=c(C,D.children||[]),C.return=O,C)}function P(O,C,D,z,ee){return C===null||C.tag!==7?(C=Yr(D,O.mode,z,ee),C.return=O,C):(C=c(C,D),C.return=O,C)}function j(O,C,D){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=ed(""+C,O.mode,D),C.return=O,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case f:return D=Xo(C.type,C.key,C.props,null,O.mode,D),Ba(D,C),D.return=O,D;case h:return C=td(C,O.mode,D),C.return=O,C;case q:var z=C._init;return C=z(C._payload),j(O,C,D)}if(ie(C)||te(C))return C=Yr(C,O.mode,D,null),C.return=O,C;if(typeof C.then=="function")return j(O,Mo(C),D);if(C.$$typeof===b)return j(O,Ko(O,C),D);ko(O,C)}return null}function k(O,C,D,z){var ee=C!==null?C.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ee!==null?null:v(O,C,""+D,z);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case f:return D.key===ee?S(O,C,D,z):null;case h:return D.key===ee?R(O,C,D,z):null;case q:return ee=D._init,D=ee(D._payload),k(O,C,D,z)}if(ie(D)||te(D))return ee!==null?null:P(O,C,D,z,null);if(typeof D.then=="function")return k(O,C,Mo(D),z);if(D.$$typeof===b)return k(O,C,Ko(O,D),z);ko(O,D)}return null}function x(O,C,D,z,ee){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return O=O.get(D)||null,v(C,O,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case f:return O=O.get(z.key===null?D:z.key)||null,S(C,O,z,ee);case h:return O=O.get(z.key===null?D:z.key)||null,R(C,O,z,ee);case q:var Re=z._init;return z=Re(z._payload),x(O,C,D,z,ee)}if(ie(z)||te(z))return O=O.get(D)||null,P(C,O,z,ee,null);if(typeof z.then=="function")return x(O,C,D,Mo(z),ee);if(z.$$typeof===b)return x(O,C,D,Ko(C,z),ee);ko(C,z)}return null}function se(O,C,D,z){for(var ee=null,Re=null,oe=C,pe=C=0,Rt=null;oe!==null&&pe<D.length;pe++){oe.index>pe?(Rt=oe,oe=null):Rt=oe.sibling;var je=k(O,oe,D[pe],z);if(je===null){oe===null&&(oe=Rt);break}t&&oe&&je.alternate===null&&r(O,oe),C=d(je,C,pe),Re===null?ee=je:Re.sibling=je,Re=je,oe=Rt}if(pe===D.length)return a(O,oe),Be&&xr(O,pe),ee;if(oe===null){for(;pe<D.length;pe++)oe=j(O,D[pe],z),oe!==null&&(C=d(oe,C,pe),Re===null?ee=oe:Re.sibling=oe,Re=oe);return Be&&xr(O,pe),ee}for(oe=o(oe);pe<D.length;pe++)Rt=x(oe,O,pe,D[pe],z),Rt!==null&&(t&&Rt.alternate!==null&&oe.delete(Rt.key===null?pe:Rt.key),C=d(Rt,C,pe),Re===null?ee=Rt:Re.sibling=Rt,Re=Rt);return t&&oe.forEach(function(rr){return r(O,rr)}),Be&&xr(O,pe),ee}function Ee(O,C,D,z){if(D==null)throw Error(s(151));for(var ee=null,Re=null,oe=C,pe=C=0,Rt=null,je=D.next();oe!==null&&!je.done;pe++,je=D.next()){oe.index>pe?(Rt=oe,oe=null):Rt=oe.sibling;var rr=k(O,oe,je.value,z);if(rr===null){oe===null&&(oe=Rt);break}t&&oe&&rr.alternate===null&&r(O,oe),C=d(rr,C,pe),Re===null?ee=rr:Re.sibling=rr,Re=rr,oe=Rt}if(je.done)return a(O,oe),Be&&xr(O,pe),ee;if(oe===null){for(;!je.done;pe++,je=D.next())je=j(O,je.value,z),je!==null&&(C=d(je,C,pe),Re===null?ee=je:Re.sibling=je,Re=je);return Be&&xr(O,pe),ee}for(oe=o(oe);!je.done;pe++,je=D.next())je=x(oe,O,pe,je.value,z),je!==null&&(t&&je.alternate!==null&&oe.delete(je.key===null?pe:je.key),C=d(je,C,pe),Re===null?ee=je:Re.sibling=je,Re=je);return t&&oe.forEach(function(Sw){return r(O,Sw)}),Be&&xr(O,pe),ee}function dt(O,C,D,z){if(typeof D=="object"&&D!==null&&D.type===p&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case f:e:{for(var ee=D.key;C!==null;){if(C.key===ee){if(ee=D.type,ee===p){if(C.tag===7){a(O,C.sibling),z=c(C,D.props.children),z.return=O,O=z;break e}}else if(C.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===q&&Qm(ee)===C.type){a(O,C.sibling),z=c(C,D.props),Ba(z,D),z.return=O,O=z;break e}a(O,C);break}else r(O,C);C=C.sibling}D.type===p?(z=Yr(D.props.children,O.mode,z,D.key),z.return=O,O=z):(z=Xo(D.type,D.key,D.props,null,O.mode,z),Ba(z,D),z.return=O,O=z)}return g(O);case h:e:{for(ee=D.key;C!==null;){if(C.key===ee)if(C.tag===4&&C.stateNode.containerInfo===D.containerInfo&&C.stateNode.implementation===D.implementation){a(O,C.sibling),z=c(C,D.children||[]),z.return=O,O=z;break e}else{a(O,C);break}else r(O,C);C=C.sibling}z=td(D,O.mode,z),z.return=O,O=z}return g(O);case q:return ee=D._init,D=ee(D._payload),dt(O,C,D,z)}if(ie(D))return se(O,C,D,z);if(te(D)){if(ee=te(D),typeof ee!="function")throw Error(s(150));return D=ee.call(D),Ee(O,C,D,z)}if(typeof D.then=="function")return dt(O,C,Mo(D),z);if(D.$$typeof===b)return dt(O,C,Ko(O,D),z);ko(O,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,C!==null&&C.tag===6?(a(O,C.sibling),z=c(C,D),z.return=O,O=z):(a(O,C),z=ed(D,O.mode,z),z.return=O,O=z),g(O)):a(O,C)}return function(O,C,D,z){try{Ha=0;var ee=dt(O,C,D,z);return Is=null,ee}catch(oe){if(oe===Pa)throw oe;var Re=Cn(29,oe,null,O.mode);return Re.lanes=z,Re.return=O,Re}finally{}}}var Pr=Xm(!0),Zm=Xm(!1),Ds=He(null),Lo=He(0);function Jm(t,r){t=yi,Ve(Lo,t),Ve(Ds,r),yi=t|r.baseLanes}function lf(){Ve(Lo,yi),Ve(Ds,Ds.current)}function of(){yi=Lo.current,Me(Ds),Me(Lo)}var bn=He(null),Gn=null;function Bi(t){var r=t.alternate;Ve(Et,Et.current&1),Ve(bn,t),Gn===null&&(r===null||Ds.current!==null||r.memoizedState!==null)&&(Gn=t)}function eg(t){if(t.tag===22){if(Ve(Et,Et.current),Ve(bn,t),Gn===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Gn=t)}}else ji()}function ji(){Ve(Et,Et.current),Ve(bn,bn.current)}function ui(t){Me(bn),Gn===t&&(Gn=null),Me(Et)}var Et=He(0);function xo(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var oT=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},uT=i.unstable_scheduleCallback,cT=i.unstable_NormalPriority,St={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new oT,data:new Map,refCount:0}}function ja(t){t.refCount--,t.refCount===0&&uT(cT,function(){t.controller.abort()})}var Va=null,cf=0,Ms=0,ks=null;function fT(t,r){if(Va===null){var a=Va=[];cf=0,Ms=gd(),ks={status:"pending",value:void 0,then:function(o){a.push(o)}}}return cf++,r.then(tg,tg),r}function tg(){if(--cf===0&&Va!==null){ks!==null&&(ks.status="fulfilled");var t=Va;Va=null,Ms=0,ks=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function dT(t,r){var a=[],o={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var c=0;c<a.length;c++)(0,a[c])(r)},function(c){for(o.status="rejected",o.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),o}var ng=G.S;G.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&fT(t,r),ng!==null&&ng(t,r)};var zr=He(null);function ff(){var t=zr.current;return t!==null?t:Xe.pooledCache}function Uo(t,r){r===null?Ve(zr,zr.current):Ve(zr,r.pool)}function ig(){var t=ff();return t===null?null:{parent:St._currentValue,pool:t}}var Vi=0,Ce=null,Ye=null,_t=null,Po=!1,Ls=!1,Hr=!1,zo=0,Fa=0,xs=null,hT=0;function mt(){throw Error(s(321))}function df(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!an(t[a],r[a]))return!1;return!0}function hf(t,r,a,o,c,d){return Vi=d,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=t===null||t.memoizedState===null?Br:Fi,Hr=!1,d=a(o,c),Hr=!1,Ls&&(d=sg(r,a,o,c)),rg(t),d}function rg(t){G.H=Yn;var r=Ye!==null&&Ye.next!==null;if(Vi=0,_t=Ye=Ce=null,Po=!1,Fa=0,xs=null,r)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&$o(t)&&(wt=!0))}function sg(t,r,a,o){Ce=t;var c=0;do{if(Ls&&(xs=null),Fa=0,Ls=!1,25<=c)throw Error(s(301));if(c+=1,_t=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=jr,d=r(a,o)}while(Ls);return d}function pT(){var t=G.H,r=t.useState()[0];return r=typeof r.then=="function"?qa(r):r,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ce.flags|=1024),r}function pf(){var t=zo!==0;return zo=0,t}function mf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function gf(t){if(Po){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Po=!1}Vi=0,_t=Ye=Ce=null,Ls=!1,Fa=zo=0,xs=null}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ce.memoizedState=_t=t:_t=_t.next=t,_t}function vt(){if(Ye===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var r=_t===null?Ce.memoizedState:_t.next;if(r!==null)_t=r,Ye=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},_t===null?Ce.memoizedState=_t=t:_t=_t.next=t}return _t}var Ho;Ho=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function qa(t){var r=Fa;return Fa+=1,xs===null&&(xs=[]),t=Km(xs,t,r),r=Ce,(_t===null?r.memoizedState:_t.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?Br:Fi),t}function Bo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return qa(t);if(t.$$typeof===b)return qt(t)}throw Error(s(438,String(t)))}function _f(t){var r=null,a=Ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=Ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(c){return c.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ho(),Ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),o=0;o<t;o++)a[o]=de;return r.index++,a}function ci(t,r){return typeof r=="function"?r(t):r}function jo(t){var r=vt();return vf(r,Ye,t)}function vf(t,r,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var c=t.baseQueue,d=o.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}r.baseQueue=c=d,o.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{r=c.next;var v=g=null,S=null,R=r,P=!1;do{var j=R.lane&-536870913;if(j!==R.lane?(Ue&j)===j:(Vi&j)===j){var k=R.revertLane;if(k===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),j===Ms&&(P=!0);else if((Vi&k)===k){R=R.next,k===Ms&&(P=!0);continue}else j={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(v=S=j,g=d):S=S.next=j,Ce.lanes|=k,Zi|=k;j=R.action,Hr&&a(d,j),d=R.hasEagerState?R.eagerState:a(d,j)}else k={lane:j,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(v=S=k,g=d):S=S.next=k,Ce.lanes|=j,Zi|=j;R=R.next}while(R!==null&&R!==r);if(S===null?g=d:S.next=v,!an(d,t.memoizedState)&&(wt=!0,P&&(a=ks,a!==null)))throw a;t.memoizedState=d,t.baseState=g,t.baseQueue=S,o.lastRenderedState=d}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function yf(t){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,c=a.pending,d=r.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do d=t(d,g.action),g=g.next;while(g!==c);an(d,r.memoizedState)||(wt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,o]}function ag(t,r,a){var o=Ce,c=vt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var g=!an((Ye||c).memoizedState,a);if(g&&(c.memoizedState=a,wt=!0),c=c.queue,bf(ug.bind(null,o,c,t),[t]),c.getSnapshot!==r||g||_t!==null&&_t.memoizedState.tag&1){if(o.flags|=2048,Us(9,og.bind(null,o,c,a,r),{destroy:void 0},null),Xe===null)throw Error(s(349));d||(Vi&60)!==0||lg(o,r,a)}return a}function lg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ce.updateQueue,r===null?(r=Ho(),Ce.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function og(t,r,a,o){r.value=a,r.getSnapshot=o,cg(r)&&fg(t)}function ug(t,r,a){return a(function(){cg(r)&&fg(t)})}function cg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!an(t,a)}catch{return!0}}function fg(t){var r=Hi(t,2);r!==null&&Kt(r,t,2)}function Ef(t){var r=Jt();if(typeof t=="function"){var a=t;if(t=a(),Hr){sn(!0);try{a()}finally{sn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:t},r}function dg(t,r,a,o){return t.baseState=a,vf(t,Ye,typeof o=="function"?o:ci)}function mT(t,r,a,o,c){if(qo(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};G.T!==null?a(!0):d.isTransition=!1,o(d),a=r.pending,a===null?(d.next=r.pending=d,hg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function hg(t,r){var a=r.action,o=r.payload,c=t.state;if(r.isTransition){var d=G.T,g={};G.T=g;try{var v=a(c,o),S=G.S;S!==null&&S(g,v),pg(t,r,v)}catch(R){Sf(t,r,R)}finally{G.T=d}}else try{d=a(c,o),pg(t,r,d)}catch(R){Sf(t,r,R)}}function pg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){mg(t,r,o)},function(o){return Sf(t,r,o)}):mg(t,r,a)}function mg(t,r,a){r.status="fulfilled",r.value=a,gg(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,hg(t,a)))}function Sf(t,r,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,gg(r),r=r.next;while(r!==o)}t.action=null}function gg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function _g(t,r){return r}function vg(t,r){if(Be){var a=Xe.formState;if(a!==null){e:{var o=Ce;if(Be){if(xt){t:{for(var c=xt,d=qn;c.nodeType!==8;){if(!d){c=null;break t}if(c=Un(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){xt=Un(c.nextSibling),o=c.data==="F!";break e}}Ur(o)}o=!1}o&&(r=a[0])}}return a=Jt(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_g,lastRenderedState:r},a.queue=o,a=Ug.bind(null,Ce,o),o.dispatch=a,o=Ef(!1),d=Af.bind(null,Ce,!1,o.queue),o=Jt(),c={state:r,dispatch:null,action:t,pending:null},o.queue=c,a=mT.bind(null,Ce,c,d,a),c.dispatch=a,o.memoizedState=t,[r,a,!1]}function yg(t){var r=vt();return Eg(r,Ye,t)}function Eg(t,r,a){r=vf(t,r,_g)[0],t=jo(ci)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?qa(r):r;var o=vt(),c=o.queue,d=c.dispatch;return a!==o.memoizedState&&(Ce.flags|=2048,Us(9,gT.bind(null,c,a),{destroy:void 0},null)),[r,d,t]}function gT(t,r){t.action=r}function Sg(t){var r=vt(),a=Ye;if(a!==null)return Eg(r,a,t);vt(),r=r.memoizedState,a=vt();var o=a.queue.dispatch;return a.memoizedState=t,[r,o,!1]}function Us(t,r,a,o){return t={tag:t,create:r,inst:a,deps:o,next:null},r=Ce.updateQueue,r===null&&(r=Ho(),Ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,r.lastEffect=t),t}function bg(){return vt().memoizedState}function Vo(t,r,a,o){var c=Jt();Ce.flags|=t,c.memoizedState=Us(1|r,a,{destroy:void 0},o===void 0?null:o)}function Fo(t,r,a,o){var c=vt();o=o===void 0?null:o;var d=c.memoizedState.inst;Ye!==null&&o!==null&&df(o,Ye.memoizedState.deps)?c.memoizedState=Us(r,a,d,o):(Ce.flags|=t,c.memoizedState=Us(1|r,a,d,o))}function Tg(t,r){Vo(8390656,8,t,r)}function bf(t,r){Fo(2048,8,t,r)}function wg(t,r){return Fo(4,2,t,r)}function Cg(t,r){return Fo(4,4,t,r)}function Rg(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ag(t,r,a){a=a!=null?a.concat([t]):null,Fo(4,4,Rg.bind(null,r,t),a)}function Tf(){}function Ng(t,r){var a=vt();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&df(r,o[1])?o[0]:(a.memoizedState=[t,r],t)}function Og(t,r){var a=vt();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&df(r,o[1]))return o[0];if(o=t(),Hr){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[o,r],o}function wf(t,r,a){return a===void 0||(Vi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=D_(),Ce.lanes|=t,Zi|=t,a)}function Ig(t,r,a,o){return an(a,r)?a:Ds.current!==null?(t=wf(t,a,o),an(t,r)||(wt=!0),t):(Vi&42)===0?(wt=!0,t.memoizedState=a):(t=D_(),Ce.lanes|=t,Zi|=t,r)}function Dg(t,r,a,o,c){var d=Q.p;Q.p=d!==0&&8>d?d:8;var g=G.T,v={};G.T=v,Af(t,!1,r,a);try{var S=c(),R=G.S;if(R!==null&&R(v,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=dT(S,o);Ga(t,r,P,cn(t))}else Ga(t,r,o,cn(t))}catch(j){Ga(t,r,{then:function(){},status:"rejected",reason:j},cn())}finally{Q.p=d,G.T=g}}function _T(){}function Cf(t,r,a,o){if(t.tag!==5)throw Error(s(476));var c=Mg(t).queue;Dg(t,c,r,be,a===null?_T:function(){return kg(t),a(o)})}function Mg(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:be},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function kg(t){var r=Mg(t).next.queue;Ga(t,r,{},cn())}function Rf(){return qt(fl)}function Lg(){return vt().memoizedState}function xg(){return vt().memoizedState}function vT(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=cn();t=Yi(a);var o=$i(r,t,a);o!==null&&(Kt(o,r,a),Ka(o,r,a)),r={cache:uf()},t.payload=r;return}r=r.return}}function yT(t,r,a){var o=cn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},qo(t)?Pg(r,a):(a=tf(t,r,a,o),a!==null&&(Kt(a,t,o),zg(a,r,o)))}function Ug(t,r,a){var o=cn();Ga(t,r,a,o)}function Ga(t,r,a,o){var c={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(qo(t))Pg(r,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var g=r.lastRenderedState,v=d(g,a);if(c.hasEagerState=!0,c.eagerState=v,an(v,g))return Ao(t,r,c,0),Xe===null&&Ro(),!1}catch{}finally{}if(a=tf(t,r,c,o),a!==null)return Kt(a,t,o),zg(a,r,o),!0}return!1}function Af(t,r,a,o){if(o={lane:2,revertLane:gd(),action:o,hasEagerState:!1,eagerState:null,next:null},qo(t)){if(r)throw Error(s(479))}else r=tf(t,a,o,2),r!==null&&Kt(r,t,2)}function qo(t){var r=t.alternate;return t===Ce||r!==null&&r===Ce}function Pg(t,r){Ls=Po=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function zg(t,r,a){if((a&4194176)!==0){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,fe(t,a)}}var Yn={readContext:qt,use:Bo,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};Yn.useCacheRefresh=mt,Yn.useMemoCache=mt,Yn.useHostTransitionStatus=mt,Yn.useFormState=mt,Yn.useActionState=mt,Yn.useOptimistic=mt;var Br={readContext:qt,use:Bo,useCallback:function(t,r){return Jt().memoizedState=[t,r===void 0?null:r],t},useContext:qt,useEffect:Tg,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Vo(4194308,4,Rg.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Vo(4194308,4,t,r)},useInsertionEffect:function(t,r){Vo(4,2,t,r)},useMemo:function(t,r){var a=Jt();r=r===void 0?null:r;var o=t();if(Hr){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[o,r],o},useReducer:function(t,r,a){var o=Jt();if(a!==void 0){var c=a(r);if(Hr){sn(!0);try{a(r)}finally{sn(!1)}}}else c=r;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=yT.bind(null,Ce,t),[o.memoizedState,t]},useRef:function(t){var r=Jt();return t={current:t},r.memoizedState=t},useState:function(t){t=Ef(t);var r=t.queue,a=Ug.bind(null,Ce,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Tf,useDeferredValue:function(t,r){var a=Jt();return wf(a,t,r)},useTransition:function(){var t=Ef(!1);return t=Dg.bind(null,Ce,t.queue,!0,!1),Jt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var o=Ce,c=Jt();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Xe===null)throw Error(s(349));(Ue&60)!==0||lg(o,r,a)}c.memoizedState=a;var d={value:a,getSnapshot:r};return c.queue=d,Tg(ug.bind(null,o,d,t),[t]),o.flags|=2048,Us(9,og.bind(null,o,d,a,r),{destroy:void 0},null),a},useId:function(){var t=Jt(),r=Xe.identifierPrefix;if(Be){var a=oi,o=li;a=(o&~(1<<32-Ft(o)-1)).toString(32)+a,r=":"+r+"R"+a,a=zo++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=hT++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},useCacheRefresh:function(){return Jt().memoizedState=vT.bind(null,Ce)}};Br.useMemoCache=_f,Br.useHostTransitionStatus=Rf,Br.useFormState=vg,Br.useActionState=vg,Br.useOptimistic=function(t){var r=Jt();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Af.bind(null,Ce,!0,a),a.dispatch=r,[t,r]};var Fi={readContext:qt,use:Bo,useCallback:Ng,useContext:qt,useEffect:bf,useImperativeHandle:Ag,useInsertionEffect:wg,useLayoutEffect:Cg,useMemo:Og,useReducer:jo,useRef:bg,useState:function(){return jo(ci)},useDebugValue:Tf,useDeferredValue:function(t,r){var a=vt();return Ig(a,Ye.memoizedState,t,r)},useTransition:function(){var t=jo(ci)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:qa(t),r]},useSyncExternalStore:ag,useId:Lg};Fi.useCacheRefresh=xg,Fi.useMemoCache=_f,Fi.useHostTransitionStatus=Rf,Fi.useFormState=yg,Fi.useActionState=yg,Fi.useOptimistic=function(t,r){var a=vt();return dg(a,Ye,t,r)};var jr={readContext:qt,use:Bo,useCallback:Ng,useContext:qt,useEffect:bf,useImperativeHandle:Ag,useInsertionEffect:wg,useLayoutEffect:Cg,useMemo:Og,useReducer:yf,useRef:bg,useState:function(){return yf(ci)},useDebugValue:Tf,useDeferredValue:function(t,r){var a=vt();return Ye===null?wf(a,t,r):Ig(a,Ye.memoizedState,t,r)},useTransition:function(){var t=yf(ci)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:qa(t),r]},useSyncExternalStore:ag,useId:Lg};jr.useCacheRefresh=xg,jr.useMemoCache=_f,jr.useHostTransitionStatus=Rf,jr.useFormState=Sg,jr.useActionState=Sg,jr.useOptimistic=function(t,r){var a=vt();return Ye!==null?dg(a,Ye,t,r):(a.baseState=t,[t,a.queue.dispatch])};function Nf(t,r,a,o){r=t.memoizedState,a=a(o,r),a=a==null?r:ae({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Of={isMounted:function(t){return(t=t._reactInternals)?ue(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var o=cn(),c=Yi(o);c.payload=r,a!=null&&(c.callback=a),r=$i(t,c,o),r!==null&&(Kt(r,t,o),Ka(r,t,o))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var o=cn(),c=Yi(o);c.tag=1,c.payload=r,a!=null&&(c.callback=a),r=$i(t,c,o),r!==null&&(Kt(r,t,o),Ka(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=cn(),o=Yi(a);o.tag=2,r!=null&&(o.callback=r),r=$i(t,o,a),r!==null&&(Kt(r,t,a),Ka(r,t,a))}};function Hg(t,r,a,o,c,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,g):r.prototype&&r.prototype.isPureReactComponent?!Ma(a,o)||!Ma(c,d):!0}function Bg(t,r,a,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==t&&Of.enqueueReplaceState(r,r.state,null)}function Vr(t,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(t=t.defaultProps){a===r&&(a=ae({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Go=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function jg(t){Go(t)}function Vg(t){console.error(t)}function Fg(t){Go(t)}function Yo(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function qg(t,r,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function If(t,r,a){return a=Yi(a),a.tag=3,a.payload={element:null},a.callback=function(){Yo(t,r)},a}function Gg(t){return t=Yi(t),t.tag=3,t}function Yg(t,r,a,o){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;t.payload=function(){return c(d)},t.callback=function(){qg(r,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){qg(r,a,o),typeof c!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function ET(t,r,a,o,c){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&$a(r,a,c,!0),a=bn.current,a!==null){switch(a.tag){case 13:return Gn===null?fd():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=c,o===af?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),hd(t,o,c)),!1;case 22:return a.flags|=65536,o===af?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),hd(t,o,c)),!1}throw Error(s(435,a.tag))}return hd(t,o,c),fd(),!1}if(Be)return r=bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=c,o!==sf&&(t=Error(s(422),{cause:o}),Ua(yn(t,a)))):(o!==sf&&(r=Error(s(423),{cause:o}),Ua(yn(r,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=yn(o,a),c=If(t.stateNode,o,c),Gf(t,c),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:o});if(d=yn(d,a),nl===null?nl=[d]:nl.push(d),ft!==4&&(ft=2),r===null)return!0;o=yn(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=If(a.stateNode,o,t),Gf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ji===null||!Ji.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Gg(c),Yg(c,t,a,o),Gf(a,c),!1}a=a.return}while(a!==null);return!1}var $g=Error(s(461)),wt=!1;function Ut(t,r,a,o){r.child=t===null?Zm(r,null,a,o):Pr(r,t.child,a,o)}function Kg(t,r,a,o,c){a=a.render;var d=r.ref;if("ref"in o){var g={};for(var v in o)v!=="ref"&&(g[v]=o[v])}else g=o;return qr(r),o=hf(t,r,a,g,d,c),v=pf(),t!==null&&!wt?(mf(t,r,c),fi(t,r,c)):(Be&&v&&nf(r),r.flags|=1,Ut(t,r,o,c),r.child)}function Wg(t,r,a,o,c){if(t===null){var d=a.type;return typeof d=="function"&&!Jf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Qg(t,r,d,o,c)):(t=Xo(a.type,null,o,r,r.mode,c),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Hf(t,c)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ma,a(g,o)&&t.ref===r.ref)return fi(t,r,c)}return r.flags|=1,t=Xi(d,o),t.ref=r.ref,t.return=r,r.child=t}function Qg(t,r,a,o,c){if(t!==null){var d=t.memoizedProps;if(Ma(d,o)&&t.ref===r.ref)if(wt=!1,r.pendingProps=o=d,Hf(t,c))(t.flags&131072)!==0&&(wt=!0);else return r.lanes=t.lanes,fi(t,r,c)}return Df(t,r,a,o,c)}function Xg(t,r,a){var o=r.pendingProps,c=o.children,d=(r.stateNode._pendingVisibility&2)!==0,g=t!==null?t.memoizedState:null;if(Ya(t,r),o.mode==="hidden"||d){if((r.flags&128)!==0){if(o=g!==null?g.baseLanes|a:a,t!==null){for(c=r.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;r.childLanes=d&~o}else r.childLanes=0,r.child=null;return Zg(t,r,o,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uo(r,g!==null?g.cachePool:null),g!==null?Jm(r,g):lf(),eg(r);else return r.lanes=r.childLanes=536870912,Zg(t,r,g!==null?g.baseLanes|a:a,a)}else g!==null?(Uo(r,g.cachePool),Jm(r,g),ji(),r.memoizedState=null):(t!==null&&Uo(r,null),lf(),ji());return Ut(t,r,c,a),r.child}function Zg(t,r,a,o){var c=ff();return c=c===null?null:{parent:St._currentValue,pool:c},r.memoizedState={baseLanes:a,cachePool:c},t!==null&&Uo(r,null),lf(),eg(r),t!==null&&$a(t,r,o,!0),null}function Ya(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=2097664)}}function Df(t,r,a,o,c){return qr(r),a=hf(t,r,a,o,void 0,c),o=pf(),t!==null&&!wt?(mf(t,r,c),fi(t,r,c)):(Be&&o&&nf(r),r.flags|=1,Ut(t,r,a,c),r.child)}function Jg(t,r,a,o,c,d){return qr(r),r.updateQueue=null,a=sg(r,o,a,c),rg(t),o=pf(),t!==null&&!wt?(mf(t,r,d),fi(t,r,d)):(Be&&o&&nf(r),r.flags|=1,Ut(t,r,a,d),r.child)}function e_(t,r,a,o,c){if(qr(r),r.stateNode===null){var d=As,g=a.contextType;typeof g=="object"&&g!==null&&(d=qt(g)),d=new a(o,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Of,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=o,d.state=r.memoizedState,d.refs={},Ff(r),g=a.contextType,d.context=typeof g=="object"&&g!==null?qt(g):As,d.state=r.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Nf(r,a,g,o),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Of.enqueueReplaceState(d,d.state,null),Qa(r,o,d,c),Wa(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){d=r.stateNode;var v=r.memoizedProps,S=Vr(a,v);d.props=S;var R=d.context,P=a.contextType;g=As,typeof P=="object"&&P!==null&&(g=qt(P));var j=a.getDerivedStateFromProps;P=typeof j=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=r.pendingProps!==v,P||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||R!==g)&&Bg(r,d,o,g),Gi=!1;var k=r.memoizedState;d.state=k,Qa(r,o,d,c),Wa(),R=r.memoizedState,v||k!==R||Gi?(typeof j=="function"&&(Nf(r,a,j,o),R=r.memoizedState),(S=Gi||Hg(r,a,S,o,k,R,g))?(P||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=R),d.props=o,d.state=R,d.context=g,o=S):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{d=r.stateNode,qf(t,r),g=r.memoizedProps,P=Vr(a,g),d.props=P,j=r.pendingProps,k=d.context,R=a.contextType,S=As,typeof R=="object"&&R!==null&&(S=qt(R)),v=a.getDerivedStateFromProps,(R=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==j||k!==S)&&Bg(r,d,o,S),Gi=!1,k=r.memoizedState,d.state=k,Qa(r,o,d,c),Wa();var x=r.memoizedState;g!==j||k!==x||Gi||t!==null&&t.dependencies!==null&&$o(t.dependencies)?(typeof v=="function"&&(Nf(r,a,v,o),x=r.memoizedState),(P=Gi||Hg(r,a,P,o,k,x,S)||t!==null&&t.dependencies!==null&&$o(t.dependencies))?(R||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,x,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,x,S)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=x),d.props=o,d.state=x,d.context=S,o=P):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(r.flags|=1024),o=!1)}return d=o,Ya(t,r),o=(r.flags&128)!==0,d||o?(d=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&o?(r.child=Pr(r,t.child,null,c),r.child=Pr(r,null,a,c)):Ut(t,r,a,c),r.memoizedState=d.state,t=r.child):t=fi(t,r,c),t}function t_(t,r,a,o){return xa(),r.flags|=256,Ut(t,r,a,o),r.child}var Mf={dehydrated:null,treeContext:null,retryLane:0};function kf(t){return{baseLanes:t,cachePool:ig()}}function Lf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Rn),t}function n_(t,r,a){var o=r.pendingProps,c=!1,d=(r.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),g&&(c=!0,r.flags&=-129),g=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(c?Bi(r):ji(),Be){var v=xt,S;if(S=v){e:{for(S=v,v=qn;S.nodeType!==8;){if(!v){v=null;break e}if(S=Un(S.nextSibling),S===null){v=null;break e}}v=S}v!==null?(r.memoizedState={dehydrated:v,treeContext:Lr!==null?{id:li,overflow:oi}:null,retryLane:536870912},S=Cn(18,null,null,0),S.stateNode=v,S.return=r,r.child=S,$t=r,xt=null,S=!0):S=!1}S||Ur(r)}if(v=r.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return v.data==="$!"?r.lanes=16:r.lanes=536870912,null;ui(r)}return v=o.children,o=o.fallback,c?(ji(),c=r.mode,v=Uf({mode:"hidden",children:v},c),o=Yr(o,c,a,null),v.return=r,o.return=r,v.sibling=o,r.child=v,c=r.child,c.memoizedState=kf(a),c.childLanes=Lf(t,g,a),r.memoizedState=Mf,o):(Bi(r),xf(r,v))}if(S=t.memoizedState,S!==null&&(v=S.dehydrated,v!==null)){if(d)r.flags&256?(Bi(r),r.flags&=-257,r=Pf(t,r,a)):r.memoizedState!==null?(ji(),r.child=t.child,r.flags|=128,r=null):(ji(),c=o.fallback,v=r.mode,o=Uf({mode:"visible",children:o.children},v),c=Yr(c,v,a,null),c.flags|=2,o.return=r,c.return=r,o.sibling=c,r.child=o,Pr(r,t.child,null,a),o=r.child,o.memoizedState=kf(a),o.childLanes=Lf(t,g,a),r.memoizedState=Mf,r=c);else if(Bi(r),v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var R=g.dgst;g=R,o=Error(s(419)),o.stack="",o.digest=g,Ua({value:o,source:null,stack:null}),r=Pf(t,r,a)}else if(wt||$a(t,r,a,!1),g=(a&t.childLanes)!==0,wt||g){if(g=Xe,g!==null){if(o=a&-a,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(g.suspendedLanes|a))!==0?0:o,o!==0&&o!==S.retryLane)throw S.retryLane=o,Hi(t,o),Kt(g,t,o),$g}v.data==="$?"||fd(),r=Pf(t,r,a)}else v.data==="$?"?(r.flags|=128,r.child=t.child,r=xT.bind(null,t),v._reactRetry=r,r=null):(t=S.treeContext,xt=Un(v.nextSibling),$t=r,Be=!0,Ln=null,qn=!1,t!==null&&(En[Sn++]=li,En[Sn++]=oi,En[Sn++]=Lr,li=t.id,oi=t.overflow,Lr=r),r=xf(r,o.children),r.flags|=4096);return r}return c?(ji(),c=o.fallback,v=r.mode,S=t.child,R=S.sibling,o=Xi(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&31457280,R!==null?c=Xi(R,c):(c=Yr(c,v,a,null),c.flags|=2),c.return=r,o.return=r,o.sibling=c,r.child=o,o=c,c=r.child,v=t.child.memoizedState,v===null?v=kf(a):(S=v.cachePool,S!==null?(R=St._currentValue,S=S.parent!==R?{parent:R,pool:R}:S):S=ig(),v={baseLanes:v.baseLanes|a,cachePool:S}),c.memoizedState=v,c.childLanes=Lf(t,g,a),r.memoizedState=Mf,o):(Bi(r),a=t.child,t=a.sibling,a=Xi(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,t!==null&&(g=r.deletions,g===null?(r.deletions=[t],r.flags|=16):g.push(t)),r.child=a,r.memoizedState=null,a)}function xf(t,r){return r=Uf({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Uf(t,r){return N_(t,r,0,null)}function Pf(t,r,a){return Pr(r,t.child,null,a),t=xf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function i_(t,r,a){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),jf(t.return,r,a)}function zf(t,r,a,o,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=c)}function r_(t,r,a){var o=r.pendingProps,c=o.revealOrder,d=o.tail;if(Ut(t,r,o.children,a),o=Et.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i_(t,a,r);else if(t.tag===19)i_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Ve(Et,o),c){case"forwards":for(a=r.child,c=null;a!==null;)t=a.alternate,t!==null&&xo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=r.child,r.child=null):(c=a.sibling,a.sibling=null),zf(r,!1,c,a,d);break;case"backwards":for(a=null,c=r.child,r.child=null;c!==null;){if(t=c.alternate,t!==null&&xo(t)===null){r.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}zf(r,!0,a,null,d);break;case"together":zf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function fi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Zi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if($a(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Xi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Xi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Hf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&$o(t)))}function ST(t,r,a){switch(r.tag){case 3:ms(r,r.stateNode.containerInfo),qi(r,St,t.memoizedState.cache),xa();break;case 27:case 5:Ea(r);break;case 4:ms(r,r.stateNode.containerInfo);break;case 10:qi(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(Bi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?n_(t,r,a):(Bi(r),t=fi(t,r,a),t!==null?t.sibling:null);Bi(r);break;case 19:var c=(t.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||($a(t,r,a,!1),o=(a&r.childLanes)!==0),c){if(o)return r_(t,r,a);r.flags|=128}if(c=r.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ve(Et,Et.current),o)break;return null;case 22:case 23:return r.lanes=0,Xg(t,r,a);case 24:qi(r,St,t.memoizedState.cache)}return fi(t,r,a)}function s_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)wt=!0;else{if(!Hf(t,a)&&(r.flags&128)===0)return wt=!1,ST(t,r,a);wt=(t.flags&131072)!==0}else wt=!1,Be&&(r.flags&1048576)!==0&&Fm(r,Io,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var o=r.elementType,c=o._init;if(o=c(o._payload),r.type=o,typeof o=="function")Jf(o)?(t=Vr(o,t),r.tag=1,r=e_(null,r,o,t,a)):(r.tag=0,r=Df(null,r,o,t,a));else{if(o!=null){if(c=o.$$typeof,c===N){r.tag=11,r=Kg(null,r,o,t,a);break e}else if(c===B){r.tag=14,r=Wg(null,r,o,t,a);break e}}throw r=ce(o)||o,Error(s(306,r,""))}}return r;case 0:return Df(t,r,r.type,r.pendingProps,a);case 1:return o=r.type,c=Vr(o,r.pendingProps),e_(t,r,o,c,a);case 3:e:{if(ms(r,r.stateNode.containerInfo),t===null)throw Error(s(387));var d=r.pendingProps;c=r.memoizedState,o=c.element,qf(t,r),Qa(r,d,null,a);var g=r.memoizedState;if(d=g.cache,qi(r,St,d),d!==c.cache&&Vf(r,[St],a,!0),Wa(),d=g.element,c.isDehydrated)if(c={element:d,isDehydrated:!1,cache:g.cache},r.updateQueue.baseState=c,r.memoizedState=c,r.flags&256){r=t_(t,r,d,a);break e}else if(d!==o){o=yn(Error(s(424)),r),Ua(o),r=t_(t,r,d,a);break e}else for(xt=Un(r.stateNode.containerInfo.firstChild),$t=r,Be=!0,Ln=null,qn=!0,a=Zm(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(xa(),d===o){r=fi(t,r,a);break e}Ut(t,r,d,a)}r=r.child}return r;case 26:return Ya(t,r),t===null?(a=ov(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,o=uu(Vt.current).createElement(a),o[J]=r,o[ve]=t,Pt(o,a,t),Qe(o),r.stateNode=o):r.memoizedState=ov(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ea(r),t===null&&Be&&(o=r.stateNode=sv(r.type,r.pendingProps,Vt.current),$t=r,qn=!0,xt=Un(o.firstChild)),o=r.pendingProps.children,t!==null||Be?Ut(t,r,o,a):r.child=Pr(r,null,o,a),Ya(t,r),r.child;case 5:return t===null&&Be&&((c=o=xt)&&(o=XT(o,r.type,r.pendingProps,qn),o!==null?(r.stateNode=o,$t=r,xt=Un(o.firstChild),qn=!1,c=!0):c=!1),c||Ur(r)),Ea(r),c=r.type,d=r.pendingProps,g=t!==null?t.memoizedProps:null,o=d.children,Cd(c,d)?o=null:g!==null&&Cd(c,g)&&(r.flags|=32),r.memoizedState!==null&&(c=hf(t,r,pT,null,null,a),fl._currentValue=c),Ya(t,r),Ut(t,r,o,a),r.child;case 6:return t===null&&Be&&((t=a=xt)&&(a=ZT(a,r.pendingProps,qn),a!==null?(r.stateNode=a,$t=r,xt=null,t=!0):t=!1),t||Ur(r)),null;case 13:return n_(t,r,a);case 4:return ms(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=Pr(r,null,o,a):Ut(t,r,o,a),r.child;case 11:return Kg(t,r,r.type,r.pendingProps,a);case 7:return Ut(t,r,r.pendingProps,a),r.child;case 8:return Ut(t,r,r.pendingProps.children,a),r.child;case 12:return Ut(t,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,qi(r,r.type,o.value),Ut(t,r,o.children,a),r.child;case 9:return c=r.type._context,o=r.pendingProps.children,qr(r),c=qt(c),o=o(c),r.flags|=1,Ut(t,r,o,a),r.child;case 14:return Wg(t,r,r.type,r.pendingProps,a);case 15:return Qg(t,r,r.type,r.pendingProps,a);case 19:return r_(t,r,a);case 22:return Xg(t,r,a);case 24:return qr(r),o=qt(St),t===null?(c=ff(),c===null&&(c=Xe,d=uf(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),r.memoizedState={parent:o,cache:c},Ff(r),qi(r,St,c)):((t.lanes&a)!==0&&(qf(t,r),Qa(r,null,null,a),Wa()),c=t.memoizedState,d=r.memoizedState,c.parent!==o?(c={parent:o,cache:o},r.memoizedState=c,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=c),qi(r,St,o)):(o=d.cache,qi(r,St,o),o!==c.cache&&Vf(r,[St],a,!0))),Ut(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Bf=He(null),Fr=null,di=null;function qi(t,r,a){Ve(Bf,r._currentValue),r._currentValue=a}function hi(t){t._currentValue=Bf.current,Me(Bf)}function jf(t,r,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===a)break;t=t.return}}function Vf(t,r,a,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var v=d;d=c;for(var S=0;S<r.length;S++)if(v.context===r[S]){d.lanes|=a,v=d.alternate,v!==null&&(v.lanes|=a),jf(d.return,a,t),o||(g=null);break e}d=v.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),jf(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function $a(t,r,a,o){t=null;for(var c=r,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var v=c.type;an(c.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(c===ps.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(fl):t=[fl])}c=c.return}t!==null&&Vf(r,t,a,o),r.flags|=262144}function $o(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qr(t){Fr=t,di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return a_(Fr,t)}function Ko(t,r){return Fr===null&&qr(t),a_(t,r)}function a_(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},di===null){if(t===null)throw Error(s(308));di=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else di=di.next=r;return a}var Gi=!1;function Ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $i(t,r,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(lt&2)!==0){var c=o.pending;return c===null?r.next=r:(r.next=c.next,c.next=r),o.pending=r,r=No(t),jm(t,null,a),r}return Ao(t,o,r,a),No(t)}function Ka(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,fe(t,a)}}function Gf(t,r){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?c=d=r:d=d.next=r}else c=d=r;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Yf=!1;function Wa(){if(Yf){var t=ks;if(t!==null)throw t}}function Qa(t,r,a,o){Yf=!1;var c=t.updateQueue;Gi=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var S=v,R=S.next;S.next=null,g===null?d=R:g.next=R,g=S;var P=t.alternate;P!==null&&(P=P.updateQueue,v=P.lastBaseUpdate,v!==g&&(v===null?P.firstBaseUpdate=R:v.next=R,P.lastBaseUpdate=S))}if(d!==null){var j=c.baseState;g=0,P=R=S=null,v=d;do{var k=v.lane&-536870913,x=k!==v.lane;if(x?(Ue&k)===k:(o&k)===k){k!==0&&k===Ms&&(Yf=!0),P!==null&&(P=P.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var se=t,Ee=v;k=r;var dt=a;switch(Ee.tag){case 1:if(se=Ee.payload,typeof se=="function"){j=se.call(dt,j,k);break e}j=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=Ee.payload,k=typeof se=="function"?se.call(dt,j,k):se,k==null)break e;j=ae({},j,k);break e;case 2:Gi=!0}}k=v.callback,k!==null&&(t.flags|=64,x&&(t.flags|=8192),x=c.callbacks,x===null?c.callbacks=[k]:x.push(k))}else x={lane:k,tag:v.tag,payload:v.payload,callback:v.callback,next:null},P===null?(R=P=x,S=j):P=P.next=x,g|=k;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;x=v,v=x.next,x.next=null,c.lastBaseUpdate=x,c.shared.pending=null}}while(!0);P===null&&(S=j),c.baseState=S,c.firstBaseUpdate=R,c.lastBaseUpdate=P,d===null&&(c.shared.lanes=0),Zi|=g,t.lanes=g,t.memoizedState=j}}function l_(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function o_(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)l_(a[t],r)}function Xa(t,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&t)===t){o=void 0;var d=a.create,g=a.inst;o=d(),g.destroy=o}a=a.next}while(a!==c)}}catch(v){We(r,r.return,v)}}function Ki(t,r,a){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&t)===t){var g=o.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,c=r;var S=a;try{v()}catch(R){We(c,S,R)}}}o=o.next}while(o!==d)}}catch(R){We(r,r.return,R)}}function u_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{o_(r,a)}catch(o){We(t,t.return,o)}}}function c_(t,r,a){a.props=Vr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){We(t,r,o)}}function Gr(t,r){try{var a=t.ref;if(a!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=o;break;default:c=o}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(d){We(t,r,d)}}function ln(t,r){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(c){We(t,r,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){We(t,r,c)}else a.current=null}function f_(t){var r=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(c){We(t,t.return,c)}}function d_(t,r,a){try{var o=t.stateNode;YT(o,t.type,a,r),o[ve]=r}catch(c){We(t,t.return,c)}}function h_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function $f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ou));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Kf(t,r,a),t=t.sibling;t!==null;)Kf(t,r,a),t=t.sibling}function Wo(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Wo(t,r,a),t=t.sibling;t!==null;)Wo(t,r,a),t=t.sibling}var pi=!1,ct=!1,Wf=!1,p_=typeof WeakSet=="function"?WeakSet:Set,Ct=null,m_=!1;function bT(t,r){if(t=t.containerInfo,Td=mu,t=Mm(t),Qc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,v=-1,S=-1,R=0,P=0,j=t,k=null;t:for(;;){for(var x;j!==a||c!==0&&j.nodeType!==3||(v=g+c),j!==d||o!==0&&j.nodeType!==3||(S=g+o),j.nodeType===3&&(g+=j.nodeValue.length),(x=j.firstChild)!==null;)k=j,j=x;for(;;){if(j===t)break t;if(k===a&&++R===c&&(v=g),k===d&&++P===o&&(S=g),(x=j.nextSibling)!==null)break;j=k,k=j.parentNode}j=x}a=v===-1||S===-1?null:{start:v,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(wd={focusedElem:t,selectionRange:a},mu=!1,Ct=r;Ct!==null;)if(r=Ct,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ct=t;else for(;Ct!==null;){switch(r=Ct,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,c=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var se=Vr(a.type,c,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(se,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){We(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Nd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ct=t;break}Ct=r.return}return se=m_,m_=!1,se}function g_(t,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:gi(t,a),o&4&&Xa(5,a);break;case 1:if(gi(t,a),o&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var c=Vr(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(c,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}o&64&&u_(a),o&512&&Gr(a,a.return);break;case 3:if(gi(t,a),o&64&&(o=a.updateQueue,o!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{o_(o,t)}catch(v){We(a,a.return,v)}}break;case 26:gi(t,a),o&512&&Gr(a,a.return);break;case 27:case 5:gi(t,a),r===null&&o&4&&f_(a),o&512&&Gr(a,a.return);break;case 12:gi(t,a);break;case 13:gi(t,a),o&4&&y_(t,a);break;case 22:if(c=a.memoizedState!==null||pi,!c){r=r!==null&&r.memoizedState!==null||ct;var d=pi,g=ct;pi=c,(ct=r)&&!g?Wi(t,a,(a.subtreeFlags&8772)!==0):gi(t,a),pi=d,ct=g}o&512&&(a.memoizedProps.mode==="manual"?Gr(a,a.return):ln(a,a.return));break;default:gi(t,a)}}function __(t){var r=t.alternate;r!==null&&(t.alternate=null,__(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ii(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,on=!1;function mi(t,r,a){for(a=a.child;a!==null;)v_(t,r,a),a=a.sibling}function v_(t,r,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Pi,a)}catch{}switch(a.tag){case 26:ct||ln(a,r),mi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||ln(a,r);var o=yt,c=on;for(yt=a.stateNode,mi(t,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);ii(a),yt=o,on=c;break;case 5:ct||ln(a,r);case 6:c=yt;var d=on;if(yt=null,mi(t,r,a),yt=c,on=d,yt!==null)if(on)try{t=yt,o=a.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(g){We(a,r,g)}else try{yt.removeChild(a.stateNode)}catch(g){We(a,r,g)}break;case 18:yt!==null&&(on?(r=yt,a=a.stateNode,r.nodeType===8?Ad(r.parentNode,a):r.nodeType===1&&Ad(r,a),ml(r)):Ad(yt,a.stateNode));break;case 4:o=yt,c=on,yt=a.stateNode.containerInfo,on=!0,mi(t,r,a),yt=o,on=c;break;case 0:case 11:case 14:case 15:ct||Ki(2,a,r),ct||Ki(4,a,r),mi(t,r,a);break;case 1:ct||(ln(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&c_(a,r,o)),mi(t,r,a);break;case 21:mi(t,r,a);break;case 22:ct||ln(a,r),ct=(o=ct)||a.memoizedState!==null,mi(t,r,a),ct=o;break;default:mi(t,r,a)}}function y_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ml(t)}catch(a){We(r,r.return,a)}}function TT(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new p_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new p_),r;default:throw Error(s(435,t.tag))}}function Qf(t,r){var a=TT(t);r.forEach(function(o){var c=UT.bind(null,t,o);a.has(o)||(a.add(o),o.then(c,c))})}function Tn(t,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],d=t,g=r,v=g;e:for(;v!==null;){switch(v.tag){case 27:case 5:yt=v.stateNode,on=!1;break e;case 3:yt=v.stateNode.containerInfo,on=!0;break e;case 4:yt=v.stateNode.containerInfo,on=!0;break e}v=v.return}if(yt===null)throw Error(s(160));v_(d,g,c),yt=null,on=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)E_(r,t),r=r.sibling}var xn=null;function E_(t,r){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(r,t),wn(t),o&4&&(Ki(3,t,t.return),Xa(3,t),Ki(5,t,t.return));break;case 1:Tn(r,t),wn(t),o&512&&(ct||a===null||ln(a,a.return)),o&64&&pi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var c=xn;if(Tn(r,t),wn(t),o&512&&(ct||a===null||ln(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":d=c.getElementsByTagName("title")[0],(!d||d[pn]||d[J]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(o),c.head.insertBefore(d,c.querySelector("head > title"))),Pt(d,o,a),d[J]=t,Qe(d),o=d;break e;case"link":var g=fv("link","href",c).get(o+(a.href||""));if(g){for(var v=0;v<g.length;v++)if(d=g[v],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(v,1);break t}}d=c.createElement(o),Pt(d,o,a),c.head.appendChild(d);break;case"meta":if(g=fv("meta","content",c).get(o+(a.content||""))){for(v=0;v<g.length;v++)if(d=g[v],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(v,1);break t}}d=c.createElement(o),Pt(d,o,a),c.head.appendChild(d);break;default:throw Error(s(468,o))}d[J]=t,Qe(d),o=d}t.stateNode=o}else dv(c,t.type,t.stateNode);else t.stateNode=cv(c,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?dv(c,t.type,t.stateNode):cv(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&d_(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){c=t.stateNode,d=t.memoizedProps;try{for(var S=c.firstChild;S;){var R=S.nextSibling,P=S.nodeName;S[pn]||P==="HEAD"||P==="BODY"||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=R}for(var j=t.type,k=c.attributes;k.length;)c.removeAttributeNode(k[0]);Pt(c,j,d),c[J]=t,c[ve]=d}catch(se){We(t,t.return,se)}}case 5:if(Tn(r,t),wn(t),o&512&&(ct||a===null||ln(a,a.return)),t.flags&32){c=t.stateNode;try{Es(c,"")}catch(se){We(t,t.return,se)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,d_(t,c,a!==null?a.memoizedProps:c)),o&1024&&(Wf=!0);break;case 6:if(Tn(r,t),wn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(se){We(t,t.return,se)}}break;case 3:if(du=null,c=xn,xn=cu(r.containerInfo),Tn(r,t),xn=c,wn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ml(r.containerInfo)}catch(se){We(t,t.return,se)}Wf&&(Wf=!1,S_(t));break;case 4:o=xn,xn=cu(t.stateNode.containerInfo),Tn(r,t),wn(t),xn=o;break;case 12:Tn(r,t),wn(t);break;case 13:Tn(r,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sd=Qt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Qf(t,o)));break;case 22:if(o&512&&(ct||a===null||ln(a,a.return)),S=t.memoizedState!==null,R=a!==null&&a.memoizedState!==null,P=pi,j=ct,pi=P||S,ct=j||R,Tn(r,t),ct=j,pi=P,wn(t),r=t.stateNode,r._current=t,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,o&8192&&(r._visibility=S?r._visibility&-2:r._visibility|1,S&&(r=pi||ct,a===null||R||r||Ps(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,r=t;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){R=a=r;try{if(c=R.stateNode,S)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=R.stateNode,v=R.memoizedProps.style;var x=v!=null&&v.hasOwnProperty("display")?v.display:null;g.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(se){We(R,R.return,se)}}}else if(r.tag===6){if(a===null){R=r;try{R.stateNode.nodeValue=S?"":R.memoizedProps}catch(se){We(R,R.return,se)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Qf(t,a))));break;case 19:Tn(r,t),wn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Qf(t,o)));break;case 21:break;default:Tn(r,t),wn(t)}}function wn(t){var r=t.flags;if(r&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(h_(a)){var o=a;break e}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var c=o.stateNode,d=$f(t);Wo(t,d,c);break;case 5:var g=o.stateNode;o.flags&32&&(Es(g,""),o.flags&=-33);var v=$f(t);Wo(t,v,g);break;case 3:case 4:var S=o.stateNode.containerInfo,R=$f(t);Kf(t,R,S);break;default:throw Error(s(161))}}}catch(P){We(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function S_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;S_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function gi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)g_(t,r.alternate,r),r=r.sibling}function Ps(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ki(4,r,r.return),Ps(r);break;case 1:ln(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&c_(r,r.return,a),Ps(r);break;case 26:case 27:case 5:ln(r,r.return),Ps(r);break;case 22:ln(r,r.return),r.memoizedState===null&&Ps(r);break;default:Ps(r)}t=t.sibling}}function Wi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,c=t,d=r,g=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(c,d,a),Xa(4,d);break;case 1:if(Wi(c,d,a),o=d,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(R){We(o,o.return,R)}if(o=d,c=o.updateQueue,c!==null){var v=o.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)l_(S[c],v)}catch(R){We(o,o.return,R)}}a&&g&64&&u_(d),Gr(d,d.return);break;case 26:case 27:case 5:Wi(c,d,a),a&&o===null&&g&4&&f_(d),Gr(d,d.return);break;case 12:Wi(c,d,a);break;case 13:Wi(c,d,a),a&&g&4&&y_(c,d);break;case 22:d.memoizedState===null&&Wi(c,d,a),Gr(d,d.return);break;default:Wi(c,d,a)}r=r.sibling}}function Xf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ja(a))}function Zf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ja(t))}function Qi(t,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)b_(t,r,a,o),r=r.sibling}function b_(t,r,a,o){var c=r.flags;switch(r.tag){case 0:case 11:case 15:Qi(t,r,a,o),c&2048&&Xa(9,r);break;case 3:Qi(t,r,a,o),c&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ja(t)));break;case 12:if(c&2048){Qi(t,r,a,o),t=r.stateNode;try{var d=r.memoizedProps,g=d.id,v=d.onPostCommit;typeof v=="function"&&v(g,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){We(r,r.return,S)}}else Qi(t,r,a,o);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?Qi(t,r,a,o):Za(t,r):d._visibility&4?Qi(t,r,a,o):(d._visibility|=4,zs(t,r,a,o,(r.subtreeFlags&10256)!==0)),c&2048&&Xf(r.alternate,r);break;case 24:Qi(t,r,a,o),c&2048&&Zf(r.alternate,r);break;default:Qi(t,r,a,o)}}function zs(t,r,a,o,c){for(c=c&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,g=r,v=a,S=o,R=g.flags;switch(g.tag){case 0:case 11:case 15:zs(d,g,v,S,c),Xa(8,g);break;case 23:break;case 22:var P=g.stateNode;g.memoizedState!==null?P._visibility&4?zs(d,g,v,S,c):Za(d,g):(P._visibility|=4,zs(d,g,v,S,c)),c&&R&2048&&Xf(g.alternate,g);break;case 24:zs(d,g,v,S,c),c&&R&2048&&Zf(g.alternate,g);break;default:zs(d,g,v,S,c)}r=r.sibling}}function Za(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,o=r,c=o.flags;switch(o.tag){case 22:Za(a,o),c&2048&&Xf(o.alternate,o);break;case 24:Za(a,o),c&2048&&Zf(o.alternate,o);break;default:Za(a,o)}r=r.sibling}}var Ja=8192;function Hs(t){if(t.subtreeFlags&Ja)for(t=t.child;t!==null;)T_(t),t=t.sibling}function T_(t){switch(t.tag){case 26:Hs(t),t.flags&Ja&&t.memoizedState!==null&&fw(xn,t.memoizedState,t.memoizedProps);break;case 5:Hs(t);break;case 3:case 4:var r=xn;xn=cu(t.stateNode.containerInfo),Hs(t),xn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Ja,Ja=16777216,Hs(t),Ja=r):Hs(t));break;default:Hs(t)}}function w_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function el(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];Ct=o,R_(o,t)}w_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)C_(t),t=t.sibling}function C_(t){switch(t.tag){case 0:case 11:case 15:el(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:el(t);break;case 12:el(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&4&&(t.return===null||t.return.tag!==13)?(r._visibility&=-5,Qo(t)):el(t);break;default:el(t)}}function Qo(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];Ct=o,R_(o,t)}w_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ki(8,r,r.return),Qo(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Qo(r));break;default:Qo(r)}t=t.sibling}}function R_(t,r){for(;Ct!==null;){var a=Ct;switch(a.tag){case 0:case 11:case 15:Ki(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ja(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ct=o;else e:for(a=t;Ct!==null;){o=Ct;var c=o.sibling,d=o.return;if(__(o),o===a){Ct=null;break e}if(c!==null){c.return=d,Ct=c;break e}Ct=d}}}function wT(t,r,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,r,a,o){return new wT(t,r,a,o)}function Jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,r){var a=t.alternate;return a===null?(a=Cn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function A_(t,r){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Xo(t,r,a,o,c,d){var g=0;if(o=t,typeof t=="function")Jf(t)&&(g=1);else if(typeof t=="string")g=uw(t,a,rn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Yr(a.children,c,d,r);case m:g=8,c|=24;break;case _:return t=Cn(12,a,r,c|2),t.elementType=_,t.lanes=d,t;case H:return t=Cn(13,a,r,c),t.elementType=H,t.lanes=d,t;case U:return t=Cn(19,a,r,c),t.elementType=U,t.lanes=d,t;case $:return N_(a,c,d,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y:case b:g=10;break e;case E:g=9;break e;case N:g=11;break e;case B:g=14;break e;case q:g=16,o=null;break e}g=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return r=Cn(g,a,r,c),r.elementType=t,r.type=o,r.lanes=d,r}function Yr(t,r,a,o){return t=Cn(7,t,o,r),t.lanes=a,t}function N_(t,r,a,o){t=Cn(22,t,o,r),t.elementType=$,t.lanes=a;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=c._current;if(d===null)throw Error(s(456));if((c._pendingVisibility&2)===0){var g=Hi(d,2);g!==null&&(c._pendingVisibility|=2,Kt(g,d,2))}},attach:function(){var d=c._current;if(d===null)throw Error(s(456));if((c._pendingVisibility&2)!==0){var g=Hi(d,2);g!==null&&(c._pendingVisibility&=-3,Kt(g,d,2))}}};return t.stateNode=c,t}function ed(t,r,a){return t=Cn(6,t,null,r),t.lanes=a,t}function td(t,r,a){return r=Cn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function _i(t){t.flags|=4}function O_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!hv(r)){if(r=bn.current,r!==null&&((Ue&4194176)===Ue?Gn!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==Gn))throw za=af,Ym;t.flags|=8192}}function Zo(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?I():536870912,t.lanes|=r,js|=r)}function tl(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(r)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&31457280,o|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=a,r}function CT(t,r,a){var o=r.pendingProps;switch(rf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),hi(St),ti(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(La(r)?_i(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ln!==null&&(ud(Ln),Ln=null))),at(r),null;case 26:return a=r.memoizedState,t===null?(_i(r),a!==null?(at(r),O_(r,a)):(at(r),r.flags&=-16777217)):a?a!==t.memoizedState?(_i(r),at(r),O_(r,a)):(at(r),r.flags&=-16777217):(t.memoizedProps!==o&&_i(r),at(r),r.flags&=-16777217),null;case 27:gs(r),a=Vt.current;var c=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&_i(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return at(r),null}t=rn.current,La(r)?qm(r):(t=sv(c,o,a),r.stateNode=t,_i(r))}return at(r),null;case 5:if(gs(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&_i(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(t=rn.current,La(r))qm(r);else{switch(c=uu(Vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?c.createElement(a,{is:o.is}):c.createElement(a)}}t[J]=r,t[ve]=o;e:for(c=r.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===r)break e;for(;c.sibling===null;){if(c.return===null||c.return===r)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r.stateNode=t;e:switch(Pt(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&_i(r)}}return at(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&_i(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(s(166));if(t=Vt.current,La(r)){if(t=r.stateNode,a=r.memoizedProps,o=null,c=$t,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[J]=r,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||J_(t.nodeValue,a)),t||Ur(r)}else t=uu(t).createTextNode(o),t[J]=r,r.stateNode=t}return at(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=La(r),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=r.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[J]=r}else xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),c=!1}else Ln!==null&&(ud(Ln),Ln=null),c=!0;if(!c)return r.flags&256?(ui(r),r):(ui(r),null)}if(ui(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=r.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Zo(r,r.updateQueue),at(r),null;case 4:return ti(),t===null&&Ed(r.stateNode.containerInfo),at(r),null;case 10:return hi(r.type),at(r),null;case 19:if(Me(Et),c=r.memoizedState,c===null)return at(r),null;if(o=(r.flags&128)!==0,d=c.rendering,d===null)if(o)tl(c,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=xo(t),d!==null){for(r.flags|=128,tl(c,!1),t=d.updateQueue,r.updateQueue=t,Zo(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)A_(a,t),a=a.sibling;return Ve(Et,Et.current&1|2),r.child}t=t.sibling}c.tail!==null&&Qt()>Jo&&(r.flags|=128,o=!0,tl(c,!1),r.lanes=4194304)}else{if(!o)if(t=xo(d),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,Zo(r,t),tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Be)return at(r),null}else 2*Qt()-c.renderingStartTime>Jo&&a!==536870912&&(r.flags|=128,o=!0,tl(c,!1),r.lanes=4194304);c.isBackwards?(d.sibling=r.child,r.child=d):(t=c.last,t!==null?t.sibling=d:r.child=d,c.last=d)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=Qt(),r.sibling=null,t=Et.current,Ve(Et,o?t&1|2:t&1),r):(at(r),null);case 22:case 23:return ui(r),of(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&Zo(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),t!==null&&Me(zr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),hi(St),at(r),null;case 25:return null}throw Error(s(156,r.tag))}function RT(t,r){switch(rf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return hi(St),ti(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return gs(r),null;case 13:if(ui(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));xa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Me(Et),null;case 4:return ti(),null;case 10:return hi(r.type),null;case 22:case 23:return ui(r),of(),t!==null&&Me(zr),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return hi(St),null;case 25:return null;default:return null}}function I_(t,r){switch(rf(r),r.tag){case 3:hi(St),ti();break;case 26:case 27:case 5:gs(r);break;case 4:ti();break;case 13:ui(r);break;case 19:Me(Et);break;case 10:hi(r.type);break;case 22:case 23:ui(r),of(),t!==null&&Me(zr);break;case 24:hi(St)}}var AT={getCacheForType:function(t){var r=qt(St),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},NT=typeof WeakMap=="function"?WeakMap:Map,lt=0,Xe=null,Ne=null,Ue=0,Ze=0,un=null,vi=!1,Bs=!1,nd=!1,yi=0,ft=0,Zi=0,$r=0,id=0,Rn=0,js=0,nl=null,$n=null,rd=!1,sd=0,Jo=1/0,eu=null,Ji=null,tu=!1,Kr=null,il=0,ad=0,ld=null,rl=0,od=null;function cn(){if((lt&2)!==0&&Ue!==0)return Ue&-Ue;if(G.T!==null){var t=Ms;return t!==0?t:gd()}return le()}function D_(){Rn===0&&(Rn=(Ue&536870912)===0||Be?T():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function Kt(t,r,a){(t===Xe&&Ze===2||t.cancelPendingCommit!==null)&&(Vs(t,0),Ei(t,Ue,Rn,!1)),F(t,a),((lt&2)===0||t!==Xe)&&(t===Xe&&((lt&2)===0&&($r|=a),ft===4&&Ei(t,Ue,Rn,!1)),Kn(t))}function M_(t,r,a){if((lt&6)!==0)throw Error(s(327));var o=!a&&(r&60)===0&&(r&t.expiredLanes)===0||Ar(t,r),c=o?DT(t,r):dd(t,r,!0),d=o;do{if(c===0){Bs&&!o&&Ei(t,r,0,!1);break}else if(c===6)Ei(t,r,0,!vi);else{if(a=t.current.alternate,d&&!OT(a)){c=dd(t,r,!1),d=!1;continue}if(c===2){if(d=r,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){r=g;e:{var v=t;c=nl;var S=v.current.memoizedState.isDehydrated;if(S&&(Vs(v,g).flags|=256),g=dd(v,g,!1),g!==2){if(nd&&!S){v.errorRecoveryDisabledLanes|=d,$r|=d,c=4;break e}d=$n,$n=c,d!==null&&ud(d)}c=g}if(d=!1,c!==2)continue}}if(c===1){Vs(t,0),Ei(t,r,0,!0);break}e:{switch(o=t,c){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){Ei(o,r,Rn,!vi);break e}break;case 2:$n=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=r,(r&62914560)===r&&(d=sd+300-Qt(),10<d)){if(Ei(o,r,Rn,!vi),ni(o,0)!==0)break e;o.timeoutHandle=nv(k_.bind(null,o,a,$n,eu,rd,r,Rn,$r,js,vi,2,-0,0),d);break e}k_(o,a,$n,eu,rd,r,Rn,$r,js,vi,0,-0,0)}}break}while(!0);Kn(t)}function ud(t){$n===null?$n=t:$n.push.apply($n,t)}function k_(t,r,a,o,c,d,g,v,S,R,P,j,k){var x=r.subtreeFlags;if((x&8192||(x&16785408)===16785408)&&(cl={stylesheets:null,count:0,unsuspend:cw},T_(r),r=dw(),r!==null)){t.cancelPendingCommit=r(B_.bind(null,t,a,o,c,g,v,S,1,j,k)),Ei(t,d,g,!R);return}B_(t,a,o,c,g,v,S,P,j,k)}function OT(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var c=a[o],d=c.getSnapshot;c=c.value;try{if(!an(d(),c))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ei(t,r,a,o){r&=~id,r&=~$r,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var c=r;0<c;){var d=31-Ft(c),g=1<<d;o[d]=-1,c&=~g}a!==0&&he(t,a,r)}function nu(){return(lt&6)===0?(sl(0),!1):!0}function cd(){if(Ne!==null){if(Ze===0)var t=Ne.return;else t=Ne,di=Fr=null,gf(t),Is=null,Ha=0,t=Ne;for(;t!==null;)I_(t.alternate,t),t=t.return;Ne=null}}function Vs(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,KT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cd(),Xe=t,Ne=a=Xi(t.current,null),Ue=r,Ze=0,un=null,vi=!1,Bs=Ar(t,r),nd=!1,js=Rn=id=$r=Zi=ft=0,$n=nl=null,rd=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var c=31-Ft(o),d=1<<c;r|=t[c],o&=~d}return yi=r,Ro(),a}function L_(t,r){Ce=null,G.H=Yn,r===Pa?(r=Wm(),Ze=3):r===Ym?(r=Wm(),Ze=4):Ze=r===$g?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,un=r,Ne===null&&(ft=1,Yo(t,yn(r,t.current)))}function x_(){var t=G.H;return G.H=Yn,t===null?Yn:t}function U_(){var t=G.A;return G.A=AT,t}function fd(){ft=4,vi||(Ue&4194176)!==Ue&&bn.current!==null||(Bs=!0),(Zi&134217727)===0&&($r&134217727)===0||Xe===null||Ei(Xe,Ue,Rn,!1)}function dd(t,r,a){var o=lt;lt|=2;var c=x_(),d=U_();(Xe!==t||Ue!==r)&&(eu=null,Vs(t,r)),r=!1;var g=ft;e:do try{if(Ze!==0&&Ne!==null){var v=Ne,S=un;switch(Ze){case 8:cd(),g=6;break e;case 3:case 2:case 6:bn.current===null&&(r=!0);var R=Ze;if(Ze=0,un=null,Fs(t,v,S,R),a&&Bs){g=0;break e}break;default:R=Ze,Ze=0,un=null,Fs(t,v,S,R)}}IT(),g=ft;break}catch(P){L_(t,P)}while(!0);return r&&t.shellSuspendCounter++,di=Fr=null,lt=o,G.H=c,G.A=d,Ne===null&&(Xe=null,Ue=0,Ro()),g}function IT(){for(;Ne!==null;)P_(Ne)}function DT(t,r){var a=lt;lt|=2;var o=x_(),c=U_();Xe!==t||Ue!==r?(eu=null,Jo=Qt()+500,Vs(t,r)):Bs=Ar(t,r);e:do try{if(Ze!==0&&Ne!==null){r=Ne;var d=un;t:switch(Ze){case 1:Ze=0,un=null,Fs(t,r,d,1);break;case 2:if($m(d)){Ze=0,un=null,z_(r);break}r=function(){Ze===2&&Xe===t&&(Ze=7),Kn(t)},d.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:$m(d)?(Ze=0,un=null,z_(r)):(Ze=0,un=null,Fs(t,r,d,7));break;case 5:var g=null;switch(Ne.tag){case 26:g=Ne.memoizedState;case 5:case 27:var v=Ne;if(!g||hv(g)){Ze=0,un=null;var S=v.sibling;if(S!==null)Ne=S;else{var R=v.return;R!==null?(Ne=R,iu(R)):Ne=null}break t}}Ze=0,un=null,Fs(t,r,d,5);break;case 6:Ze=0,un=null,Fs(t,r,d,6);break;case 8:cd(),ft=6;break e;default:throw Error(s(462))}}MT();break}catch(P){L_(t,P)}while(!0);return di=Fr=null,G.H=o,G.A=c,lt=a,Ne!==null?0:(Xe=null,Ue=0,Ro(),ft)}function MT(){for(;Ne!==null&&!Cr();)P_(Ne)}function P_(t){var r=s_(t.alternate,t,yi);t.memoizedProps=t.pendingProps,r===null?iu(t):Ne=r}function z_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Jg(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=Jg(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:gf(r);default:I_(a,r),r=Ne=A_(r,yi),r=s_(a,r,yi)}t.memoizedProps=t.pendingProps,r===null?iu(t):Ne=r}function Fs(t,r,a,o){di=Fr=null,gf(r),Is=null,Ha=0;var c=r.return;try{if(ET(t,c,r,a,Ue)){ft=1,Yo(t,yn(a,t.current)),Ne=null;return}}catch(d){if(c!==null)throw Ne=c,d;ft=1,Yo(t,yn(a,t.current)),Ne=null;return}r.flags&32768?(Be||o===1?t=!0:Bs||(Ue&536870912)!==0?t=!1:(vi=t=!0,(o===2||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),H_(r,t)):iu(r)}function iu(t){var r=t;do{if((r.flags&32768)!==0){H_(r,vi);return}t=r.return;var a=CT(r.alternate,r,yi);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);ft===0&&(ft=5)}function H_(t,r){do{var a=RT(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ft=6,Ne=null}function B_(t,r,a,o,c,d,g,v,S,R){var P=G.T,j=Q.p;try{Q.p=2,G.T=null,kT(t,r,a,o,j,c,d,g,v,S,R)}finally{G.T=P,Q.p=j}}function kT(t,r,a,o,c,d,g,v){do qs();while(Kr!==null);if((lt&6)!==0)throw Error(s(327));var S=t.finishedWork;if(o=t.finishedLanes,S===null)return null;if(t.finishedWork=null,t.finishedLanes=0,S===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var R=S.lanes|S.childLanes;if(R|=ef,W(t,o,R,d,g,v),t===Xe&&(Ne=Xe=null,Ue=0),(S.subtreeFlags&10256)===0&&(S.flags&10256)===0||tu||(tu=!0,ad=R,ld=a,PT(Ui,function(){return qs(),null})),a=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||a?(a=G.T,G.T=null,d=Q.p,Q.p=2,g=lt,lt|=4,bT(t,S),E_(S,t),iT(wd,t.containerInfo),mu=!!Td,wd=Td=null,t.current=S,g_(t,S.alternate,S),uo(),lt=g,Q.p=d,G.T=a):t.current=S,tu?(tu=!1,Kr=t,il=o):j_(t,R),R=t.pendingLanes,R===0&&(Ji=null),ho(S.stateNode),Kn(t),r!==null)for(c=t.onRecoverableError,S=0;S<r.length;S++)R=r[S],c(R.value,{componentStack:R.stack});return(il&3)!==0&&qs(),R=t.pendingLanes,(o&4194218)!==0&&(R&42)!==0?t===od?rl++:(rl=0,od=t):rl=0,sl(0),null}function j_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ja(r)))}function qs(){if(Kr!==null){var t=Kr,r=ad;ad=0;var a=re(il),o=G.T,c=Q.p;try{if(Q.p=32>a?32:a,G.T=null,Kr===null)var d=!1;else{a=ld,ld=null;var g=Kr,v=il;if(Kr=null,il=0,(lt&6)!==0)throw Error(s(331));var S=lt;if(lt|=4,C_(g.current),b_(g,g.current,v,a),lt=S,sl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Pi,g)}catch{}d=!0}return d}finally{Q.p=c,G.T=o,j_(t,r)}}return!1}function V_(t,r,a){r=yn(a,r),r=If(t.stateNode,r,2),t=$i(t,r,2),t!==null&&(F(t,2),Kn(t))}function We(t,r,a){if(t.tag===3)V_(t,t,a);else for(;r!==null;){if(r.tag===3){V_(r,t,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ji===null||!Ji.has(o))){t=yn(a,t),a=Gg(2),o=$i(r,a,2),o!==null&&(Yg(a,o,r,t),F(o,2),Kn(o));break}}r=r.return}}function hd(t,r,a){var o=t.pingCache;if(o===null){o=t.pingCache=new NT;var c=new Set;o.set(r,c)}else c=o.get(r),c===void 0&&(c=new Set,o.set(r,c));c.has(a)||(nd=!0,c.add(a),t=LT.bind(null,t,r,a),r.then(t,t))}function LT(t,r,a){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xe===t&&(Ue&a)===a&&(ft===4||ft===3&&(Ue&62914560)===Ue&&300>Qt()-sd?(lt&2)===0&&Vs(t,0):id|=a,js===Ue&&(js=0)),Kn(t)}function F_(t,r){r===0&&(r=I()),t=Hi(t,r),t!==null&&(F(t,r),Kn(t))}function xT(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),F_(t,a)}function UT(t,r){var a=0;switch(t.tag){case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(r),F_(t,a)}function PT(t,r){return ba(t,r)}var ru=null,Gs=null,pd=!1,su=!1,md=!1,Wr=0;function Kn(t){t!==Gs&&t.next===null&&(Gs===null?ru=Gs=t:Gs=Gs.next=t),su=!0,pd||(pd=!0,HT(zT))}function sl(t,r){if(!md&&su){md=!0;do for(var a=!1,o=ru;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var d=0;else{var g=o.suspendedLanes,v=o.pingedLanes;d=(1<<31-Ft(42|t)+1)-1,d&=c&~(g&~v),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Y_(o,d))}else d=Ue,d=ni(o,o===Xe?d:0),(d&3)===0||Ar(o,d)||(a=!0,Y_(o,d));o=o.next}while(a);md=!1}}function zT(){su=pd=!1;var t=0;Wr!==0&&($T()&&(t=Wr),Wr=0);for(var r=Qt(),a=null,o=ru;o!==null;){var c=o.next,d=q_(o,r);d===0?(o.next=null,a===null?ru=c:a.next=c,c===null&&(Gs=a)):(a=o,(t!==0||(d&3)!==0)&&(su=!0)),o=c}sl(t)}function q_(t,r){for(var a=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Ft(d),v=1<<g,S=c[g];S===-1?((v&a)===0||(v&o)!==0)&&(c[g]=Lc(v,r)):S<=r&&(t.expiredLanes|=v),d&=~v}if(r=Xe,a=Ue,a=ni(t,t===r?a:0),o=t.callbackNode,a===0||t===r&&Ze===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Dn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ar(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(o!==null&&Dn(o),re(a)){case 2:case 8:a=Ta;break;case 32:a=Ui;break;case 268435456:a=Mn;break;default:a=Ui}return o=G_.bind(null,t),a=ba(a,o),t.callbackPriority=r,t.callbackNode=a,r}return o!==null&&o!==null&&Dn(o),t.callbackPriority=2,t.callbackNode=null,2}function G_(t,r){var a=t.callbackNode;if(qs()&&t.callbackNode!==a)return null;var o=Ue;return o=ni(t,t===Xe?o:0),o===0?null:(M_(t,o,r),q_(t,Qt()),t.callbackNode!=null&&t.callbackNode===a?G_.bind(null,t):null)}function Y_(t,r){if(qs())return null;M_(t,r,!0)}function HT(t){WT(function(){(lt&6)!==0?ba(dn,t):t()})}function gd(){return Wr===0&&(Wr=T()),Wr}function $_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:yo(""+t)}function K_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function BT(t,r,a,o,c){if(r==="submit"&&a&&a.stateNode===c){var d=$_((c[ve]||null).action),g=o.submitter;g&&(r=(r=g[ve]||null)?$_(r.formAction):g.getAttribute("formAction"),r!==null&&(d=r,g=null));var v=new To("action","action",null,o,c);t.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Wr!==0){var S=g?K_(c,g):new FormData(c);Cf(a,{pending:!0,data:S,method:c.method,action:d},null,S)}}else typeof d=="function"&&(v.preventDefault(),S=g?K_(c,g):new FormData(c),Cf(a,{pending:!0,data:S,method:c.method,action:d},d,S))},currentTarget:c}]})}}for(var _d=0;_d<Bm.length;_d++){var vd=Bm[_d],jT=vd.toLowerCase(),VT=vd[0].toUpperCase()+vd.slice(1);kn(jT,"on"+VT)}kn(xm,"onAnimationEnd"),kn(Um,"onAnimationIteration"),kn(Pm,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(sT,"onTransitionRun"),kn(aT,"onTransitionStart"),kn(lT,"onTransitionCancel"),kn(zm,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function W_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],c=o.event;o=o.listeners;e:{var d=void 0;if(r)for(var g=o.length-1;0<=g;g--){var v=o[g],S=v.instance,R=v.currentTarget;if(v=v.listener,S!==d&&c.isPropagationStopped())break e;d=v,c.currentTarget=R;try{d(c)}catch(P){Go(P)}c.currentTarget=null,d=S}else for(g=0;g<o.length;g++){if(v=o[g],S=v.instance,R=v.currentTarget,v=v.listener,S!==d&&c.isPropagationStopped())break e;d=v,c.currentTarget=R;try{d(c)}catch(P){Go(P)}c.currentTarget=null,d=S}}}}function Le(t,r){var a=r[gt];a===void 0&&(a=r[gt]=new Set);var o=t+"__bubble";a.has(o)||(Q_(r,t,2,!1),a.add(o))}function yd(t,r,a){var o=0;r&&(o|=4),Q_(a,t,o,r)}var au="_reactListening"+Math.random().toString(36).slice(2);function Ed(t){if(!t[au]){t[au]=!0,Nr.forEach(function(a){a!=="selectionchange"&&(FT.has(a)||yd(a,!1,t),yd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[au]||(r[au]=!0,yd("selectionchange",!1,r))}}function Q_(t,r,a,o){switch(yv(r)){case 2:var c=mw;break;case 8:c=gw;break;default:c=kd}a=c.bind(null,r,a,t),c=void 0,!jc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(r,a,{capture:!0,passive:c}):t.addEventListener(r,a,!0):c!==void 0?t.addEventListener(r,a,{passive:c}):t.addEventListener(r,a,!1)}function Sd(t,r,a,o,c){var d=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===c||v.nodeType===8&&v.parentNode===c)break;if(g===4)for(g=o.return;g!==null;){var S=g.tag;if((S===3||S===4)&&(S=g.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;g=g.return}for(;v!==null;){if(g=kt(v),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){o=d=g;continue e}v=v.parentNode}}o=o.return}fm(function(){var R=d,P=Hc(a),j=[];e:{var k=Hm.get(t);if(k!==void 0){var x=To,se=t;switch(t){case"keypress":if(So(a)===0)break e;case"keydown":case"keyup":x=Ub;break;case"focusin":se="focus",x=Gc;break;case"focusout":se="blur",x=Gc;break;case"beforeblur":case"afterblur":x=Gc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=pm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=wb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Hb;break;case xm:case Um:case Pm:x=Ab;break;case zm:x=jb;break;case"scroll":case"scrollend":x=bb;break;case"wheel":x=Fb;break;case"copy":case"cut":case"paste":x=Ob;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=gm;break;case"toggle":case"beforetoggle":x=Gb}var Ee=(r&4)!==0,dt=!Ee&&(t==="scroll"||t==="scrollend"),O=Ee?k!==null?k+"Capture":null:k;Ee=[];for(var C=R,D;C!==null;){var z=C;if(D=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||D===null||O===null||(z=Ca(C,O),z!=null&&Ee.push(ll(C,z,D))),dt)break;C=C.return}0<Ee.length&&(k=new x(k,se,null,a,P),j.push({event:k,listeners:Ee}))}}if((r&7)===0){e:{if(k=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",k&&a!==zc&&(se=a.relatedTarget||a.fromElement)&&(kt(se)||se[Ge]))break e;if((x||k)&&(k=P.window===P?P:(k=P.ownerDocument)?k.defaultView||k.parentWindow:window,x?(se=a.relatedTarget||a.toElement,x=R,se=se?kt(se):null,se!==null&&(dt=ue(se),Ee=se.tag,se!==dt||Ee!==5&&Ee!==27&&Ee!==6)&&(se=null)):(x=null,se=R),x!==se)){if(Ee=pm,z="onMouseLeave",O="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=gm,z="onPointerLeave",O="onPointerEnter",C="pointer"),dt=x==null?k:ri(x),D=se==null?k:ri(se),k=new Ee(z,C+"leave",x,a,P),k.target=dt,k.relatedTarget=D,z=null,kt(P)===R&&(Ee=new Ee(O,C+"enter",se,a,P),Ee.target=D,Ee.relatedTarget=dt,z=Ee),dt=z,x&&se)t:{for(Ee=x,O=se,C=0,D=Ee;D;D=Ys(D))C++;for(D=0,z=O;z;z=Ys(z))D++;for(;0<C-D;)Ee=Ys(Ee),C--;for(;0<D-C;)O=Ys(O),D--;for(;C--;){if(Ee===O||O!==null&&Ee===O.alternate)break t;Ee=Ys(Ee),O=Ys(O)}Ee=null}else Ee=null;x!==null&&X_(j,k,x,Ee,!1),se!==null&&dt!==null&&X_(j,dt,se,Ee,!0)}}e:{if(k=R?ri(R):window,x=k.nodeName&&k.nodeName.toLowerCase(),x==="select"||x==="input"&&k.type==="file")var ee=wm;else if(bm(k))if(Cm)ee=tT;else{ee=Jb;var Re=Zb}else x=k.nodeName,!x||x.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?R&&Pc(R.elementType)&&(ee=wm):ee=eT;if(ee&&(ee=ee(t,R))){Tm(j,ee,a,P);break e}Re&&Re(t,k,R),t==="focusout"&&R&&k.type==="number"&&R.memoizedProps.value!=null&&Uc(k,"number",k.value)}switch(Re=R?ri(R):window,t){case"focusin":(bm(Re)||Re.contentEditable==="true")&&(ws=Re,Xc=R,ka=null);break;case"focusout":ka=Xc=ws=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,km(j,a,P);break;case"selectionchange":if(rT)break;case"keydown":case"keyup":km(j,a,P)}var oe;if($c)e:{switch(t){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Ts?Em(t,a)&&(pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(pe="onCompositionStart");pe&&(_m&&a.locale!=="ko"&&(Ts||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Ts&&(oe=dm()):(zi=P,Vc="value"in zi?zi.value:zi.textContent,Ts=!0)),Re=lu(R,pe),0<Re.length&&(pe=new mm(pe,t,null,a,P),j.push({event:pe,listeners:Re}),oe?pe.data=oe:(oe=Sm(a),oe!==null&&(pe.data=oe)))),(oe=$b?Kb(t,a):Wb(t,a))&&(pe=lu(R,"onBeforeInput"),0<pe.length&&(Re=new mm("onBeforeInput","beforeinput",null,a,P),j.push({event:Re,listeners:pe}),Re.data=oe)),BT(j,t,R,a,P)}W_(j,r)})}function ll(t,r,a){return{instance:t,listener:r,currentTarget:a}}function lu(t,r){for(var a=r+"Capture",o=[];t!==null;){var c=t,d=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Ca(t,a),c!=null&&o.unshift(ll(t,c,d)),c=Ca(t,r),c!=null&&o.push(ll(t,c,d))),t=t.return}return o}function Ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function X_(t,r,a,o,c){for(var d=r._reactName,g=[];a!==null&&a!==o;){var v=a,S=v.alternate,R=v.stateNode;if(v=v.tag,S!==null&&S===o)break;v!==5&&v!==26&&v!==27||R===null||(S=R,c?(R=Ca(a,d),R!=null&&g.unshift(ll(a,R,S))):c||(R=Ca(a,d),R!=null&&g.push(ll(a,R,S)))),a=a.return}g.length!==0&&t.push({event:r,listeners:g})}var qT=/\r\n?/g,GT=/\u0000|\uFFFD/g;function Z_(t){return(typeof t=="string"?t:""+t).replace(qT,`
`).replace(GT,"")}function J_(t,r){return r=Z_(r),Z_(t)===r}function ou(){}function $e(t,r,a,o,c,d){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||Es(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&Es(t,""+o);break;case"className":go(t,"class",o);break;case"tabIndex":go(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":go(t,a,o);break;case"style":um(t,o,d);break;case"data":if(r!=="object"){go(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=yo(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&$e(t,r,"name",c.name,c,null),$e(t,r,"formEncType",c.formEncType,c,null),$e(t,r,"formMethod",c.formMethod,c,null),$e(t,r,"formTarget",c.formTarget,c,null)):($e(t,r,"encType",c.encType,c,null),$e(t,r,"method",c.method,c,null),$e(t,r,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=yo(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ou);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=yo(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Le("beforetoggle",t),Le("toggle",t),vs(t,"popover",o);break;case"xlinkActuate":ai(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ai(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ai(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ai(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ai(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ai(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ai(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ai(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ai(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":vs(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eb.get(a)||a,vs(t,a,o))}}function bd(t,r,a,o,c,d){switch(a){case"style":um(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Es(t,o):(typeof o=="number"||typeof o=="bigint")&&Es(t,""+o);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ou);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),r=a.slice(2,c?a.length-7:void 0),d=t[ve]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,c),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,o,c);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):vs(t,a,o)}}}function Pt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var o=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,d,g,a,null)}}c&&$e(t,r,"srcSet",a.srcSet,a,null),o&&$e(t,r,"src",a.src,a,null);return;case"input":Le("invalid",t);var v=d=g=c=null,S=null,R=null;for(o in a)if(a.hasOwnProperty(o)){var P=a[o];if(P!=null)switch(o){case"name":c=P;break;case"type":g=P;break;case"checked":S=P;break;case"defaultChecked":R=P;break;case"value":d=P;break;case"defaultValue":v=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,r));break;default:$e(t,r,o,P,a,null)}}sm(t,d,v,S,R,g,c,!1),_o(t);return;case"select":Le("invalid",t),o=g=d=null;for(c in a)if(a.hasOwnProperty(c)&&(v=a[c],v!=null))switch(c){case"value":d=v;break;case"defaultValue":g=v;break;case"multiple":o=v;default:$e(t,r,c,v,a,null)}r=d,a=g,t.multiple=!!o,r!=null?ys(t,!!o,r,!1):a!=null&&ys(t,!!o,a,!0);return;case"textarea":Le("invalid",t),d=c=o=null;for(g in a)if(a.hasOwnProperty(g)&&(v=a[g],v!=null))switch(g){case"value":o=v;break;case"defaultValue":c=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:$e(t,r,g,v,a,null)}lm(t,o,c,d),_o(t);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(o=a[S],o!=null))switch(S){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$e(t,r,S,o,a,null)}return;case"dialog":Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(o=0;o<al.length;o++)Le(al[o],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,R,o,a,null)}return;default:if(Pc(r)){for(P in a)a.hasOwnProperty(P)&&(o=a[P],o!==void 0&&bd(t,r,P,o,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(o=a[v],o!=null&&$e(t,r,v,o,a,null))}function YT(t,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,v=null,S=null,R=null,P=null;for(x in a){var j=a[x];if(a.hasOwnProperty(x)&&j!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":S=j;default:o.hasOwnProperty(x)||$e(t,r,x,null,o,j)}}for(var k in o){var x=o[k];if(j=a[k],o.hasOwnProperty(k)&&(x!=null||j!=null))switch(k){case"type":d=x;break;case"name":c=x;break;case"checked":R=x;break;case"defaultChecked":P=x;break;case"value":g=x;break;case"defaultValue":v=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(137,r));break;default:x!==j&&$e(t,r,k,x,o,j)}}xc(t,g,v,S,R,P,d,c);return;case"select":x=g=v=k=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":x=S;default:o.hasOwnProperty(d)||$e(t,r,d,null,o,S)}for(c in o)if(d=o[c],S=a[c],o.hasOwnProperty(c)&&(d!=null||S!=null))switch(c){case"value":k=d;break;case"defaultValue":v=d;break;case"multiple":g=d;default:d!==S&&$e(t,r,c,d,o,S)}r=v,a=g,o=x,k!=null?ys(t,!!a,k,!1):!!o!=!!a&&(r!=null?ys(t,!!a,r,!0):ys(t,!!a,a?[]:"",!1));return;case"textarea":x=k=null;for(v in a)if(c=a[v],a.hasOwnProperty(v)&&c!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:$e(t,r,v,null,o,c)}for(g in o)if(c=o[g],d=a[g],o.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":k=c;break;case"defaultValue":x=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==d&&$e(t,r,g,c,o,d)}am(t,k,x);return;case"option":for(var se in a)if(k=a[se],a.hasOwnProperty(se)&&k!=null&&!o.hasOwnProperty(se))switch(se){case"selected":t.selected=!1;break;default:$e(t,r,se,null,o,k)}for(S in o)if(k=o[S],x=a[S],o.hasOwnProperty(S)&&k!==x&&(k!=null||x!=null))switch(S){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:$e(t,r,S,k,o,x)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)k=a[Ee],a.hasOwnProperty(Ee)&&k!=null&&!o.hasOwnProperty(Ee)&&$e(t,r,Ee,null,o,k);for(R in o)if(k=o[R],x=a[R],o.hasOwnProperty(R)&&k!==x&&(k!=null||x!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,r));break;default:$e(t,r,R,k,o,x)}return;default:if(Pc(r)){for(var dt in a)k=a[dt],a.hasOwnProperty(dt)&&k!==void 0&&!o.hasOwnProperty(dt)&&bd(t,r,dt,void 0,o,k);for(P in o)k=o[P],x=a[P],!o.hasOwnProperty(P)||k===x||k===void 0&&x===void 0||bd(t,r,P,k,o,x);return}}for(var O in a)k=a[O],a.hasOwnProperty(O)&&k!=null&&!o.hasOwnProperty(O)&&$e(t,r,O,null,o,k);for(j in o)k=o[j],x=a[j],!o.hasOwnProperty(j)||k===x||k==null&&x==null||$e(t,r,j,k,o,x)}var Td=null,wd=null;function uu(t){return t.nodeType===9?t:t.ownerDocument}function ev(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Cd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rd=null;function $T(){var t=window.event;return t&&t.type==="popstate"?t===Rd?!1:(Rd=t,!0):(Rd=null,!1)}var nv=typeof setTimeout=="function"?setTimeout:void 0,KT=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,WT=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(t){return iv.resolve(null).then(t).catch(QT)}:nv;function QT(t){setTimeout(function(){throw t})}function Ad(t,r){var a=r,o=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(o===0){t.removeChild(c),ml(r);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=c}while(a);ml(r)}function Nd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nd(a),ii(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function XT(t,r,a,o){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[pn])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function ZT(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Un(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}function rv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function sv(t,r,a){switch(r=uu(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var An=new Map,av=new Set;function cu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Si=Q.d;Q.d={f:JT,r:ew,D:tw,C:nw,L:iw,m:rw,X:aw,S:sw,M:lw};function JT(){var t=Si.f(),r=nu();return t||r}function ew(t){var r=Lt(t);r!==null&&r.tag===5&&r.type==="form"?kg(r):Si.r(t)}var $s=typeof document>"u"?null:document;function lv(t,r,a){var o=$s;if(o&&typeof r=="string"&&r){var c=_n(r);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),av.has(c)||(av.add(c),t={rel:t,crossOrigin:a,href:r},o.querySelector(c)===null&&(r=o.createElement("link"),Pt(r,"link",t),Qe(r),o.head.appendChild(r)))}}function tw(t){Si.D(t),lv("dns-prefetch",t,null)}function nw(t,r){Si.C(t,r),lv("preconnect",t,r)}function iw(t,r,a){Si.L(t,r,a);var o=$s;if(o&&t&&r){var c='link[rel="preload"][as="'+_n(r)+'"]';r==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+_n(a.imageSizes)+'"]')):c+='[href="'+_n(t)+'"]';var d=c;switch(r){case"style":d=Ks(t);break;case"script":d=Ws(t)}An.has(d)||(t=ae({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),An.set(d,t),o.querySelector(c)!==null||r==="style"&&o.querySelector(ol(d))||r==="script"&&o.querySelector(ul(d))||(r=o.createElement("link"),Pt(r,"link",t),Qe(r),o.head.appendChild(r)))}}function rw(t,r){Si.m(t,r);var a=$s;if(a&&t){var o=r&&typeof r.as=="string"?r.as:"script",c='link[rel="modulepreload"][as="'+_n(o)+'"][href="'+_n(t)+'"]',d=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ws(t)}if(!An.has(d)&&(t=ae({rel:"modulepreload",href:t},r),An.set(d,t),a.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ul(d)))return}o=a.createElement("link"),Pt(o,"link",t),Qe(o),a.head.appendChild(o)}}}function sw(t,r,a){Si.S(t,r,a);var o=$s;if(o&&t){var c=mn(o).hoistableStyles,d=Ks(t);r=r||"default";var g=c.get(d);if(!g){var v={loading:0,preload:null};if(g=o.querySelector(ol(d)))v.loading=5;else{t=ae({rel:"stylesheet",href:t,"data-precedence":r},a),(a=An.get(d))&&Od(t,a);var S=g=o.createElement("link");Qe(S),Pt(S,"link",t),S._p=new Promise(function(R,P){S.onload=R,S.onerror=P}),S.addEventListener("load",function(){v.loading|=1}),S.addEventListener("error",function(){v.loading|=2}),v.loading|=4,fu(g,r,o)}g={type:"stylesheet",instance:g,count:1,state:v},c.set(d,g)}}}function aw(t,r){Si.X(t,r);var a=$s;if(a&&t){var o=mn(a).hoistableScripts,c=Ws(t),d=o.get(c);d||(d=a.querySelector(ul(c)),d||(t=ae({src:t,async:!0},r),(r=An.get(c))&&Id(t,r),d=a.createElement("script"),Qe(d),Pt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function lw(t,r){Si.M(t,r);var a=$s;if(a&&t){var o=mn(a).hoistableScripts,c=Ws(t),d=o.get(c);d||(d=a.querySelector(ul(c)),d||(t=ae({src:t,async:!0,type:"module"},r),(r=An.get(c))&&Id(t,r),d=a.createElement("script"),Qe(d),Pt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function ov(t,r,a,o){var c=(c=Vt.current)?cu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ks(a.href),a=mn(c).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ks(a.href);var d=mn(c).hoistableStyles,g=d.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=c.querySelector(ol(t)))&&!d._p&&(g.instance=d,g.state.loading=5),An.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},An.set(t,a),d||ow(c,t,a,g.state))),r&&o===null)throw Error(s(528,""));return g}if(r&&o!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ws(a),a=mn(c).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ks(t){return'href="'+_n(t)+'"'}function ol(t){return'link[rel="stylesheet"]['+t+"]"}function uv(t){return ae({},t,{"data-precedence":t.precedence,precedence:null})}function ow(t,r,a,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),Pt(r,"link",a),Qe(r),t.head.appendChild(r))}function Ws(t){return'[src="'+_n(t)+'"]'}function ul(t){return"script[async]"+t}function cv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+_n(a.href)+'"]');if(o)return r.instance=o,Qe(o),o;var c=ae({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Qe(o),Pt(o,"style",c),fu(o,a.precedence,t),r.instance=o;case"stylesheet":c=Ks(a.href);var d=t.querySelector(ol(c));if(d)return r.state.loading|=4,r.instance=d,Qe(d),d;o=uv(a),(c=An.get(c))&&Od(o,c),d=(t.ownerDocument||t).createElement("link"),Qe(d);var g=d;return g._p=new Promise(function(v,S){g.onload=v,g.onerror=S}),Pt(d,"link",o),r.state.loading|=4,fu(d,a.precedence,t),r.instance=d;case"script":return d=Ws(a.src),(c=t.querySelector(ul(d)))?(r.instance=c,Qe(c),c):(o=a,(c=An.get(d))&&(o=ae({},a),Id(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),Qe(c),Pt(c,"link",o),t.head.appendChild(c),r.instance=c);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,fu(o,a.precedence,t));return r.instance}function fu(t,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,d=c,g=0;g<o.length;g++){var v=o[g];if(v.dataset.precedence===r)d=v;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Od(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Id(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var du=null;function fv(t,r,a){if(du===null){var o=new Map,c=du=new Map;c.set(a,o)}else c=du,o=c.get(a),o||(o=new Map,c.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var d=a[c];if(!(d[pn]||d[J]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(r)||"";g=t+g;var v=o.get(g);v?v.push(d):o.set(g,[d])}}return o}function dv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function uw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function hv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var cl=null;function cw(){}function fw(t,r,a){if(cl===null)throw Error(s(475));var o=cl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=Ks(a.href),d=t.querySelector(ol(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=hu.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=d,Qe(d);return}d=t.ownerDocument||t,a=uv(a),(c=An.get(c))&&Od(a,c),d=d.createElement("link"),Qe(d);var g=d;g._p=new Promise(function(v,S){g.onload=v,g.onerror=S}),Pt(d,"link",a),r.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=hu.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function dw(){if(cl===null)throw Error(s(475));var t=cl;return t.stylesheets&&t.count===0&&Dd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Dd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function hu(){if(this.count--,this.count===0){if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var pu=null;function Dd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,pu=new Map,r.forEach(hw,t),pu=null,hu.call(t))}function hw(t,r){if(!(r.state.loading&4)){var a=pu.get(t);if(a)var o=a.get(null);else{a=new Map,pu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}c=r.instance,g=c.getAttribute("data-precedence"),d=a.get(g)||o,d===o&&a.set(null,c),a.set(g,c),this.count++,o=hu.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),r.state.loading|=4}}var fl={$$typeof:b,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function pw(t,r,a,o,c,d,g,v){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function pv(t,r,a,o,c,d,g,v,S,R,P,j){return t=new pw(t,r,a,g,v,S,R,j),r=1,d===!0&&(r|=24),d=Cn(3,null,null,r),t.current=d,d.stateNode=t,r=uf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:r},Ff(d),t}function mv(t){return t?(t=As,t):As}function gv(t,r,a,o,c,d){c=mv(c),o.context===null?o.context=c:o.pendingContext=c,o=Yi(r),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=$i(t,o,r),a!==null&&(Kt(a,t,r),Ka(a,t,r))}function _v(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Md(t,r){_v(t,r),(t=t.alternate)&&_v(t,r)}function vv(t){if(t.tag===13){var r=Hi(t,67108864);r!==null&&Kt(r,t,67108864),Md(t,67108864)}}var mu=!0;function mw(t,r,a,o){var c=G.T;G.T=null;var d=Q.p;try{Q.p=2,kd(t,r,a,o)}finally{Q.p=d,G.T=c}}function gw(t,r,a,o){var c=G.T;G.T=null;var d=Q.p;try{Q.p=8,kd(t,r,a,o)}finally{Q.p=d,G.T=c}}function kd(t,r,a,o){if(mu){var c=Ld(o);if(c===null)Sd(t,r,o,gu,a),Ev(t,o);else if(vw(c,t,r,a,o))o.stopPropagation();else if(Ev(t,o),r&4&&-1<_w.indexOf(t)){for(;c!==null;){var d=Lt(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=hn(d.pendingLanes);if(g!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var S=1<<31-Ft(g);v.entanglements[1]|=S,g&=~S}Kn(d),(lt&6)===0&&(Jo=Qt()+500,sl(0))}}break;case 13:v=Hi(d,2),v!==null&&Kt(v,d,2),nu(),Md(d,2)}if(d=Ld(o),d===null&&Sd(t,r,o,gu,a),d===c)break;c=d}c!==null&&o.stopPropagation()}else Sd(t,r,o,null,a)}}function Ld(t){return t=Hc(t),xd(t)}var gu=null;function xd(t){if(gu=null,t=kt(t),t!==null){var r=ue(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=De(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return gu=t,null}function yv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fn()){case dn:return 2;case Ta:return 8;case Ui:case Mc:return 32;case Mn:return 268435456;default:return 32}default:return 32}}var Ud=!1,er=null,tr=null,nr=null,dl=new Map,hl=new Map,ir=[],_w="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ev(t,r){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(r.pointerId)}}function pl(t,r,a,o,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},r!==null&&(r=Lt(r),r!==null&&vv(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,c!==null&&r.indexOf(c)===-1&&r.push(c),t)}function vw(t,r,a,o,c){switch(r){case"focusin":return er=pl(er,t,r,a,o,c),!0;case"dragenter":return tr=pl(tr,t,r,a,o,c),!0;case"mouseover":return nr=pl(nr,t,r,a,o,c),!0;case"pointerover":var d=c.pointerId;return dl.set(d,pl(dl.get(d)||null,t,r,a,o,c)),!0;case"gotpointercapture":return d=c.pointerId,hl.set(d,pl(hl.get(d)||null,t,r,a,o,c)),!0}return!1}function Sv(t){var r=kt(t.target);if(r!==null){var a=ue(r);if(a!==null){if(r=a.tag,r===13){if(r=De(a),r!==null){t.blockedOn=r,X(t.priority,function(){if(a.tag===13){var o=cn(),c=Hi(a,o);c!==null&&Kt(c,a,o),Md(a,o)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _u(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Ld(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);zc=o,a.target.dispatchEvent(o),zc=null}else return r=Lt(a),r!==null&&vv(r),t.blockedOn=a,!1;r.shift()}return!0}function bv(t,r,a){_u(t)&&a.delete(r)}function yw(){Ud=!1,er!==null&&_u(er)&&(er=null),tr!==null&&_u(tr)&&(tr=null),nr!==null&&_u(nr)&&(nr=null),dl.forEach(bv),hl.forEach(bv)}function vu(t,r){t.blockedOn===r&&(t.blockedOn=null,Ud||(Ud=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,yw)))}var yu=null;function Tv(t){yu!==t&&(yu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){yu===t&&(yu=null);for(var r=0;r<t.length;r+=3){var a=t[r],o=t[r+1],c=t[r+2];if(typeof o!="function"){if(xd(o||a)===null)continue;break}var d=Lt(a);d!==null&&(t.splice(r,3),r-=3,Cf(d,{pending:!0,data:c,method:a.method,action:o},o,c))}}))}function ml(t){function r(S){return vu(S,t)}er!==null&&vu(er,t),tr!==null&&vu(tr,t),nr!==null&&vu(nr,t),dl.forEach(r),hl.forEach(r);for(var a=0;a<ir.length;a++){var o=ir[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)Sv(a),a.blockedOn===null&&ir.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var c=a[o],d=a[o+1],g=c[ve]||null;if(typeof d=="function")g||Tv(a);else if(g){var v=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[ve]||null)v=g.formAction;else if(xd(c)!==null)continue}else v=g.action;typeof v=="function"?a[o+1]=v:(a.splice(o,3),o-=3),Tv(a)}}}function Pd(t){this._internalRoot=t}Eu.prototype.render=Pd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,o=cn();gv(a,o,t,r,null,null)},Eu.prototype.unmount=Pd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t.tag===0&&qs(),gv(t.current,2,null,t,null,null),nu(),r[Ge]=null}};function Eu(t){this._internalRoot=t}Eu.prototype.unstable_scheduleHydration=function(t){if(t){var r=le();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ir.length&&r!==0&&r<ir[a].priority;a++);ir.splice(a,0,t),a===0&&Sv(t)}};var wv=e.version;if(wv!=="19.0.0")throw Error(s(527,wv,"19.0.0"));Q.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=V(r),t=t!==null?ne(t):null,t=t===null?null:t.stateNode,t};var Ew={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:G,findFiberByHostInstance:kt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{Pi=Su.inject(Ew),Yt=Su}catch{}}return _l.createRoot=function(t,r){if(!l(t))throw Error(s(299));var a=!1,o="",c=jg,d=Vg,g=Fg,v=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(c=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(g=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(v=r.unstable_transitionCallbacks)),r=pv(t,1,!1,null,null,a,o,c,d,g,v,null),t[Ge]=r.current,Ed(t.nodeType===8?t.parentNode:t),new Pd(r)},_l.hydrateRoot=function(t,r,a){if(!l(t))throw Error(s(299));var o=!1,c="",d=jg,g=Vg,v=Fg,S=null,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(R=a.formState)),r=pv(t,1,!0,r,a??null,o,c,d,g,v,S,R),r.context=mv(null),a=r.current,o=cn(),c=Yi(o),c.callback=null,$i(a,c,o),r.current.lanes=o,F(r,o),Kn(r),t[Ge]=r.current,Ed(t),new Eu(r)},_l.version="19.0.0",_l}var Lv;function Ow(){if(Lv)return Bd.exports;Lv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bd.exports=Nw(),Bd.exports}var Iw=Ow();const Dw=()=>{};var xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(i,e){if(!i)throw da(e)},da=function(i){return new Error("Firebase Database ("+AE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Mw=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const l=i[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[n++],f=i[n++],h=i[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},qh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const u=i[l],f=l+1<i.length,h=f?i[l+1]:0,p=l+2<i.length,m=p?i[l+2]:0,_=u>>2,y=(u&3)<<4|h>>4;let E=(h&15)<<2|m>>6,b=m&63;p||(b=64,f||(E=64)),s.push(n[_],n[y],n[E],n[b])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(NE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Mw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const u=n[i.charAt(l++)],h=l<i.length?n[i.charAt(l)]:0;++l;const m=l<i.length?n[i.charAt(l)]:64;++l;const y=l<i.length?n[i.charAt(l)]:64;if(++l,u==null||h==null||m==null||y==null)throw new kw;const E=u<<2|h>>4;if(s.push(E),m!==64){const b=h<<4&240|m>>2;if(s.push(b),y!==64){const N=m<<6&192|y;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class kw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OE=function(i){const e=NE(i);return qh.encodeByteArray(e,!0)},zu=function(i){return OE(i).replace(/\./g,"")},zl=function(i){try{return qh.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(i){return IE(void 0,i)}function IE(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!xw(n)||(i[n]=IE(i[n],e[n]));return i}function xw(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=()=>Uw().__FIREBASE_DEFAULTS__,zw=()=>{if(typeof process>"u"||typeof xv>"u")return;const i=xv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Hw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&zl(i[1]);return e&&JSON.parse(e)},Gh=()=>{try{return Dw()||Pw()||zw()||Hw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},DE=i=>{var e,n;return(n=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Bw=i=>{const e=DE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ME=()=>{var i;return(i=Gh())===null||i===void 0?void 0:i.config},kE=i=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[zu(JSON.stringify(n)),zu(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function LE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xE(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Yh(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vw(){const i=it();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Fw(){return AE.NODE_ADMIN===!0}function qw(){try{return typeof indexedDB=="object"}catch{return!1}}function Gw(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="FirebaseError";class jn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Yw,Object.setPrototypeOf(this,jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Er.prototype.create)}}class Er{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?$w(u,s):"Error",h=`${this.serviceName}: ${f} (${l}).`;return new jn(l,h,s)}}function $w(i,e){return i.replace(Kw,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Kw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(i){return JSON.parse(i)}function Ot(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=function(i){let e={},n={},s={},l="";try{const u=i.split(".");e=Hl(zl(u[0])||""),n=Hl(zl(u[1])||""),l=u[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:l}},Ww=function(i){const e=UE(i),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Qw=function(i){const e=UE(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function la(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function dh(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Hu(i,e,n){const s={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=e.call(n,i[l],l,i));return s}function rs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=i[l],f=e[l];if(Uv(u)&&Uv(f)){if(!rs(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function Uv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Rl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Al(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)s[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const E=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(E<<1|E>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],f=this.chain_[2],h=this.chain_[3],p=this.chain_[4],m,_;for(let y=0;y<80;y++){y<40?y<20?(m=h^u&(f^h),_=1518500249):(m=u^f^h,_=1859775393):y<60?(m=u&f|h&(u|f),_=2400959708):(m=u^f^h,_=3395469782);const E=(l<<5|l>>>27)+m+p+_+s[y]&4294967295;p=h,h=f,f=(u<<30|u>>>2)&4294967295,u=l,l=E}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let l=0;const u=this.buf_;let f=this.inbuf_;for(;l<n;){if(f===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<n;)if(u[f]=e.charCodeAt(l),++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}else for(;l<n;)if(u[f]=e[l],++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function PE(i,e){const n=new Zw(i,e);return n.subscribe.bind(n)}class Zw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Jw(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=qd),l.error===void 0&&(l.error=qd),l.complete===void 0&&(l.complete=qd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jw(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function qd(){}function $h(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,Y(s<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(s)-56320;l=65536+(u<<10)+f}l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):l<65536?(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},mc=function(i){let e=0;for(let n=0;n<i.length;n++){const s=i.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(i){return i&&i._delegate?i._delegate:i}class Ni{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new hc;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iC(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&f.resolve(l)}return l}onInit(e,n){var s;const l=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nC(i){return i===Qr?void 0:i}function iC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(qe||(qe={}));const sC={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},aC=qe.INFO,lC={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},oC=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),l=lC[e];if(l)console[l](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gc{constructor(e){this.name=e,this._logLevel=aC,this._logHandler=oC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const uC=(i,e)=>e.some(n=>i instanceof n);let Pv,zv;function cC(){return Pv||(Pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fC(){return zv||(zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zE=new WeakMap,hh=new WeakMap,HE=new WeakMap,Gd=new WeakMap,Kh=new WeakMap;function dC(i){const e=new Promise((n,s)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(hr(i.result)),l()},f=()=>{s(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&zE.set(n,i)}).catch(()=>{}),Kh.set(e,i),e}function hC(i){if(hh.has(i))return;const e=new Promise((n,s)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});hh.set(i,e)}let ph={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return hh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||HE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function pC(i){ph=i(ph)}function mC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Yd(this),e,...n);return HE.set(s,e.sort?e.sort():[e]),hr(s)}:fC().includes(i)?function(...e){return i.apply(Yd(this),e),hr(zE.get(this))}:function(...e){return hr(i.apply(Yd(this),e))}}function gC(i){return typeof i=="function"?mC(i):(i instanceof IDBTransaction&&hC(i),uC(i,cC())?new Proxy(i,ph):i)}function hr(i){if(i instanceof IDBRequest)return dC(i);if(Gd.has(i))return Gd.get(i);const e=gC(i);return e!==i&&(Gd.set(i,e),Kh.set(e,i)),e}const Yd=i=>Kh.get(i);function _C(i,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(i,e),h=hr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(hr(f.result),p.oldVersion,p.newVersion,hr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const vC=["get","getKey","getAll","getAllKeys","count"],yC=["put","add","delete","clear"],$d=new Map;function Hv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=yC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||vC.includes(n)))return;const u=async function(f,...h){const p=this.transaction(f,l?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),l&&p.done]))[0]};return $d.set(e,u),u}pC(i=>({...i,get:(e,n,s)=>Hv(e,n)||i.get(e,n,s),has:(e,n)=>!!Hv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function SC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mh="@firebase/app",Bv="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new gc("@firebase/app"),bC="@firebase/app-compat",TC="@firebase/analytics-compat",wC="@firebase/analytics",CC="@firebase/app-check-compat",RC="@firebase/app-check",AC="@firebase/auth",NC="@firebase/auth-compat",OC="@firebase/database",IC="@firebase/data-connect",DC="@firebase/database-compat",MC="@firebase/functions",kC="@firebase/functions-compat",LC="@firebase/installations",xC="@firebase/installations-compat",UC="@firebase/messaging",PC="@firebase/messaging-compat",zC="@firebase/performance",HC="@firebase/performance-compat",BC="@firebase/remote-config",jC="@firebase/remote-config-compat",VC="@firebase/storage",FC="@firebase/storage-compat",qC="@firebase/firestore",GC="@firebase/vertexai",YC="@firebase/firestore-compat",$C="firebase",KC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="[DEFAULT]",WC={[mh]:"fire-core",[bC]:"fire-core-compat",[wC]:"fire-analytics",[TC]:"fire-analytics-compat",[RC]:"fire-app-check",[CC]:"fire-app-check-compat",[AC]:"fire-auth",[NC]:"fire-auth-compat",[OC]:"fire-rtdb",[IC]:"fire-data-connect",[DC]:"fire-rtdb-compat",[MC]:"fire-fn",[kC]:"fire-fn-compat",[LC]:"fire-iid",[xC]:"fire-iid-compat",[UC]:"fire-fcm",[PC]:"fire-fcm-compat",[zC]:"fire-perf",[HC]:"fire-perf-compat",[BC]:"fire-rc",[jC]:"fire-rc-compat",[VC]:"fire-gcs",[FC]:"fire-gcs-compat",[qC]:"fire-fst",[YC]:"fire-fst-compat",[GC]:"fire-vertex","fire-js":"fire-js",[$C]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=new Map,QC=new Map,_h=new Map;function jv(i,e){try{i.container.addComponent(e)}catch(n){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function gr(i){const e=i.name;if(_h.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;_h.set(e,i);for(const n of Bu.values())jv(n,i);for(const n of QC.values())jv(n,i);return!0}function Wh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function It(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new Er("app","Firebase",XC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=KC;function BE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:gh,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw pr.create("bad-app-name",{appName:String(l)});if(n||(n=ME()),!n)throw pr.create("no-options");const u=Bu.get(l);if(u){if(rs(n,u.options)&&rs(s,u.config))return u;throw pr.create("duplicate-app",{appName:l})}const f=new rC(l);for(const p of _h.values())f.addComponent(p);const h=new ZC(n,s,f);return Bu.set(l,h),h}function jE(i=gh){const e=Bu.get(i);if(!e&&i===gh&&ME())return BE();if(!e)throw pr.create("no-app",{appName:i});return e}function Wn(i,e,n){var s;let l=(s=WC[i])!==null&&s!==void 0?s:i;n&&(l+=`-${n}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const h=[`Unable to register library "${l}" with version "${e}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(h.join(" "));return}gr(new Ni(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="firebase-heartbeat-database",eR=1,Bl="firebase-heartbeat-store";let Kd=null;function VE(){return Kd||(Kd=_C(JC,eR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Bl)}catch(n){console.warn(n)}}}}).catch(i=>{throw pr.create("idb-open",{originalErrorMessage:i.message})})),Kd}async function tR(i){try{const n=(await VE()).transaction(Bl),s=await n.objectStore(Bl).get(FE(i));return await n.done,s}catch(e){if(e instanceof jn)Oi.warn(e.message);else{const n=pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(n.message)}}}async function Vv(i,e){try{const s=(await VE()).transaction(Bl,"readwrite");await s.objectStore(Bl).put(e,FE(i)),await s.done}catch(n){if(n instanceof jn)Oi.warn(n.message);else{const s=pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Oi.warn(s.message)}}}function FE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=1024,iR=30;class rR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Fv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>iR){const f=lR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Oi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fv(),{heartbeatsToSend:s,unsentEntries:l}=sR(this._heartbeatsCache.heartbeats),u=zu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Oi.warn(n),""}}}function Fv(){return new Date().toISOString().substring(0,10)}function sR(i,e=nR){const n=[];let s=i.slice();for(const l of i){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),qv(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),qv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class aR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qw()?Gw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Vv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Vv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function qv(i){return zu(JSON.stringify({version:2,heartbeats:i})).length}function lR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(i){gr(new Ni("platform-logger",e=>new EC(e),"PRIVATE")),gr(new Ni("heartbeat",e=>new rR(e),"PRIVATE")),Wn(mh,Bv,i),Wn(mh,Bv,"esm2017"),Wn("fire-js","")}oR("");var uR="firebase",cR="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(uR,cR,"app");function Jl(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(i);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(i,s[l])&&(n[s[l]]=i[s[l]]);return n}function qE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fR=qE,GE=new Er("auth","Firebase",qE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new gc("@firebase/auth");function dR(i,...e){ju.logLevel<=qe.WARN&&ju.warn(`Auth (${Li}): ${i}`,...e)}function Nu(i,...e){ju.logLevel<=qe.ERROR&&ju.error(`Auth (${Li}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(i,...e){throw Qh(i,...e)}function Qn(i,...e){return Qh(i,...e)}function YE(i,e,n){const s=Object.assign(Object.assign({},fR()),{[e]:n});return new Er("auth","Firebase",s).create(e,{appName:i.name})}function is(i){return YE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qh(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return GE.create(i,...e)}function ye(i,e,...n){if(!i)throw Qh(e,...n)}function bi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Nu(e),new Error(e)}function Di(i,e){i||bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function hR(){return Gv()==="http:"||Gv()==="https:"}function Gv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hR()||xE()||"connection"in navigator)?navigator.onLine:!0}function mR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Di(n>e,"Short delay should be less than long delay!"),this.isMobile=pc()||Yh()}get(){return pR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(i,e){Di(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $E=class{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new eo(3e4,6e4);function Zh(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ha(i,e,n,s,l={}){return KE(i,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const h=Sr(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const m=Object.assign({method:e,headers:p},u);return LE()||(m.referrerPolicy="no-referrer"),$E.fetch()(WE(i,i.config.apiHost,n,h),m)})}async function KE(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},gR),e);try{const l=new yR(i),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw bu(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const h=u.ok?f.errorMessage:f.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw bu(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw bu(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw bu(i,"user-disabled",f);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw YE(i,_,m);Ii(i,_)}}catch(l){if(l instanceof jn)throw l;Ii(i,"network-request-failed",{message:String(l)})}}async function vR(i,e,n,s,l={}){const u=await ha(i,e,n,s,l);return"mfaPendingCredential"in u&&Ii(i,"multi-factor-auth-required",{_serverResponse:u}),u}function WE(i,e,n,s){const l=`${e}${n}?${s}`;return i.config.emulator?Xh(i.config,l):`${i.config.apiScheme}://${l}`}let yR=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),_R.get())})}};function bu(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Qn(i,e,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(i,e){return ha(i,"POST","/v1/accounts:delete",e)}async function QE(i,e){return ha(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SR(i,e=!1){const n=Dt(i),s=await n.getIdToken(e),l=Jh(s);ye(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:Dl(Wd(l.auth_time)),issuedAtTime:Dl(Wd(l.iat)),expirationTime:Dl(Wd(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Wd(i){return Number(i)*1e3}function Jh(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Nu("JWT malformed, contained fewer than 3 sections"),null;try{const l=zl(n);return l?JSON.parse(l):(Nu("Failed to decode base64 JWT payload"),null)}catch(l){return Nu("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Yv(i){const e=Jh(i);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof jn&&bR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function bR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TR=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(i){var e;const n=i.auth,s=await i.getIdToken(),l=await jl(i,QE(n,{idToken:s}));ye(l==null?void 0:l.users.length,n,"internal-error");const u=l.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?XE(u.providerUserInfo):[],h=CR(i.providerData,f),p=i.isAnonymous,m=!(i.email&&u.passwordHash)&&!(h!=null&&h.length),_=p?m:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new yh(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(i,y)}async function wR(i){const e=Dt(i);await Vu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CR(i,e){return[...i.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function XE(i){return i.map(e=>{var{providerId:n}=e,s=Jl(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(i,e){const n=await KE(i,{},async()=>{const s=Sr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=i.config,f=WE(i,l,"/v1/token",`key=${u}`),h=await i._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",$E.fetch()(f,{method:"POST",headers:h,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AR(i,e){return ha(i,"POST","/v2/accounts:revokeToken",Zh(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd=class Eh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=Yv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await RR(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new Eh;return s&&(ye(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(ye(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ye(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eh,this.toJSON())}_performRefresh(){return bi("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(i,e){ye(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}let Fu=class Nl{constructor(e){var{uid:n,auth:s,stsTokenManager:l}=e,u=Jl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new yh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await jl(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SR(this,e)}reload(){return wR(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Nl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Vu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(It(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await jl(this,ER(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,l,u,f,h,p,m,_;const y=(s=n.displayName)!==null&&s!==void 0?s:void 0,E=(l=n.email)!==null&&l!==void 0?l:void 0,b=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=n.photoURL)!==null&&f!==void 0?f:void 0,H=(h=n.tenantId)!==null&&h!==void 0?h:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,B=(m=n.createdAt)!==null&&m!==void 0?m:void 0,q=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:$,emailVerified:de,isAnonymous:A,providerData:te,stsTokenManager:Se}=n;ye($&&Se,e,"internal-error");const ce=Qd.fromJSON(this.name,Se);ye(typeof $=="string",e,"internal-error"),sr(y,e.name),sr(E,e.name),ye(typeof de=="boolean",e,"internal-error"),ye(typeof A=="boolean",e,"internal-error"),sr(b,e.name),sr(N,e.name),sr(H,e.name),sr(U,e.name),sr(B,e.name),sr(q,e.name);const G=new Nl({uid:$,auth:e,email:E,emailVerified:de,displayName:y,isAnonymous:A,photoURL:N,phoneNumber:b,tenantId:H,stsTokenManager:ce,createdAt:B,lastLoginAt:q});return te&&Array.isArray(te)&&(G.providerData=te.map(ae=>Object.assign({},ae))),U&&(G._redirectEventId=U),G}static async _fromIdTokenResponse(e,n,s=!1){const l=new Qd;l.updateFromServerResponse(n);const u=new Nl({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Vu(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];ye(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?XE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),h=new Qd;h.updateFromIdToken(s);const p=new Nl({uid:l.localId,auth:e,stsTokenManager:h,isAnonymous:f}),m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new yh(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,m),p}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=new Map;function Ti(i){Di(i instanceof Function,"Expected a class definition");let e=$v.get(i);return e?(Di(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,$v.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZE=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};ZE.type="NONE";const Kv=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(i,e,n){return`firebase:${i}:${e}:${n}`}let Wv=class Iu{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=Ou(this.userKey,l.apiKey,u),this.fullPersistenceKey=Ou("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Iu(Ti(Kv),e,s);const l=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=l[0]||Ti(Kv);const f=Ou(s,e.config.apiKey,e.name);let h=null;for(const m of n)try{const _=await m._get(f);if(_){const y=Fu._fromJSON(e,_);m!==u&&(h=y),u=m;break}}catch{}const p=l.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Iu(u,e,s):(u=p[0],h&&await u._set(f,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new Iu(u,e,s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r0(e))return"Blackberry";if(s0(e))return"Webos";if(e0(e))return"Safari";if((e.includes("chrome/")||t0(e))&&!e.includes("edge/"))return"Chrome";if(i0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function JE(i=it()){return/firefox\//i.test(i)}function e0(i=it()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function t0(i=it()){return/crios\//i.test(i)}function n0(i=it()){return/iemobile/i.test(i)}function i0(i=it()){return/android/i.test(i)}function r0(i=it()){return/blackberry/i.test(i)}function s0(i=it()){return/webos/i.test(i)}function ep(i=it()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function NR(i=it()){var e;return ep(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OR(){return Vw()&&document.documentMode===10}function a0(i=it()){return ep(i)||i0(i)||s0(i)||r0(i)||/windows phone/i.test(i)||n0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(i,e=[]){let n;switch(i){case"Browser":n=Qv(it());break;case"Worker":n=`${Qv(it())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Li}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IR=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,h)=>{try{const p=e(u);f(p)}catch(p){h(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(i,e={}){return ha(i,"GET","/v2/passwordPolicy",Zh(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=6;let kR=class{constructor(e){var n,s,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:MR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,l,u,f,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LR=class{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xv(this),this.idTokenSubscription=new Xv(this),this.beforeStateQueue=new IR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await Wv.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await QE(this,{idToken:e}),s=await Fu._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(It(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===h)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(It(this.app))return Promise.reject(is(this));const n=e?Dt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return It(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return It(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DR(this),n=new kR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Er("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await AR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ti(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await Wv.create(this,[Ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(h,this,"internal-error"),h.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(It(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function tp(i){return Dt(i)}let Xv=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=PE(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xR(i){np=i}function UR(i){return np.loadJS(i)}function PR(){return np.gapiScript}function zR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(i,e){const n=Wh(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(rs(u,e??{}))return l;Ii(l,"already-initialized")}return n.initialize({options:e})}function BR(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ti);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function jR(i,e,n){const s=tp(i);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=o0(e),{host:f,port:h}=VR(e),p=h===null?"":`:${h}`,m={url:`${u}//${f}${p}/`},_=Object.freeze({host:f,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(rs(m,s.config.emulator)&&rs(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,FR()}function o0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function VR(i){const e=o0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Zv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Zv(f)}}}function Zv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function FR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u0=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bi("not implemented")}_getIdTokenResponse(e){return bi("not implemented")}_linkToIdToken(e,n){return bi("not implemented")}_getReauthenticationResolver(e){return bi("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(i,e){return vR(i,"POST","/v1/accounts:signInWithIdp",Zh(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="http://localhost";class ss extends u0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=n,u=Jl(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new ss(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ea(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ea(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ea(e,n)}buildRequest(){const e={requestUri:qR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sr(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends c0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends to{constructor(){super("facebook.com")}static credential(e){return ss._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends to{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ss._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ur.credential(n,s)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends to{constructor(){super("github.com")}static credential(e){return ss._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends to{constructor(){super("twitter.com")}static credential(e,n){return ss._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return fr.credential(n,s)}catch{return null}}}fr.TWITTER_SIGN_IN_METHOD="twitter.com";fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ip=class Sh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await Fu._fromIdTokenResponse(e,s,l),f=Jv(s);return new Sh({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=Jv(s);return new Sh({user:e,providerId:l,_tokenResponse:s,operationType:n})}};function Jv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GR=class bh extends jn{constructor(e,n,s,l){var u;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new bh(e,n,s,l)}};function f0(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?GR._fromErrorAndOperation(i,u,e,s):u})}async function YR(i,e,n=!1){const s=await jl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ip._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(i,e,n=!1){const{auth:s}=i;if(It(s.app))return Promise.reject(is(s));const l="reauthenticate";try{const u=await jl(i,f0(s,l,e,i),n);ye(u.idToken,s,"internal-error");const f=Jh(u.idToken);ye(f,s,"internal-error");const{sub:h}=f;return ye(i.uid===h,s,"user-mismatch"),ip._forOperation(i,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ii(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(i,e,n=!1){if(It(i.app))return Promise.reject(is(i));const s="signIn",l=await f0(i,s,e),u=await ip._fromIdTokenResponse(i,s,l);return n||await i._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(i,e){return Dt(i).setPersistence(e)}function QR(i,e,n,s){return Dt(i).onIdTokenChanged(e,n,s)}function XR(i,e,n){return Dt(i).beforeAuthStateChanged(e,n)}function ZR(i,e,n,s){return Dt(i).onAuthStateChanged(e,n,s)}function JR(i){return Dt(i).signOut()}const qu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qu,"1"),this.storage.removeItem(qu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=1e3,tA=10;class h0 extends d0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,h,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);OR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,tA):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},eA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}h0.type="LOCAL";const p0=h0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends d0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}m0.type="SESSION";const g0=m0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new _c(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const h=Array.from(f).map(async m=>m(n.origin,u)),p=await nA(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_c.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((h,p)=>{const m=rp("",20);l.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(y){const E=y;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(E.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return window}function rA(i){Xn().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function sA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aA(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function lA(){return _0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="firebaseLocalStorageDb",oA=1,Gu="firebaseLocalStorage",y0="fbase_key";class no{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vc(i,e){return i.transaction([Gu],e?"readwrite":"readonly").objectStore(Gu)}function uA(){const i=indexedDB.deleteDatabase(v0);return new no(i).toPromise()}function Th(){const i=indexedDB.open(v0,oA);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Gu,{keyPath:y0})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Gu)?e(s):(s.close(),await uA(),e(await Th()))})})}async function ey(i,e,n){const s=vc(i,!0).put({[y0]:e,value:n});return new no(s).toPromise()}async function cA(i,e){const n=vc(i,!1).get(e),s=await new no(n).toPromise();return s===void 0?null:s.value}function ty(i,e){const n=vc(i,!0).delete(e);return new no(n).toPromise()}const fA=800,dA=3;class E0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Th(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>dA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_c._getInstance(lA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sA(),!this.activeServiceWorker)return;this.sender=new iA(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Th();return await ey(e,qu,"1"),await ty(e,qu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ey(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>cA(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ty(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=vc(l,!1).getAll();return new no(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E0.type="LOCAL";const hA=E0;new eo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(i,e){return e?Ti(e):(ye(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends u0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ea(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ea(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mA(i){return KR(i.auth,new sp(i),i.bypassAuthState)}function gA(i){const{auth:e,user:n}=i;return ye(n,e,"internal-error"),$R(n,new sp(i),i.bypassAuthState)}async function _A(i){const{auth:e,user:n}=i;return ye(n,e,"internal-error"),YR(n,new sp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:h}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mA;case"linkViaPopup":case"linkViaRedirect":return _A;case"reauthViaPopup":case"reauthViaRedirect":return gA;default:Ii(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new eo(2e3,1e4);class Zs extends S0{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vA.get())};e()}}Zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="pendingRedirect",Du=new Map;class EA extends S0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Du.get(this.auth._key());if(!e){try{const s=await SA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Du.set(this.auth._key(),e)}return this.bypassAuthState||Du.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SA(i,e){const n=wA(e),s=TA(i);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function bA(i,e){Du.set(i._key(),e)}function TA(i){return Ti(i._redirectPersistence)}function wA(i){return Ou(yA,i.config.apiKey,i.name)}async function CA(i,e,n=!1){if(It(i.app))return Promise.reject(is(i));const s=tp(i),l=pA(s,e),f=await new EA(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=10*60*1e3;class AA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!b0(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RA&&this.cachedEventUids.clear(),this.cachedEventUids.has(ny(e))}saveEventToCache(e){this.cachedEventUids.add(ny(e)),this.lastProcessedEventTime=Date.now()}}function ny(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function b0({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NA(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(i,e={}){return ha(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DA=/^https?/;async function MA(i){if(i.config.emulator)return;const{authorizedDomains:e}=await OA(i);for(const n of e)try{if(kA(n))return}catch{}Ii(i,"unauthorized-domain")}function kA(i){const e=vh(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!DA.test(n))return!1;if(IA.test(i))return s===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=new eo(3e4,6e4);function iy(){const i=Xn().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function xA(i){return new Promise((e,n)=>{var s,l,u;function f(){iy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iy(),n(Qn(i,"network-request-failed"))},timeout:LA.get()})}if(!((l=(s=Xn().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=Xn().gapi)===null||u===void 0)&&u.load)f();else{const h=zR("iframefcb");return Xn()[h]=()=>{gapi.load?f():n(Qn(i,"network-request-failed"))},UR(`${PR()}?onload=${h}`).catch(p=>n(p))}}).catch(e=>{throw Mu=null,e})}let Mu=null;function UA(i){return Mu=Mu||xA(i),Mu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new eo(5e3,15e3),zA="__/auth/iframe",HA="emulator/auth/iframe",BA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VA(i){const e=i.config;ye(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Xh(e,HA):`https://${i.config.authDomain}/${zA}`,s={apiKey:e.apiKey,appName:i.name,v:Li},l=jA.get(i.config.apiHost);l&&(s.eid=l);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Sr(s).slice(1)}`}async function FA(i){const e=await UA(i),n=Xn().gapi;return ye(n,i,"internal-error"),e.open({where:document.body,url:VA(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BA,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=Qn(i,"network-request-failed"),h=Xn().setTimeout(()=>{u(f)},PA.get());function p(){Xn().clearTimeout(h),l(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GA=500,YA=600,$A="_blank",KA="http://localhost";class ry{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WA(i,e,n,s=GA,l=YA){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const p=Object.assign(Object.assign({},qA),{width:s.toString(),height:l.toString(),top:u,left:f}),m=it().toLowerCase();n&&(h=t0(m)?$A:n),JE(m)&&(e=e||KA,p.scrollbars="yes");const _=Object.entries(p).reduce((E,[b,N])=>`${E}${b}=${N},`,"");if(NR(m)&&h!=="_self")return QA(e||"",h),new ry(null);const y=window.open(e||"",h,_);ye(y,i,"popup-blocked");try{y.focus()}catch{}return new ry(y)}function QA(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="__/auth/handler",ZA="emulator/auth/handler",JA=encodeURIComponent("fac");async function sy(i,e,n,s,l,u){ye(i.config.authDomain,i,"auth-domain-config-required"),ye(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Li,eventId:l};if(e instanceof c0){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",dh(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,y]of Object.entries({}))f[_]=y}if(e instanceof to){const _=e.getScopes().filter(y=>y!=="");_.length>0&&(f.scopes=_.join(","))}i.tenantId&&(f.tid=i.tenantId);const h=f;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const p=await i._getAppCheckToken(),m=p?`#${JA}=${encodeURIComponent(p)}`:"";return`${eN(i)}?${Sr(h).slice(1)}${m}`}function eN({config:i}){return i.emulator?Xh(i,ZA):`https://${i.authDomain}/${XA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="webStorageSupport";class tN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g0,this._completeRedirectFn=CA,this._overrideRedirectResult=bA}async _openPopup(e,n,s,l){var u;Di((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await sy(e,n,s,vh(),l);return WA(e,f,rp())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await sy(e,n,s,vh(),l);return rA(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Di(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await FA(e),s=new AA(e);return n.register("authEvent",l=>(ye(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xd,{type:Xd},l=>{var u;const f=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Xd];f!==void 0&&n(!!f),Ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return a0()||e0()||ep()}}const nN=tN;var ay="@firebase/auth",ly="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iN=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sN(i){gr(new Ni("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:h}=s.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:h,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l0(i)},m=new LR(s,l,u,p);return BR(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),gr(new Ni("auth-internal",e=>{const n=tp(e.getProvider("auth").getImmediate());return(s=>new iN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(ay,ly,rN(i)),Wn(ay,ly,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=5*60,lN=kE("authIdTokenMaxAge")||aN;let oy=null;const oN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>lN)return;const l=n==null?void 0:n.token;oy!==l&&(oy=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function ap(i=jE()){const e=Wh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=HR(i,{popupRedirectResolver:nN,persistence:[hA,p0,g0]}),s=kE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=oN(u.toString());XR(n,f,()=>f(n.currentUser)),QR(n,h=>f(h))}}const l=DE("auth");return l&&jR(n,`http://${l}`),n}function uN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}xR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=l=>{const u=Qn("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",uN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sN("Browser");var uy={};const cy="@firebase/database",fy="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T0="";function cN(i){T0=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ot(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Hl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Jn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new fN(e)}}catch{}return new dN},Jr=w0("localStorage"),hN=w0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new gc("@firebase/database"),pN=function(){let i=1;return function(){return i++}}(),C0=function(i){const e=eC(i),n=new Xw;n.update(e);const s=n.digest();return qh.encodeByteArray(s)},io=function(...i){let e="";for(let n=0;n<i.length;n++){const s=i[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=io.apply(null,s):typeof s=="object"?e+=Ot(s):e+=s,e+=" "}return e};let Ml=null,dy=!0;const mN=function(i,e){Y(!0,"Can't turn on custom loggers persistently."),ta.logLevel=qe.VERBOSE,Ml=ta.log.bind(ta)},zt=function(...i){if(dy===!0&&(dy=!1,Ml===null&&hN.get("logging_enabled")===!0&&mN()),Ml){const e=io.apply(null,i);Ml(e)}},ro=function(i){return function(...e){zt(i,...e)}},wh=function(...i){const e="FIREBASE INTERNAL ERROR: "+io(...i);ta.error(e)},Mi=function(...i){const e=`FIREBASE FATAL ERROR: ${io(...i)}`;throw ta.error(e),new Error(e)},nn=function(...i){const e="FIREBASE WARNING: "+io(...i);ta.warn(e)},gN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lp=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},_N=function(i){if(document.readyState==="complete")i();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},oa="[MIN_NAME]",as="[MAX_NAME]",cs=function(i,e){if(i===e)return 0;if(i===oa||e===as)return-1;if(e===oa||i===as)return 1;{const n=hy(i),s=hy(e);return n!==null?s!==null?n-s===0?i.length-e.length:n-s:-1:s!==null?1:i<e?-1:1}},vN=function(i,e){return i===e?0:i<e?-1:1},vl=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+Ot(e))},op=function(i){if(typeof i!="object"||i===null)return Ot(i);const e=[];for(const s in i)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Ot(e[s]),n+=":",n+=op(i[e[s]]);return n+="}",n},R0=function(i,e){const n=i.length;if(n<=e)return[i];const s=[];for(let l=0;l<n;l+=e)l+e>n?s.push(i.substring(l,n)):s.push(i.substring(l,l+e));return s};function Bt(i,e){for(const n in i)i.hasOwnProperty(n)&&e(n,i[n])}const A0=function(i){Y(!lp(i),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let l,u,f,h,p;i===0?(u=0,f=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),s),u=h+s,f=Math.round(i*Math.pow(2,n-h)-Math.pow(2,n))):(u=0,f=Math.round(i/Math.pow(2,1-s-n))));const m=[];for(p=n;p;p-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const _=m.join("");let y="";for(p=0;p<64;p+=8){let E=parseInt(_.substr(p,8),2).toString(16);E.length===1&&(E="0"+E),y=y+E}return y.toLowerCase()},yN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},EN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function SN(i,e){let n="Unknown Error";i==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?n="Client doesn't have permission to access the desired data.":i==="unavailable"&&(n="The service is unavailable");const s=new Error(i+" at "+e._path.toString()+": "+n);return s.code=i.toUpperCase(),s}const bN=new RegExp("^-?(0*)\\d{1,10}$"),TN=-2147483648,wN=2147483647,hy=function(i){if(bN.test(i)){const e=Number(i);if(e>=TN&&e<=wN)return e}return null},pa=function(i){try{i()}catch(e){setTimeout(()=>{const n=e.stack||"";throw nn("Exception was thrown by user callback.",n),e},Math.floor(0))}},CN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},kl=function(i,e){const n=setTimeout(i,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,It(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){nn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(zt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nn(e)}}class ku{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ku.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="5",N0="v",O0="s",I0="r",D0="f",M0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,k0="ls",L0="p",Ch="ac",x0="websocket",U0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n,s,l,u=!1,f="",h=!1,p=!1,m=null){this.secure=n,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Jr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Jr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function NN(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function z0(i,e,n){Y(typeof e=="string","typeof type must == string"),Y(typeof n=="object","typeof params must == object");let s;if(e===x0)s=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===U0)s=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);NN(i)&&(n.ns=i.namespace);const l=[];return Bt(n,(u,f)=>{l.push(u+"="+f)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.counters_={}}incrementCounter(e,n=1){Jn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Lw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd={},Jd={};function cp(i){const e=i.toString();return Zd[e]||(Zd[e]=new ON),Zd[e]}function IN(i,e){const n=i.toString();return Jd[n]||(Jd[n]=e()),Jd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&pa(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="start",MN="close",kN="pLPCommand",LN="pRTLPCB",H0="id",B0="pw",j0="ser",xN="cb",UN="seg",PN="ts",zN="d",HN="dframe",V0=1870,F0=30,BN=V0-F0,jN=25e3,VN=3e4;class Js{constructor(e,n,s,l,u,f,h){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ro(e),this.stats_=cp(n),this.urlFn=p=>(this.appCheckToken&&(p[Ch]=this.appCheckToken),z0(n,U0,p))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new DN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(VN)),_N(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fp((...u)=>{const[f,h,p,m,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===py)this.id=h,this.password=p;else if(f===MN)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[py]="t",s[j0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[xN]=this.scriptTagHolder.uniqueCallbackIdentifier),s[N0]=up,this.transportSessionId&&(s[O0]=this.transportSessionId),this.lastSessionId&&(s[k0]=this.lastSessionId),this.applicationId&&(s[L0]=this.applicationId),this.appCheckToken&&(s[Ch]=this.appCheckToken),typeof location<"u"&&location.hostname&&M0.test(location.hostname)&&(s[I0]=D0);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Js.forceAllow_=!0}static forceDisallow(){Js.forceDisallow_=!0}static isAvailable(){return Js.forceAllow_?!0:!Js.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!yN()&&!EN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ot(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=OE(n),l=R0(s,BN);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[HN]="t",s[H0]=e,s[B0]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ot(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class fp{constructor(e,n,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pN(),window[kN+this.uniqueCallbackIdentifier]=e,window[LN+this.uniqueCallbackIdentifier]=n,this.myIFrame=fp.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){zt("frame writing exception"),h.stack&&zt(h.stack),zt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||zt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[H0]=this.myID,e[B0]=this.myPW,e[j0]=this.currentSerial;let n=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+F0+s.length<=V0;){const f=this.pendingSegs.shift();s=s+"&"+UN+l+"="+f.seg+"&"+PN+l+"="+f.ts+"&"+zN+l+"="+f.d,l++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(s,Math.floor(jN)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{zt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=16384,qN=45e3;let Yu=null;typeof MozWebSocket<"u"?Yu=MozWebSocket:typeof WebSocket<"u"&&(Yu=WebSocket);class zn{constructor(e,n,s,l,u,f,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ro(this.connId),this.stats_=cp(n),this.connURL=zn.connectionURL_(n,f,h,l,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,l,u){const f={};return f[N0]=up,typeof location<"u"&&location.hostname&&M0.test(location.hostname)&&(f[I0]=D0),n&&(f[O0]=n),s&&(f[k0]=s),l&&(f[Ch]=l),u&&(f[L0]=u),z0(e,x0,f)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Jr.set("previous_websocket_failure",!0);try{let s;Fw(),this.mySock=new Yu(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){zn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Yu!==null&&!zn.forceDisallow_}static previouslyFailed(){return Jr.isInMemoryStorage||Jr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Jr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Hl(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Ot(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=R0(n,FN);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(qN))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zn.responsesRequiredToBeHealthy=2;zn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{static get ALL_TRANSPORTS(){return[Js,zn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=zn&&zn.isAvailable();let s=n&&!zn.previouslyFailed();if(e.webSocketOnly&&(n||nn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[zn];else{const l=this.transports_=[];for(const u of Vl.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);Vl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=6e4,YN=5e3,$N=10*1024,KN=100*1024,eh="t",my="d",WN="s",gy="r",QN="e",_y="o",vy="a",yy="n",Ey="p",XN="h";class ZN{constructor(e,n,s,l,u,f,h,p,m,_){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ro("c:"+this.id+":"),this.transportManager_=new Vl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=kl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>KN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$N?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(eh in e){const n=e[eh];n===vy?this.upgradeIfSecondaryHealthy_():n===gy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===_y&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=vl("t",e),s=vl("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ey,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=vl("t",e),s=vl("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=vl(eh,e);if(my in e){const s=e[my];if(n===XN){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===yy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===WN?this.onConnectionShutdown_(s):n===gy?this.onReset_(s):n===QN?wh("Server Error: "+s):n===_y?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),up!==s&&nn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),kl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(GN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):kl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(YN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ey,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Jr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{put(e,n,s,l){}merge(e,n,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const l=this.getInitialEvent(e);l&&n.apply(s,l)}off(e,n,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===n&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends G0{static getInstance(){return new $u}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!pc()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=32,by=768;class Ke{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Fe(){return new Ke("")}function Oe(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function _r(i){return i.pieces_.length-i.pieceNum_}function et(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Ke(i.pieces_,e)}function dp(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function JN(i){let e="";for(let n=i.pieceNum_;n<i.pieces_.length;n++)i.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[n])));return e||"/"}function Fl(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function Y0(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let n=i.pieceNum_;n<i.pieces_.length-1;n++)e.push(i.pieces_[n]);return new Ke(e,0)}function ht(i,e){const n=[];for(let s=i.pieceNum_;s<i.pieces_.length;s++)n.push(i.pieces_[s]);if(e instanceof Ke)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&n.push(s[l])}return new Ke(n,0)}function Ie(i){return i.pieceNum_>=i.pieces_.length}function en(i,e){const n=Oe(i),s=Oe(e);if(n===null)return e;if(n===s)return en(et(i),et(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function e1(i,e){const n=Fl(i,0),s=Fl(e,0);for(let l=0;l<n.length&&l<s.length;l++){const u=cs(n[l],s[l]);if(u!==0)return u}return n.length===s.length?0:n.length<s.length?-1:1}function hp(i,e){if(_r(i)!==_r(e))return!1;for(let n=i.pieceNum_,s=e.pieceNum_;n<=i.pieces_.length;n++,s++)if(i.pieces_[n]!==e.pieces_[s])return!1;return!0}function On(i,e){let n=i.pieceNum_,s=e.pieceNum_;if(_r(i)>_r(e))return!1;for(;n<i.pieces_.length;){if(i.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class t1{constructor(e,n){this.errorPrefix_=n,this.parts_=Fl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=mc(this.parts_[s]);$0(this)}}function n1(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=mc(e),$0(i)}function i1(i){const e=i.parts_.pop();i.byteLength_-=mc(e),i.parts_.length>0&&(i.byteLength_-=1)}function $0(i){if(i.byteLength_>by)throw new Error(i.errorPrefix_+"has a key path longer than "+by+" bytes ("+i.byteLength_+").");if(i.parts_.length>Sy)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Sy+") or object contains a cycle "+Xr(i))}function Xr(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends G0{static getInstance(){return new pp}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=1e3,r1=60*5*1e3,Ty=30*1e3,s1=1.3,a1=3e4,l1="server_kill",wy=3;class Ai extends q0{constructor(e,n,s,l,u,f,h,p){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=Ai.nextPersistentConnectionId_++,this.log_=ro("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yl,this.maxReconnectDelay_=r1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");pp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&$u.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const l=++this.requestNumber_,u={r:l,a:e,b:n};this.log_(Ot(u)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const n=new hc,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,s,l){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:n,query:e,tag:s};this.listens.get(f).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},f="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,h=>{const p=h.d,m=h.s;Ai.warnOnListenWarnings_(p,n),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Jn(e,"w")){const s=la(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();nn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Qw(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ty)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Ww(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,l=>{const u=l.s,f=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,n)}sendUnlisten_(e,n,s,l){this.log_("Unlisten on "+e+" for "+n);const u={p:e},f="n";l&&(u.q=s,u.t=l),this.sendRequest(f,u)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,l){const u={p:n,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(e,n,s,l){this.putInternal("p",e,n,s,l)}merge(e,n,s,l){this.putInternal("m",e,n,s,l)}putInternal(e,n,s,l,u){this.initConnection_();const f={p:n,d:s};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ot(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):wh("Unrecognized action received from server: "+Ot(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>a1&&(this.reconnectDelay_=yl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*s1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Ai.nextConnectionId_++,u=this.lastSessionId;let f=!1,h=null;const p=function(){h?h.close():(f=!0,s())},m=function(y){Y(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:p,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,E]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);f?zt("getToken() completed but was canceled"):(zt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=E&&E.token,h=new ZN(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,b=>{nn(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(l1)},u))}catch(y){this.log_("Failed to get token: "+y),f||(this.repoInfo_.nodeAdmin&&nn(y),p())}}}interrupt(e){zt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){zt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],dh(this.interruptReasons_)&&(this.reconnectDelay_=yl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(u=>op(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,n){const s=new Ke(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(n),u.delete(n),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,n){zt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=wy&&(this.reconnectDelay_=Ty,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){zt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=wy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+T0.replace(/\./g,"-")]=1,pc()?e["framework.cordova"]=1:Yh()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=$u.getInstance().currentlyOnline();return dh(this.interruptReasons_)&&e}}Ai.nextPersistentConnectionId_=0;Ai.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ae(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new Ae(oa,e),l=new Ae(oa,n);return this.compare(s,l)!==0}minPost(){return Ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu;class K0 extends yc{static get __EMPTY_NODE(){return Tu}static set __EMPTY_NODE(e){Tu=e}compare(e,n){return cs(e.name,n.name)}isDefinedOn(e){throw da("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ae.MIN}maxPost(){return new Ae(as,Tu)}makePost(e,n){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new Ae(e,Tu)}toString(){return".key"}}const na=new K0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=n?s(e.key,n):1,l&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Nt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??Nt.RED,this.left=l??tn.EMPTY_NODE,this.right=u??tn.EMPTY_NODE}copy(e,n,s,l,u){return new Nt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return tn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,l;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return tn.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Nt.RED=!0;Nt.BLACK=!1;class o1{copy(e,n,s,l,u){return this}insert(e,n,s){return new Nt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class tn{constructor(e,n=tn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new tn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Nt.BLACK,null,null))}remove(e){return new tn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Nt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,l=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new wu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new wu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new wu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new wu(this.root_,null,this.comparator_,!0,e)}}tn.EMPTY_NODE=new o1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(i,e){return cs(i.name,e.name)}function mp(i,e){return cs(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh;function c1(i){Rh=i}const W0=function(i){return typeof i=="number"?"number:"+A0(i):"string:"+i},Q0=function(i){if(i.isLeafNode()){const e=i.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Jn(e,".sv"),"Priority must be a string or number.")}else Y(i===Rh||i.isEmpty(),"priority of unexpected type.");Y(i===Rh||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cy;class At{static set __childrenNodeConstructor(e){Cy=e}static get __childrenNodeConstructor(){return Cy}constructor(e,n=At.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Q0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new At(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:At.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ie(e)?this:Oe(e)===".priority"?this.priorityNode_:At.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:At.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=Oe(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(Y(s!==".priority"||_r(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,At.__childrenNodeConstructor.EMPTY_NODE.updateChild(et(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+W0(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=A0(this.value_):e+=this.value_,this.lazyHash_=C0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===At.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof At.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,l=At.VALUE_TYPE_ORDER.indexOf(n),u=At.VALUE_TYPE_ORDER.indexOf(s);return Y(l>=0,"Unknown leaf type: "+n),Y(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}At.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X0,Z0;function f1(i){X0=i}function d1(i){Z0=i}class h1 extends yc{compare(e,n){const s=e.node.getPriority(),l=n.node.getPriority(),u=s.compareTo(l);return u===0?cs(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ae.MIN}maxPost(){return new Ae(as,new At("[PRIORITY-POST]",Z0))}makePost(e,n){const s=X0(e);return new Ae(n,new At("[PRIORITY-POST]",s))}toString(){return".priority"}}const pt=new h1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=Math.log(2);class m1{constructor(e){const n=u=>parseInt(Math.log(u)/p1,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ku=function(i,e,n,s){i.sort(e);const l=function(p,m){const _=m-p;let y,E;if(_===0)return null;if(_===1)return y=i[p],E=n?n(y):y,new Nt(E,y.node,Nt.BLACK,null,null);{const b=parseInt(_/2,10)+p,N=l(p,b),H=l(b+1,m);return y=i[b],E=n?n(y):y,new Nt(E,y.node,Nt.BLACK,N,H)}},u=function(p){let m=null,_=null,y=i.length;const E=function(N,H){const U=y-N,B=y;y-=N;const q=l(U+1,B),$=i[U],de=n?n($):$;b(new Nt(de,$.node,H,null,q))},b=function(N){m?(m.left=N,m=N):(_=N,m=N)};for(let N=0;N<p.count;++N){const H=p.nextBitIsOne(),U=Math.pow(2,p.count-(N+1));H?E(U,Nt.BLACK):(E(U,Nt.BLACK),E(U,Nt.RED))}return _},f=new m1(i.length),h=u(f);return new tn(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th;const Qs={};class wi{static get Default(){return Y(Qs&&pt,"ChildrenNode.ts has not been loaded"),th=th||new wi({".priority":Qs},{".priority":pt}),th}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=la(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof tn?n:null}hasIndex(e){return Jn(this.indexSet_,e.toString())}addIndex(e,n){Y(e!==na,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=n.getIterator(Ae.Wrap);let f=u.getNext();for(;f;)l=l||e.isDefinedOn(f.node),s.push(f),f=u.getNext();let h;l?h=Ku(s,e.getCompare()):h=Qs;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const _=Object.assign({},this.indexes_);return _[p]=h,new wi(_,m)}addToIndexes(e,n){const s=Hu(this.indexes_,(l,u)=>{const f=la(this.indexSet_,u);if(Y(f,"Missing index implementation for "+u),l===Qs)if(f.isDefinedOn(e.node)){const h=[],p=n.getIterator(Ae.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&h.push(m),m=p.getNext();return h.push(e),Ku(h,f.getCompare())}else return Qs;else{const h=n.get(e.name);let p=l;return h&&(p=p.remove(new Ae(e.name,h))),p.insert(e,e.node)}});return new wi(s,this.indexSet_)}removeFromIndexes(e,n){const s=Hu(this.indexes_,l=>{if(l===Qs)return l;{const u=n.get(e.name);return u?l.remove(new Ae(e.name,u)):l}});return new wi(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El;class _e{static get EMPTY_NODE(){return El||(El=new _e(new tn(mp),null,wi.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Q0(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||El}updatePriority(e){return this.children_.isEmpty()?this:new _e(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?El:n}}getChild(e){const n=Oe(e);return n===null?this:this.getImmediateChild(n).getChild(et(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Y(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new Ae(e,n);let l,u;n.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(s,this.children_));const f=l.isEmpty()?El:this.priorityNode_;return new _e(l,f,u)}}updateChild(e,n){const s=Oe(e);if(s===null)return n;{Y(Oe(e)!==".priority"||_r(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(et(e),n);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,l=0,u=!0;if(this.forEachChild(pt,(f,h)=>{n[f]=h.val(e),s++,u&&_e.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):u=!1}),!e&&u&&l<2*s){const f=[];for(const h in n)f[h]=n[h];return f}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+W0(this.getPriority().val())+":"),this.forEachChild(pt,(n,s)=>{const l=s.hash();l!==""&&(e+=":"+n+":"+l)}),this.lazyHash_=e===""?"":C0(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new Ae(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ae(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ae(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Ae.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Ae.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===so?-1:0}withIndex(e){if(e===na||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new _e(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===na||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(pt),l=n.getIterator(pt);let u=s.getNext(),f=l.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=s.getNext(),f=l.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===na?null:this.indexMap_.get(e.toString())}}_e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class g1 extends _e{constructor(){super(new tn(mp),_e.EMPTY_NODE,wi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _e.EMPTY_NODE}isEmpty(){return!1}}const so=new g1;Object.defineProperties(Ae,{MIN:{value:new Ae(oa,_e.EMPTY_NODE)},MAX:{value:new Ae(as,so)}});K0.__EMPTY_NODE=_e.EMPTY_NODE;At.__childrenNodeConstructor=_e;c1(so);d1(so);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=!0;function Ht(i,e=null){if(i===null)return _e.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const n=i;return new At(n,Ht(e))}if(!(i instanceof Array)&&_1){const n=[];let s=!1;if(Bt(i,(f,h)=>{if(f.substring(0,1)!=="."){const p=Ht(h);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),n.push(new Ae(f,p)))}}),n.length===0)return _e.EMPTY_NODE;const u=Ku(n,u1,f=>f.name,mp);if(s){const f=Ku(n,pt.getCompare());return new _e(u,Ht(e),new wi({".priority":f},{".priority":pt}))}else return new _e(u,Ht(e),wi.Default)}else{let n=_e.EMPTY_NODE;return Bt(i,(s,l)=>{if(Jn(i,s)&&s.substring(0,1)!=="."){const u=Ht(l);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(s,u))}}),n.updatePriority(Ht(e))}}f1(Ht);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends yc{constructor(e){super(),this.indexPath_=e,Y(!Ie(e)&&Oe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),l=this.extractChild(n.node),u=s.compareTo(l);return u===0?cs(e.name,n.name):u}makePost(e,n){const s=Ht(e),l=_e.EMPTY_NODE.updateChild(this.indexPath_,s);return new Ae(n,l)}maxPost(){const e=_e.EMPTY_NODE.updateChild(this.indexPath_,so);return new Ae(as,e)}toString(){return Fl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends yc{compare(e,n){const s=e.node.compareTo(n.node);return s===0?cs(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ae.MIN}maxPost(){return Ae.MAX}makePost(e,n){const s=Ht(e);return new Ae(n,s)}toString(){return".value"}}const E1=new y1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(i){return{type:"value",snapshotNode:i}}function ua(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function ql(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function Gl(i,e,n){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:n}}function S1(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this.index_=e}updateChild(e,n,s,l,u,f){Y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(f!=null&&(s.isEmpty()?e.hasChild(n)?f.trackChildChange(ql(n,h)):Y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(ua(n,s)):f.trackChildChange(Gl(n,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(pt,(l,u)=>{n.hasChild(l)||s.trackChildChange(ql(l,u))}),n.isLeafNode()||n.forEachChild(pt,(l,u)=>{if(e.hasChild(l)){const f=e.getImmediateChild(l);f.equals(u)||s.trackChildChange(Gl(l,u,f))}else s.trackChildChange(ua(l,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?_e.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.indexedFilter_=new gp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Yl.getStartPost_(e),this.endPost_=Yl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,l,u,f){return this.matches(new Ae(n,s))||(s=_e.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,l,u,f)}updateFullNode(e,n,s){n.isLeafNode()&&(n=_e.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(_e.EMPTY_NODE);const u=this;return n.forEachChild(pt,(f,h)=>{u.matches(new Ae(f,h))||(l=l.updateImmediateChild(f,_e.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Yl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,l,u,f){return this.rangedFilter_.matches(new Ae(n,s))||(s=_e.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,l,u,f):this.fullLimitUpdateChild_(e,n,s,u,f)}updateFullNode(e,n,s){let l;if(n.isLeafNode()||n.isEmpty())l=_e.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=_e.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(_e.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let f=0;for(;u.hasNext();){const h=u.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:l=l.updateImmediateChild(h.name,_e.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,l,u){let f;if(this.reverse_){const y=this.index_.getCompare();f=(E,b)=>y(b,E)}else f=this.index_.getCompare();const h=e;Y(h.numChildren()===this.limit_,"");const p=new Ae(n,s),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(h.hasChild(n)){const y=h.getImmediateChild(n);let E=l.getChildAfterChild(this.index_,m,this.reverse_);for(;E!=null&&(E.name===n||h.hasChild(E.name));)E=l.getChildAfterChild(this.index_,E,this.reverse_);const b=E==null?1:f(E,p);if(_&&!s.isEmpty()&&b>=0)return u!=null&&u.trackChildChange(Gl(n,s,y)),h.updateImmediateChild(n,s);{u!=null&&u.trackChildChange(ql(n,y));const H=h.updateImmediateChild(n,_e.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u!=null&&u.trackChildChange(ua(E.name,E.node)),H.updateImmediateChild(E.name,E.node)):H}}else return s.isEmpty()?e:_&&f(m,p)>=0?(u!=null&&(u.trackChildChange(ql(m.name,m.node)),u.trackChildChange(ua(n,s))),h.updateImmediateChild(n,s).updateImmediateChild(m.name,_e.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oa}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:as}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pt}copy(){const e=new _p;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function T1(i){return i.loadsAllData()?new gp(i.getIndex()):i.hasLimit()?new b1(i):new Yl(i)}function Ry(i){const e={};if(i.isDefault())return e;let n;if(i.index_===pt?n="$priority":i.index_===E1?n="$value":i.index_===na?n="$key":(Y(i.index_ instanceof v1,"Unrecognized index type!"),n=i.index_.toString()),e.orderBy=Ot(n),i.startSet_){const s=i.startAfterSet_?"startAfter":"startAt";e[s]=Ot(i.indexStartValue_),i.startNameSet_&&(e[s]+=","+Ot(i.indexStartName_))}if(i.endSet_){const s=i.endBeforeSet_?"endBefore":"endAt";e[s]=Ot(i.indexEndValue_),i.endNameSet_&&(e[s]+=","+Ot(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function Ay(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let n=i.viewFrom_;n===""&&(i.isViewFromLeft()?n="l":n="r"),e.vf=n}return i.index_!==pt&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends q0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=ro("p:rest:"),this.listens_={}}listen(e,n,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=Wu.getListenId_(e,s),h={};this.listens_[f]=h;const p=Ry(e._queryParams);this.restRequest_(u+".json",p,(m,_)=>{let y=_;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(u,y,!1,s),la(this.listens_,f)===h){let E;m?m===401?E="permission_denied":E="rest_error:"+m:E="ok",l(E,null)}})}unlisten(e,n){const s=Wu.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Ry(e._queryParams),s=e._path.toString(),l=new hc;return this.restRequest_(s+".json",n,(u,f)=>{let h=f;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(n.auth=l.accessToken),u&&u.token&&(n.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Sr(n);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=Hl(h.responseText)}catch{nn("Failed to parse JSON response for "+f+": "+h.responseText)}s(null,p)}else h.status!==401&&h.status!==404&&nn("Got unsuccessful REST response for "+f+" Status: "+h.status),s(h.status);s=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.rootNode_=_e.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(){return{value:null,children:new Map}}function eS(i,e,n){if(Ie(e))i.value=n,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,n);else{const s=Oe(e);i.children.has(s)||i.children.set(s,Qu());const l=i.children.get(s);e=et(e),eS(l,e,n)}}function Ah(i,e,n){i.value!==null?n(e,i.value):C1(i,(s,l)=>{const u=new Ke(e.toString()+"/"+s);Ah(l,u,n)})}function C1(i,e){i.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Bt(this.last_,(s,l)=>{n[s]=n[s]-l}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=10*1e3,A1=30*1e3,N1=5*60*1e3;class O1{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new R1(e);const s=Ny+(A1-Ny)*Math.random();kl(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Bt(e,(l,u)=>{u>0&&Jn(this.statsToReport_,l)&&(n[l]=u,s=!0)}),s&&this.server_.reportStats(n),kl(this.reportStats_.bind(this),Math.floor(Math.random()*2*N1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Hn||(Hn={}));function vp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ep(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Hn.ACK_USER_WRITE,this.source=vp()}operationForChild(e){if(Ie(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ke(e));return new Xu(Fe(),n,this.revert)}}else return Y(Oe(this.path)===e,"operationForChild called for unrelated child."),new Xu(et(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.source=e,this.path=n,this.type=Hn.LISTEN_COMPLETE}operationForChild(e){return Ie(this.path)?new $l(this.source,Fe()):new $l(this.source,et(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Hn.OVERWRITE}operationForChild(e){return Ie(this.path)?new ls(this.source,Fe(),this.snap.getImmediateChild(e)):new ls(this.source,et(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Hn.MERGE}operationForChild(e){if(Ie(this.path)){const n=this.children.subtree(new Ke(e));return n.isEmpty()?null:n.value?new ls(this.source,Fe(),n.value):new ca(this.source,Fe(),n)}else return Y(Oe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ca(this.source,et(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ie(e))return this.isFullyInitialized()&&!this.filtered_;const n=Oe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function D1(i,e,n,s){const l=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(S1(f.childName,f.snapshotNode))}),Sl(i,l,"child_removed",e,s,n),Sl(i,l,"child_added",e,s,n),Sl(i,l,"child_moved",u,s,n),Sl(i,l,"child_changed",e,s,n),Sl(i,l,"value",e,s,n),l}function Sl(i,e,n,s,l,u){const f=s.filter(h=>h.type===n);f.sort((h,p)=>k1(i,h,p)),f.forEach(h=>{const p=M1(i,h,u);l.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(p,i.query_))})})}function M1(i,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function k1(i,e,n){if(e.childName==null||n.childName==null)throw da("Should only compare child_ events.");const s=new Ae(e.childName,e.snapshotNode),l=new Ae(n.childName,n.snapshotNode);return i.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(i,e){return{eventCache:i,serverCache:e}}function Ll(i,e,n,s){return Ec(new os(e,n,s),i.serverCache)}function tS(i,e,n,s){return Ec(i.eventCache,new os(e,n,s))}function Nh(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function us(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh;const L1=()=>(nh||(nh=new tn(vN)),nh);class Je{static fromObject(e){let n=new Je(null);return Bt(e,(s,l)=>{n=n.set(new Ke(s),l)}),n}constructor(e,n=L1()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Fe(),value:this.value};if(Ie(e))return null;{const s=Oe(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(et(e),n);return u!=null?{path:ht(new Ke(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ie(e))return this;{const n=Oe(e),s=this.children.get(n);return s!==null?s.subtree(et(e)):new Je(null)}}set(e,n){if(Ie(e))return new Je(n,this.children);{const s=Oe(e),u=(this.children.get(s)||new Je(null)).set(et(e),n),f=this.children.insert(s,u);return new Je(this.value,f)}}remove(e){if(Ie(e))return this.children.isEmpty()?new Je(null):new Je(null,this.children);{const n=Oe(e),s=this.children.get(n);if(s){const l=s.remove(et(e));let u;return l.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,l),this.value===null&&u.isEmpty()?new Je(null):new Je(this.value,u)}else return this}}get(e){if(Ie(e))return this.value;{const n=Oe(e),s=this.children.get(n);return s?s.get(et(e)):null}}setTree(e,n){if(Ie(e))return n;{const s=Oe(e),u=(this.children.get(s)||new Je(null)).setTree(et(e),n);let f;return u.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,u),new Je(this.value,f)}}fold(e){return this.fold_(Fe(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(ht(e,l),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Fe(),n)}findOnPath_(e,n,s){const l=this.value?s(n,this.value):!1;if(l)return l;if(Ie(e))return null;{const u=Oe(e),f=this.children.get(u);return f?f.findOnPath_(et(e),ht(n,u),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Fe(),n)}foreachOnPath_(e,n,s){if(Ie(e))return this;{this.value&&s(n,this.value);const l=Oe(e),u=this.children.get(l);return u?u.foreachOnPath_(et(e),ht(n,l),s):new Je(null)}}foreach(e){this.foreach_(Fe(),e)}foreach_(e,n){this.children.inorderTraversal((s,l)=>{l.foreach_(ht(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.writeTree_=e}static empty(){return new Bn(new Je(null))}}function xl(i,e,n){if(Ie(e))return new Bn(new Je(n));{const s=i.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const f=en(l,e);return u=u.updateChild(f,n),new Bn(i.writeTree_.set(l,u))}else{const l=new Je(n),u=i.writeTree_.setTree(e,l);return new Bn(u)}}}function Oh(i,e,n){let s=i;return Bt(n,(l,u)=>{s=xl(s,ht(e,l),u)}),s}function Oy(i,e){if(Ie(e))return Bn.empty();{const n=i.writeTree_.setTree(e,new Je(null));return new Bn(n)}}function Ih(i,e){return fs(i,e)!=null}function fs(i,e){const n=i.writeTree_.findRootMostValueAndPath(e);return n!=null?i.writeTree_.get(n.path).getChild(en(n.path,e)):null}function Iy(i){const e=[],n=i.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(pt,(s,l)=>{e.push(new Ae(s,l))}):i.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new Ae(s,l.value))}),e}function mr(i,e){if(Ie(e))return i;{const n=fs(i,e);return n!=null?new Bn(new Je(n)):new Bn(i.writeTree_.subtree(e))}}function Dh(i){return i.writeTree_.isEmpty()}function fa(i,e){return nS(Fe(),i.writeTree_,e)}function nS(i,e,n){if(e.value!=null)return n.updateChild(i,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(Y(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):n=nS(ht(i,l),u,n)}),!n.getChild(i).isEmpty()&&s!==null&&(n=n.updateChild(ht(i,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(i,e){return aS(e,i)}function x1(i,e,n,s,l){Y(s>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:e,snap:n,writeId:s,visible:l}),l&&(i.visibleWrites=xl(i.visibleWrites,e,n)),i.lastWriteId=s}function U1(i,e,n,s){Y(s>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:e,children:n,writeId:s,visible:!0}),i.visibleWrites=Oh(i.visibleWrites,e,n),i.lastWriteId=s}function P1(i,e){for(let n=0;n<i.allWrites.length;n++){const s=i.allWrites[n];if(s.writeId===e)return s}return null}function z1(i,e){const n=i.allWrites.findIndex(h=>h.writeId===e);Y(n>=0,"removeWrite called with nonexistent writeId.");const s=i.allWrites[n];i.allWrites.splice(n,1);let l=s.visible,u=!1,f=i.allWrites.length-1;for(;l&&f>=0;){const h=i.allWrites[f];h.visible&&(f>=n&&H1(h,s.path)?l=!1:On(s.path,h.path)&&(u=!0)),f--}if(l){if(u)return B1(i),!0;if(s.snap)i.visibleWrites=Oy(i.visibleWrites,s.path);else{const h=s.children;Bt(h,p=>{i.visibleWrites=Oy(i.visibleWrites,ht(s.path,p))})}return!0}else return!1}function H1(i,e){if(i.snap)return On(i.path,e);for(const n in i.children)if(i.children.hasOwnProperty(n)&&On(ht(i.path,n),e))return!0;return!1}function B1(i){i.visibleWrites=iS(i.allWrites,j1,Fe()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function j1(i){return i.visible}function iS(i,e,n){let s=Bn.empty();for(let l=0;l<i.length;++l){const u=i[l];if(e(u)){const f=u.path;let h;if(u.snap)On(n,f)?(h=en(n,f),s=xl(s,h,u.snap)):On(f,n)&&(h=en(f,n),s=xl(s,Fe(),u.snap.getChild(h)));else if(u.children){if(On(n,f))h=en(n,f),s=Oh(s,h,u.children);else if(On(f,n))if(h=en(f,n),Ie(h))s=Oh(s,Fe(),u.children);else{const p=la(u.children,Oe(h));if(p){const m=p.getChild(et(h));s=xl(s,Fe(),m)}}}else throw da("WriteRecord should have .snap or .children")}}return s}function rS(i,e,n,s,l){if(!s&&!l){const u=fs(i.visibleWrites,e);if(u!=null)return u;{const f=mr(i.visibleWrites,e);if(Dh(f))return n;if(n==null&&!Ih(f,Fe()))return null;{const h=n||_e.EMPTY_NODE;return fa(f,h)}}}else{const u=mr(i.visibleWrites,e);if(!l&&Dh(u))return n;if(!l&&n==null&&!Ih(u,Fe()))return null;{const f=function(m){return(m.visible||l)&&(!s||!~s.indexOf(m.writeId))&&(On(m.path,e)||On(e,m.path))},h=iS(i.allWrites,f,e),p=n||_e.EMPTY_NODE;return fa(h,p)}}}function V1(i,e,n){let s=_e.EMPTY_NODE;const l=fs(i.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(pt,(u,f)=>{s=s.updateImmediateChild(u,f)}),s;if(n){const u=mr(i.visibleWrites,e);return n.forEachChild(pt,(f,h)=>{const p=fa(mr(u,new Ke(f)),h);s=s.updateImmediateChild(f,p)}),Iy(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}else{const u=mr(i.visibleWrites,e);return Iy(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}}function F1(i,e,n,s,l){Y(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=ht(e,n);if(Ih(i.visibleWrites,u))return null;{const f=mr(i.visibleWrites,u);return Dh(f)?l.getChild(n):fa(f,l.getChild(n))}}function q1(i,e,n,s){const l=ht(e,n),u=fs(i.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(n)){const f=mr(i.visibleWrites,l);return fa(f,s.getNode().getImmediateChild(n))}else return null}function G1(i,e){return fs(i.visibleWrites,e)}function Y1(i,e,n,s,l,u,f){let h;const p=mr(i.visibleWrites,e),m=fs(p,Fe());if(m!=null)h=m;else if(n!=null)h=fa(p,n);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const _=[],y=f.getCompare(),E=u?h.getReverseIteratorFrom(s,f):h.getIteratorFrom(s,f);let b=E.getNext();for(;b&&_.length<l;)y(b,s)!==0&&_.push(b),b=E.getNext();return _}else return[]}function $1(){return{visibleWrites:Bn.empty(),allWrites:[],lastWriteId:-1}}function Zu(i,e,n,s){return rS(i.writeTree,i.treePath,e,n,s)}function bp(i,e){return V1(i.writeTree,i.treePath,e)}function Dy(i,e,n,s){return F1(i.writeTree,i.treePath,e,n,s)}function Ju(i,e){return G1(i.writeTree,ht(i.treePath,e))}function K1(i,e,n,s,l,u){return Y1(i.writeTree,i.treePath,e,n,s,l,u)}function Tp(i,e,n){return q1(i.writeTree,i.treePath,e,n)}function sS(i,e){return aS(ht(i.treePath,e),i.writeTree)}function aS(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;Y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Y(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(s,Gl(s,e.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(s,ql(s,l.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(s,ua(s,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(s,Gl(s,e.snapshotNode,l.oldSnap));else throw da("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const lS=new Q1;class wp{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new os(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tp(this.writes_,e,s)}}getChildAfterChild(e,n,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:us(this.viewCache_),u=K1(this.writes_,l,n,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(i){return{filter:i}}function Z1(i,e){Y(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function J1(i,e,n,s,l){const u=new W1;let f,h;if(n.type===Hn.OVERWRITE){const m=n;m.source.fromUser?f=Mh(i,e,m.path,m.snap,s,l,u):(Y(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!Ie(m.path),f=ec(i,e,m.path,m.snap,s,l,h,u))}else if(n.type===Hn.MERGE){const m=n;m.source.fromUser?f=tO(i,e,m.path,m.children,s,l,u):(Y(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),f=kh(i,e,m.path,m.children,s,l,h,u))}else if(n.type===Hn.ACK_USER_WRITE){const m=n;m.revert?f=rO(i,e,m.path,s,l,u):f=nO(i,e,m.path,m.affectedTree,s,l,u)}else if(n.type===Hn.LISTEN_COMPLETE)f=iO(i,e,n.path,s,u);else throw da("Unknown operation type: "+n.type);const p=u.getChanges();return eO(e,f,p),{viewCache:f,changes:p}}function eO(i,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=Nh(i);(n.length>0||!i.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&n.push(J0(Nh(e)))}}function oS(i,e,n,s,l,u){const f=e.eventCache;if(Ju(s,n)!=null)return e;{let h,p;if(Ie(n))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=us(e),_=m instanceof _e?m:_e.EMPTY_NODE,y=bp(s,_);h=i.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const m=Zu(s,us(e));h=i.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=Oe(n);if(m===".priority"){Y(_r(n)===1,"Can't have a priority with additional path components");const _=f.getNode();p=e.serverCache.getNode();const y=Dy(s,n,_,p);y!=null?h=i.filter.updatePriority(_,y):h=f.getNode()}else{const _=et(n);let y;if(f.isCompleteForChild(m)){p=e.serverCache.getNode();const E=Dy(s,n,f.getNode(),p);E!=null?y=f.getNode().getImmediateChild(m).updateChild(_,E):y=f.getNode().getImmediateChild(m)}else y=Tp(s,m,e.serverCache);y!=null?h=i.filter.updateChild(f.getNode(),m,y,_,l,u):h=f.getNode()}}return Ll(e,h,f.isFullyInitialized()||Ie(n),i.filter.filtersNodes())}}function ec(i,e,n,s,l,u,f,h){const p=e.serverCache;let m;const _=f?i.filter:i.filter.getIndexedFilter();if(Ie(n))m=_.updateFullNode(p.getNode(),s,null);else if(_.filtersNodes()&&!p.isFiltered()){const b=p.getNode().updateChild(n,s);m=_.updateFullNode(p.getNode(),b,null)}else{const b=Oe(n);if(!p.isCompleteForPath(n)&&_r(n)>1)return e;const N=et(n),U=p.getNode().getImmediateChild(b).updateChild(N,s);b===".priority"?m=_.updatePriority(p.getNode(),U):m=_.updateChild(p.getNode(),b,U,N,lS,null)}const y=tS(e,m,p.isFullyInitialized()||Ie(n),_.filtersNodes()),E=new wp(l,y,u);return oS(i,y,n,l,E,h)}function Mh(i,e,n,s,l,u,f){const h=e.eventCache;let p,m;const _=new wp(l,e,u);if(Ie(n))m=i.filter.updateFullNode(e.eventCache.getNode(),s,f),p=Ll(e,m,!0,i.filter.filtersNodes());else{const y=Oe(n);if(y===".priority")m=i.filter.updatePriority(e.eventCache.getNode(),s),p=Ll(e,m,h.isFullyInitialized(),h.isFiltered());else{const E=et(n),b=h.getNode().getImmediateChild(y);let N;if(Ie(E))N=s;else{const H=_.getCompleteChild(y);H!=null?dp(E)===".priority"&&H.getChild(Y0(E)).isEmpty()?N=H:N=H.updateChild(E,s):N=_e.EMPTY_NODE}if(b.equals(N))p=e;else{const H=i.filter.updateChild(h.getNode(),y,N,E,_,f);p=Ll(e,H,h.isFullyInitialized(),i.filter.filtersNodes())}}}return p}function My(i,e){return i.eventCache.isCompleteForChild(e)}function tO(i,e,n,s,l,u,f){let h=e;return s.foreach((p,m)=>{const _=ht(n,p);My(e,Oe(_))&&(h=Mh(i,h,_,m,l,u,f))}),s.foreach((p,m)=>{const _=ht(n,p);My(e,Oe(_))||(h=Mh(i,h,_,m,l,u,f))}),h}function ky(i,e,n){return n.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function kh(i,e,n,s,l,u,f,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;Ie(n)?m=s:m=new Je(null).setTree(n,s);const _=e.serverCache.getNode();return m.children.inorderTraversal((y,E)=>{if(_.hasChild(y)){const b=e.serverCache.getNode().getImmediateChild(y),N=ky(i,b,E);p=ec(i,p,new Ke(y),N,l,u,f,h)}}),m.children.inorderTraversal((y,E)=>{const b=!e.serverCache.isCompleteForChild(y)&&E.value===null;if(!_.hasChild(y)&&!b){const N=e.serverCache.getNode().getImmediateChild(y),H=ky(i,N,E);p=ec(i,p,new Ke(y),H,l,u,f,h)}}),p}function nO(i,e,n,s,l,u,f){if(Ju(l,n)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(Ie(n)&&p.isFullyInitialized()||p.isCompleteForPath(n))return ec(i,e,n,p.getNode().getChild(n),l,u,h,f);if(Ie(n)){let m=new Je(null);return p.getNode().forEachChild(na,(_,y)=>{m=m.set(new Ke(_),y)}),kh(i,e,n,m,l,u,h,f)}else return e}else{let m=new Je(null);return s.foreach((_,y)=>{const E=ht(n,_);p.isCompleteForPath(E)&&(m=m.set(_,p.getNode().getChild(E)))}),kh(i,e,n,m,l,u,h,f)}}function iO(i,e,n,s,l){const u=e.serverCache,f=tS(e,u.getNode(),u.isFullyInitialized()||Ie(n),u.isFiltered());return oS(i,f,n,s,lS,l)}function rO(i,e,n,s,l,u){let f;if(Ju(s,n)!=null)return e;{const h=new wp(s,e,l),p=e.eventCache.getNode();let m;if(Ie(n)||Oe(n)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=Zu(s,us(e));else{const y=e.serverCache.getNode();Y(y instanceof _e,"serverChildren would be complete if leaf node"),_=bp(s,y)}_=_,m=i.filter.updateFullNode(p,_,u)}else{const _=Oe(n);let y=Tp(s,_,e.serverCache);y==null&&e.serverCache.isCompleteForChild(_)&&(y=p.getImmediateChild(_)),y!=null?m=i.filter.updateChild(p,_,y,et(n),h,u):e.eventCache.getNode().hasChild(_)?m=i.filter.updateChild(p,_,_e.EMPTY_NODE,et(n),h,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Zu(s,us(e)),f.isLeafNode()&&(m=i.filter.updateFullNode(m,f,u)))}return f=e.serverCache.isFullyInitialized()||Ju(s,Fe())!=null,Ll(e,m,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new gp(s.getIndex()),u=T1(s);this.processor_=X1(u);const f=n.serverCache,h=n.eventCache,p=l.updateFullNode(_e.EMPTY_NODE,f.getNode(),null),m=u.updateFullNode(_e.EMPTY_NODE,h.getNode(),null),_=new os(p,f.isFullyInitialized(),l.filtersNodes()),y=new os(m,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Ec(y,_),this.eventGenerator_=new I1(this.query_)}get query(){return this.query_}}function aO(i){return i.viewCache_.serverCache.getNode()}function lO(i,e){const n=us(i.viewCache_);return n&&(i.query._queryParams.loadsAllData()||!Ie(e)&&!n.getImmediateChild(Oe(e)).isEmpty())?n.getChild(e):null}function Ly(i){return i.eventRegistrations_.length===0}function oO(i,e){i.eventRegistrations_.push(e)}function xy(i,e,n){const s=[];if(n){Y(e==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(n,l);f&&s.push(f)})}if(e){let l=[];for(let u=0;u<i.eventRegistrations_.length;++u){const f=i.eventRegistrations_[u];if(!f.matches(e))l.push(f);else if(e.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return s}function Uy(i,e,n,s){e.type===Hn.MERGE&&e.source.queryId!==null&&(Y(us(i.viewCache_),"We should always have a full cache before handling merges"),Y(Nh(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,u=J1(i.processor_,l,e,n,s);return Z1(i.processor_,u.viewCache),Y(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,uS(i,u.changes,u.viewCache.eventCache.getNode(),null)}function uO(i,e){const n=i.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(pt,(u,f)=>{s.push(ua(u,f))}),n.isFullyInitialized()&&s.push(J0(n.getNode())),uS(i,s,n.getNode(),e)}function uS(i,e,n,s){const l=s?[s]:i.eventRegistrations_;return D1(i.eventGenerator_,e,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc;class cO{constructor(){this.views=new Map}}function fO(i){Y(!tc,"__referenceConstructor has already been defined"),tc=i}function dO(){return Y(tc,"Reference.ts has not been loaded"),tc}function hO(i){return i.views.size===0}function Cp(i,e,n,s){const l=e.source.queryId;if(l!==null){const u=i.views.get(l);return Y(u!=null,"SyncTree gave us an op for an invalid query."),Uy(u,e,n,s)}else{let u=[];for(const f of i.views.values())u=u.concat(Uy(f,e,n,s));return u}}function pO(i,e,n,s,l){const u=e._queryIdentifier,f=i.views.get(u);if(!f){let h=Zu(n,l?s:null),p=!1;h?p=!0:s instanceof _e?(h=bp(n,s),p=!1):(h=_e.EMPTY_NODE,p=!1);const m=Ec(new os(h,p,!1),new os(s,l,!1));return new sO(e,m)}return f}function mO(i,e,n,s,l,u){const f=pO(i,e,s,l,u);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,f),oO(f,n),uO(f,n)}function gO(i,e,n,s){const l=e._queryIdentifier,u=[];let f=[];const h=vr(i);if(l==="default")for(const[p,m]of i.views.entries())f=f.concat(xy(m,n,s)),Ly(m)&&(i.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=i.views.get(l);p&&(f=f.concat(xy(p,n,s)),Ly(p)&&(i.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return h&&!vr(i)&&u.push(new(dO())(e._repo,e._path)),{removed:u,events:f}}function cS(i){const e=[];for(const n of i.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ia(i,e){let n=null;for(const s of i.views.values())n=n||lO(s,e);return n}function fS(i,e){if(e._queryParams.loadsAllData())return Sc(i);{const s=e._queryIdentifier;return i.views.get(s)}}function dS(i,e){return fS(i,e)!=null}function vr(i){return Sc(i)!=null}function Sc(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc;function _O(i){Y(!nc,"__referenceConstructor has already been defined"),nc=i}function vO(){return Y(nc,"Reference.ts has not been loaded"),nc}let yO=1;class Py{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Je(null),this.pendingWriteTree_=$1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function EO(i,e,n,s,l){return x1(i.pendingWriteTree_,e,n,s,l),l?ma(i,new ls(vp(),e,n)):[]}function SO(i,e,n,s){U1(i.pendingWriteTree_,e,n,s);const l=Je.fromObject(n);return ma(i,new ca(vp(),e,l))}function es(i,e,n=!1){const s=P1(i.pendingWriteTree_,e);if(z1(i.pendingWriteTree_,e)){let u=new Je(null);return s.snap!=null?u=u.set(Fe(),!0):Bt(s.children,f=>{u=u.set(new Ke(f),!0)}),ma(i,new Xu(s.path,u,n))}else return[]}function bc(i,e,n){return ma(i,new ls(yp(),e,n))}function bO(i,e,n){const s=Je.fromObject(n);return ma(i,new ca(yp(),e,s))}function TO(i,e){return ma(i,new $l(yp(),e))}function wO(i,e,n){const s=Rp(i,n);if(s){const l=Ap(s),u=l.path,f=l.queryId,h=en(u,e),p=new $l(Ep(f),h);return Np(i,u,p)}else return[]}function Lh(i,e,n,s,l=!1){const u=e._path,f=i.syncPointTree_.get(u);let h=[];if(f&&(e._queryIdentifier==="default"||dS(f,e))){const p=gO(f,e,n,s);hO(f)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const m=p.removed;if(h=p.events,!l){const _=m.findIndex(E=>E._queryParams.loadsAllData())!==-1,y=i.syncPointTree_.findOnPath(u,(E,b)=>vr(b));if(_&&!y){const E=i.syncPointTree_.subtree(u);if(!E.isEmpty()){const b=AO(E);for(let N=0;N<b.length;++N){const H=b[N],U=H.query,B=gS(i,H);i.listenProvider_.startListening(Ul(U),ic(i,U),B.hashFn,B.onComplete)}}}!y&&m.length>0&&!s&&(_?i.listenProvider_.stopListening(Ul(e),null):m.forEach(E=>{const b=i.queryToTagMap.get(Tc(E));i.listenProvider_.stopListening(Ul(E),b)}))}NO(i,m)}return h}function CO(i,e,n,s){const l=Rp(i,s);if(l!=null){const u=Ap(l),f=u.path,h=u.queryId,p=en(f,e),m=new ls(Ep(h),p,n);return Np(i,f,m)}else return[]}function RO(i,e,n,s){const l=Rp(i,s);if(l){const u=Ap(l),f=u.path,h=u.queryId,p=en(f,e),m=Je.fromObject(n),_=new ca(Ep(h),p,m);return Np(i,f,_)}else return[]}function zy(i,e,n,s=!1){const l=e._path;let u=null,f=!1;i.syncPointTree_.foreachOnPath(l,(E,b)=>{const N=en(E,l);u=u||ia(b,N),f=f||vr(b)});let h=i.syncPointTree_.get(l);h?(f=f||vr(h),u=u||ia(h,Fe())):(h=new cO,i.syncPointTree_=i.syncPointTree_.set(l,h));let p;u!=null?p=!0:(p=!1,u=_e.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((b,N)=>{const H=ia(N,Fe());H&&(u=u.updateImmediateChild(b,H))}));const m=dS(h,e);if(!m&&!e._queryParams.loadsAllData()){const E=Tc(e);Y(!i.queryToTagMap.has(E),"View does not exist, but we have a tag");const b=OO();i.queryToTagMap.set(E,b),i.tagToQueryMap.set(b,E)}const _=Sp(i.pendingWriteTree_,l);let y=mO(h,e,n,_,u,p);if(!m&&!f&&!s){const E=fS(h,e);y=y.concat(IO(i,e,E))}return y}function hS(i,e,n){const l=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(e,(f,h)=>{const p=en(f,e),m=ia(h,p);if(m)return m});return rS(l,e,u,n,!0)}function ma(i,e){return pS(e,i.syncPointTree_,null,Sp(i.pendingWriteTree_,Fe()))}function pS(i,e,n,s){if(Ie(i.path))return mS(i,e,n,s);{const l=e.get(Fe());n==null&&l!=null&&(n=ia(l,Fe()));let u=[];const f=Oe(i.path),h=i.operationForChild(f),p=e.children.get(f);if(p&&h){const m=n?n.getImmediateChild(f):null,_=sS(s,f);u=u.concat(pS(h,p,m,_))}return l&&(u=u.concat(Cp(l,i,s,n))),u}}function mS(i,e,n,s){const l=e.get(Fe());n==null&&l!=null&&(n=ia(l,Fe()));let u=[];return e.children.inorderTraversal((f,h)=>{const p=n?n.getImmediateChild(f):null,m=sS(s,f),_=i.operationForChild(f);_&&(u=u.concat(mS(_,h,p,m)))}),l&&(u=u.concat(Cp(l,i,s,n))),u}function gS(i,e){const n=e.query,s=ic(i,n);return{hashFn:()=>(aO(e)||_e.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?wO(i,n._path,s):TO(i,n._path);{const u=SN(l,n);return Lh(i,n,null,u)}}}}function ic(i,e){const n=Tc(e);return i.queryToTagMap.get(n)}function Tc(i){return i._path.toString()+"$"+i._queryIdentifier}function Rp(i,e){return i.tagToQueryMap.get(e)}function Ap(i){const e=i.indexOf("$");return Y(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Ke(i.substr(0,e))}}function Np(i,e,n){const s=i.syncPointTree_.get(e);Y(s,"Missing sync point for query tag that we're tracking");const l=Sp(i.pendingWriteTree_,e);return Cp(s,n,l,null)}function AO(i){return i.fold((e,n,s)=>{if(n&&vr(n))return[Sc(n)];{let l=[];return n&&(l=cS(n)),Bt(s,(u,f)=>{l=l.concat(f)}),l}})}function Ul(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(vO())(i._repo,i._path):i}function NO(i,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const l=Tc(s),u=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(u)}}}function OO(){return yO++}function IO(i,e,n){const s=e._path,l=ic(i,e),u=gS(i,n),f=i.listenProvider_.startListening(Ul(e),l,u.hashFn,u.onComplete),h=i.syncPointTree_.subtree(s);if(l)Y(!vr(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((m,_,y)=>{if(!Ie(m)&&_&&vr(_))return[Sc(_).query];{let E=[];return _&&(E=E.concat(cS(_).map(b=>b.query))),Bt(y,(b,N)=>{E=E.concat(N)}),E}});for(let m=0;m<p.length;++m){const _=p[m];i.listenProvider_.stopListening(Ul(_),ic(i,_))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Op(n)}node(){return this.node_}}class Ip{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ht(this.path_,e);return new Ip(this.syncTree_,n)}node(){return hS(this.syncTree_,this.path_)}}const DO=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Hy=function(i,e,n){if(!i||typeof i!="object")return i;if(Y(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return MO(i[".sv"],e,n);if(typeof i[".sv"]=="object")return kO(i[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},MO=function(i,e,n){switch(i){case"timestamp":return n.timestamp;default:Y(!1,"Unexpected server value: "+i)}},kO=function(i,e,n){i.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const s=i.increment;typeof s!="number"&&Y(!1,"Unexpected increment value: "+s);const l=e.node();if(Y(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const f=l.getValue();return typeof f!="number"?s:f+s},_S=function(i,e,n,s){return Dp(e,new Ip(n,i),s)},LO=function(i,e,n){return Dp(i,new Op(e),n)};function Dp(i,e,n){const s=i.getPriority().val(),l=Hy(s,e.getImmediateChild(".priority"),n);let u;if(i.isLeafNode()){const f=i,h=Hy(f.getValue(),e,n);return h!==f.getValue()||l!==f.getPriority().val()?new At(h,Ht(l)):i}else{const f=i;return u=f,l!==f.getPriority().val()&&(u=u.updatePriority(new At(l))),f.forEachChild(pt,(h,p)=>{const m=Dp(p,e.getImmediateChild(h),n);m!==p&&(u=u.updateImmediateChild(h,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function kp(i,e){let n=e instanceof Ke?e:new Ke(e),s=i,l=Oe(n);for(;l!==null;){const u=la(s.node.children,l)||{children:{},childCount:0};s=new Mp(l,s,u),n=et(n),l=Oe(n)}return s}function ga(i){return i.node.value}function vS(i,e){i.node.value=e,xh(i)}function yS(i){return i.node.childCount>0}function xO(i){return ga(i)===void 0&&!yS(i)}function wc(i,e){Bt(i.node.children,(n,s)=>{e(new Mp(n,i,s))})}function ES(i,e,n,s){n&&e(i),wc(i,l=>{ES(l,e,!0)})}function UO(i,e,n){let s=i.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function ao(i){return new Ke(i.parent===null?i.name:ao(i.parent)+"/"+i.name)}function xh(i){i.parent!==null&&PO(i.parent,i.name,i)}function PO(i,e,n){const s=xO(n),l=Jn(i.node.children,e);s&&l?(delete i.node.children[e],i.node.childCount--,xh(i)):!s&&!l&&(i.node.children[e]=n.node,i.node.childCount++,xh(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=/[\[\].#$\/\u0000-\u001F\u007F]/,HO=/[\[\].#$\u0000-\u001F\u007F]/,ih=10*1024*1024,Lp=function(i){return typeof i=="string"&&i.length!==0&&!zO.test(i)},SS=function(i){return typeof i=="string"&&i.length!==0&&!HO.test(i)},BO=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),SS(i)},jO=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!lp(i)||i&&typeof i=="object"&&Jn(i,".sv")},xp=function(i,e,n){const s=n instanceof Ke?new t1(n,i):n;if(e===void 0)throw new Error(i+"contains undefined "+Xr(s));if(typeof e=="function")throw new Error(i+"contains a function "+Xr(s)+" with contents = "+e.toString());if(lp(e))throw new Error(i+"contains "+e.toString()+" "+Xr(s));if(typeof e=="string"&&e.length>ih/3&&mc(e)>ih)throw new Error(i+"contains a string greater than "+ih+" utf8 bytes "+Xr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(Bt(e,(f,h)=>{if(f===".value")l=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!Lp(f)))throw new Error(i+" contains an invalid key ("+f+") "+Xr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);n1(s,f),xp(i,h,s),i1(s)}),l&&u)throw new Error(i+' contains ".value" child '+Xr(s)+" in addition to actual children.")}},VO=function(i,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const u=Fl(s);for(let f=0;f<u.length;f++)if(!(u[f]===".priority"&&f===u.length-1)){if(!Lp(u[f]))throw new Error(i+"contains an invalid key ("+u[f]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(e1);let l=null;for(n=0;n<e.length;n++){if(s=e[n],l!==null&&On(l,s))throw new Error(i+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},FO=function(i,e,n,s){const l=$h(i,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const u=[];Bt(e,(f,h)=>{const p=new Ke(f);if(xp(l,h,ht(n,p)),dp(p)===".priority"&&!jO(h))throw new Error(l+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),VO(l,u)},bS=function(i,e,n,s){if(!SS(n))throw new Error($h(i,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},qO=function(i,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),bS(i,e,n)},GO=function(i,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Lp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!BO(n))throw new Error($h(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Up(i,e){let n=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();n!==null&&!hp(u,n.path)&&(i.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(l)}n&&i.eventLists_.push(n)}function TS(i,e,n){Up(i,n),wS(i,s=>hp(s,e))}function ki(i,e,n){Up(i,n),wS(i,s=>On(s,e)||On(e,s))}function wS(i,e){i.recursionDepth_++;let n=!0;for(let s=0;s<i.eventLists_.length;s++){const l=i.eventLists_[s];if(l){const u=l.path;e(u)?($O(i.eventLists_[s]),i.eventLists_[s]=null):n=!1}}n&&(i.eventLists_=[]),i.recursionDepth_--}function $O(i){for(let e=0;e<i.events.length;e++){const n=i.events[e];if(n!==null){i.events[e]=null;const s=n.getEventRunner();Ml&&zt("event: "+n.toString()),pa(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="repo_interrupt",WO=25;class QO{constructor(e,n,s,l){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new YO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qu(),this.transactionQueueTree_=new Mp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function XO(i,e,n){if(i.stats_=cp(i.repoInfo_),i.forceRestClient_||CN())i.server_=new Wu(i.repoInfo_,(s,l,u,f)=>{By(i,s,l,u,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>jy(i,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ot(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}i.persistentConnection_=new Ai(i.repoInfo_,e,(s,l,u,f)=>{By(i,s,l,u,f)},s=>{jy(i,s)},s=>{JO(i,s)},i.authTokenProvider_,i.appCheckProvider_,n),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(s=>{i.server_.refreshAuthToken(s)}),i.appCheckProvider_.addTokenChangeListener(s=>{i.server_.refreshAppCheckToken(s.token)}),i.statsReporter_=IN(i.repoInfo_,()=>new O1(i.stats_,i.server_)),i.infoData_=new w1,i.infoSyncTree_=new Py({startListening:(s,l,u,f)=>{let h=[];const p=i.infoData_.getNode(s._path);return p.isEmpty()||(h=bc(i.infoSyncTree_,s._path,p),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),zp(i,"connected",!1),i.serverSyncTree_=new Py({startListening:(s,l,u,f)=>(i.server_.listen(s,u,l,(h,p)=>{const m=f(h,p);ki(i.eventQueue_,s._path,m)}),[]),stopListening:(s,l)=>{i.server_.unlisten(s,l)}})}function ZO(i){const n=i.infoData_.getNode(new Ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Pp(i){return DO({timestamp:ZO(i)})}function By(i,e,n,s,l){i.dataUpdateCount++;const u=new Ke(e);n=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,n):n;let f=[];if(l)if(s){const p=Hu(n,m=>Ht(m));f=RO(i.serverSyncTree_,u,p,l)}else{const p=Ht(n);f=CO(i.serverSyncTree_,u,p,l)}else if(s){const p=Hu(n,m=>Ht(m));f=bO(i.serverSyncTree_,u,p)}else{const p=Ht(n);f=bc(i.serverSyncTree_,u,p)}let h=u;f.length>0&&(h=Kl(i,u)),ki(i.eventQueue_,h,f)}function jy(i,e){zp(i,"connected",e),e===!1&&tI(i)}function JO(i,e){Bt(e,(n,s)=>{zp(i,n,s)})}function zp(i,e,n){const s=new Ke("/.info/"+e),l=Ht(n);i.infoData_.updateSnapshot(s,l);const u=bc(i.infoSyncTree_,s,l);ki(i.eventQueue_,s,u)}function CS(i){return i.nextWriteId_++}function eI(i,e,n,s){Hp(i,"update",{path:e.toString(),value:n});let l=!0;const u=Pp(i),f={};if(Bt(n,(h,p)=>{l=!1,f[h]=_S(ht(e,h),Ht(p),i.serverSyncTree_,u)}),l)zt("update() called with empty data.  Don't do anything."),Vy(i,s,"ok",void 0);else{const h=CS(i),p=SO(i.serverSyncTree_,e,f,h);Up(i.eventQueue_,p),i.server_.merge(e.toString(),n,(m,_)=>{const y=m==="ok";y||nn("update at "+e+" failed: "+m);const E=es(i.serverSyncTree_,h,!y),b=E.length>0?Kl(i,e):e;ki(i.eventQueue_,b,E),Vy(i,s,m,_)}),Bt(n,m=>{const _=IS(i,ht(e,m));Kl(i,_)}),ki(i.eventQueue_,e,[])}}function tI(i){Hp(i,"onDisconnectEvents");const e=Pp(i),n=Qu();Ah(i.onDisconnect_,Fe(),(l,u)=>{const f=_S(l,u,i.serverSyncTree_,e);eS(n,l,f)});let s=[];Ah(n,Fe(),(l,u)=>{s=s.concat(bc(i.serverSyncTree_,l,u));const f=IS(i,l);Kl(i,f)}),i.onDisconnect_=Qu(),ki(i.eventQueue_,Fe(),s)}function nI(i,e,n){let s;Oe(e._path)===".info"?s=zy(i.infoSyncTree_,e,n):s=zy(i.serverSyncTree_,e,n),TS(i.eventQueue_,e._path,s)}function iI(i,e,n){let s;Oe(e._path)===".info"?s=Lh(i.infoSyncTree_,e,n):s=Lh(i.serverSyncTree_,e,n),TS(i.eventQueue_,e._path,s)}function rI(i){i.persistentConnection_&&i.persistentConnection_.interrupt(KO)}function Hp(i,...e){let n="";i.persistentConnection_&&(n=i.persistentConnection_.id+":"),zt(n,...e)}function Vy(i,e,n,s){e&&pa(()=>{if(n==="ok")e(null);else{const l=(n||"error").toUpperCase();let u=l;s&&(u+=": "+s);const f=new Error(u);f.code=l,e(f)}})}function RS(i,e,n){return hS(i.serverSyncTree_,e,n)||_e.EMPTY_NODE}function Bp(i,e=i.transactionQueueTree_){if(e||Cc(i,e),ga(e)){const n=NS(i,e);Y(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&sI(i,ao(e),n)}else yS(e)&&wc(e,n=>{Bp(i,n)})}function sI(i,e,n){const s=n.map(m=>m.currentWriteId),l=RS(i,e,s);let u=l;const f=l.hash();for(let m=0;m<n.length;m++){const _=n[m];Y(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const y=en(e,_.path);u=u.updateChild(y,_.currentOutputSnapshotRaw)}const h=u.val(!0),p=e;i.server_.put(p.toString(),h,m=>{Hp(i,"transaction put response",{path:p.toString(),status:m});let _=[];if(m==="ok"){const y=[];for(let E=0;E<n.length;E++)n[E].status=2,_=_.concat(es(i.serverSyncTree_,n[E].currentWriteId)),n[E].onComplete&&y.push(()=>n[E].onComplete(null,!0,n[E].currentOutputSnapshotResolved)),n[E].unwatcher();Cc(i,kp(i.transactionQueueTree_,e)),Bp(i,i.transactionQueueTree_),ki(i.eventQueue_,e,_);for(let E=0;E<y.length;E++)pa(y[E])}else{if(m==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{nn("transaction at "+p.toString()+" failed: "+m);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=m}Kl(i,e)}},f)}function Kl(i,e){const n=AS(i,e),s=ao(n),l=NS(i,n);return aI(i,l,s),s}function aI(i,e,n){if(e.length===0)return;const s=[];let l=[];const f=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],m=en(n,p.path);let _=!1,y;if(Y(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,y=p.abortReason,l=l.concat(es(i.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=WO)_=!0,y="maxretry",l=l.concat(es(i.serverSyncTree_,p.currentWriteId,!0));else{const E=RS(i,p.path,f);p.currentInputSnapshot=E;const b=e[h].update(E.val());if(b!==void 0){xp("transaction failed: Data returned ",b,p.path);let N=Ht(b);typeof b=="object"&&b!=null&&Jn(b,".priority")||(N=N.updatePriority(E.getPriority()));const U=p.currentWriteId,B=Pp(i),q=LO(N,E,B);p.currentOutputSnapshotRaw=N,p.currentOutputSnapshotResolved=q,p.currentWriteId=CS(i),f.splice(f.indexOf(U),1),l=l.concat(EO(i.serverSyncTree_,p.path,q,p.currentWriteId,p.applyLocally)),l=l.concat(es(i.serverSyncTree_,U,!0))}else _=!0,y="nodata",l=l.concat(es(i.serverSyncTree_,p.currentWriteId,!0))}ki(i.eventQueue_,n,l),l=[],_&&(e[h].status=2,function(E){setTimeout(E,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(y),!1,null))))}Cc(i,i.transactionQueueTree_);for(let h=0;h<s.length;h++)pa(s[h]);Bp(i,i.transactionQueueTree_)}function AS(i,e){let n,s=i.transactionQueueTree_;for(n=Oe(e);n!==null&&ga(s)===void 0;)s=kp(s,n),e=et(e),n=Oe(e);return s}function NS(i,e){const n=[];return OS(i,e,n),n.sort((s,l)=>s.order-l.order),n}function OS(i,e,n){const s=ga(e);if(s)for(let l=0;l<s.length;l++)n.push(s[l]);wc(e,l=>{OS(i,l,n)})}function Cc(i,e){const n=ga(e);if(n){let s=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[s]=n[l],s++);n.length=s,vS(e,n.length>0?n:void 0)}wc(e,s=>{Cc(i,s)})}function IS(i,e){const n=ao(AS(i,e)),s=kp(i.transactionQueueTree_,e);return UO(s,l=>{rh(i,l)}),rh(i,s),ES(s,l=>{rh(i,l)}),n}function rh(i,e){const n=ga(e);if(n){const s=[];let l=[],u=-1;for(let f=0;f<n.length;f++)n[f].status===3||(n[f].status===1?(Y(u===f-1,"All SENT items should be at beginning of queue."),u=f,n[f].status=3,n[f].abortReason="set"):(Y(n[f].status===0,"Unexpected transaction status in abort"),n[f].unwatcher(),l=l.concat(es(i.serverSyncTree_,n[f].currentWriteId,!0)),n[f].onComplete&&s.push(n[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?vS(e,void 0):n.length=u+1,ki(i.eventQueue_,ao(e),l);for(let f=0;f<s.length;f++)pa(s[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(i){let e="";const n=i.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let l=n[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function oI(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const n of i.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):nn(`Invalid query segment '${n}' in query '${i}'`)}return e}const Fy=function(i,e){const n=uI(i),s=n.namespace;n.domain==="firebase.com"&&Mi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Mi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||gN();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new P0(n.host,n.secure,s,l,e,"",s!==n.subdomain),path:new Ke(n.pathString)}},uI=function(i){let e="",n="",s="",l="",u="",f=!0,h="https",p=443;if(typeof i=="string"){let m=i.indexOf("//");m>=0&&(h=i.substring(0,m-1),i=i.substring(m+2));let _=i.indexOf("/");_===-1&&(_=i.length);let y=i.indexOf("?");y===-1&&(y=i.length),e=i.substring(0,Math.min(_,y)),_<y&&(l=lI(i.substring(_,y)));const E=oI(i.substring(Math.min(i.length,y)));m=e.indexOf(":"),m>=0?(f=h==="https"||h==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const b=e.slice(0,m);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{const N=e.indexOf(".");s=e.substring(0,N).toLowerCase(),n=e.substring(N+1),u=s}"ns"in E&&(u=E.ns)}return{host:e,port:p,domain:n,subdomain:s,secure:f,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,s,l){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ot(this.snapshot.exportVal())}}class fI{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,s,l){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=l}get key(){return Ie(this._path)?null:dp(this._path)}get ref(){return new br(this._repo,this._path)}get _queryIdentifier(){const e=Ay(this._queryParams),n=op(e);return n==="{}"?"default":n}get _queryObject(){return Ay(this._queryParams)}isEqual(e){if(e=Dt(e),!(e instanceof jp))return!1;const n=this._repo===e._repo,s=hp(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return n&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+JN(this._path)}}class br extends jp{constructor(e,n){super(e,n,new _p,!1)}get parent(){const e=Y0(this._path);return e===null?null:new br(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class rc{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ke(e),s=Uh(this.ref,e);return new rc(this._node.getChild(n),s,pt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new rc(l,Uh(this.ref,s),pt)))}hasChild(e){const n=new Ke(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function hI(i,e){return i=Dt(i),i._checkNotDeleted("ref"),Uh(i._root,e)}function Uh(i,e){return i=Dt(i),Oe(i._path)===null?qO("child","path",e):bS("child","path",e),new br(i._repo,ht(i._path,e))}function pI(i,e){FO("update",e,i._path);const n=new hc;return eI(i._repo,i._path,e,n.wrapCallback(()=>{})),n.promise}class Vp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new cI("value",this,new rc(e.snapshotNode,new br(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new fI(this,e,n):null}matches(e){return e instanceof Vp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function mI(i,e,n,s,l){const u=new dI(n,void 0),f=new Vp(u);return nI(i._repo,i,f),()=>iI(i._repo,i,f)}function gI(i,e,n,s){return mI(i,"value",e)}fO(br);_O(br);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="FIREBASE_DATABASE_EMULATOR_HOST",Ph={};let vI=!1;function yI(i,e,n,s){i.repoInfo_=new P0(e,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(i.authTokenProvider_=s)}function EI(i,e,n,s,l){let u=s||i.options.databaseURL;u===void 0&&(i.options.projectId||Mi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=Fy(u,l),h=f.repoInfo,p;typeof process<"u"&&uy&&(p=uy[_I]),p?(u=`http://${p}?ns=${h.namespace}`,f=Fy(u,l),h=f.repoInfo):f.repoInfo.secure;const m=new AN(i.name,i.options,e);GO("Invalid Firebase Database URL",f),Ie(f.path)||Mi("Database URL must point to the root of a Firebase Database (not including a child path).");const _=bI(h,i,m,new RN(i,n));return new TI(_,i)}function SI(i,e){const n=Ph[e];(!n||n[i.key]!==i)&&Mi(`Database ${e}(${i.repoInfo_}) has already been deleted.`),rI(i),delete n[i.key]}function bI(i,e,n,s){let l=Ph[e.name];l||(l={},Ph[e.name]=l);let u=l[i.toURLString()];return u&&Mi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new QO(i,vI,n,s),l[i.toURLString()]=u,u}class TI{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(XO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new br(this._repo,Fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(SI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Mi("Cannot call "+e+" on a deleted database.")}}function wI(i=jE(),e){const n=Wh(i,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=Bw("database");s&&CI(n,...s)}return n}function CI(i,e,n,s={}){i=Dt(i),i._checkNotDeleted("useEmulator");const l=`${e}:${n}`,u=i._repoInternal;if(i._instanceStarted){if(l===i._repoInternal.repoInfo_.host&&rs(s,u.repoInfo_.emulatorOptions))return;Mi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&Mi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new ku(ku.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:jw(s.mockUserToken,i.app.options.projectId);f=new ku(h)}yI(u,l,s,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(i){cN(Li),gr(new Ni("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return EI(s,l,u,n)},"PUBLIC").setMultipleInstances(!0)),Wn(cy,fy,i),Wn(cy,fy,"esm2017")}Ai.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};Ai.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};RI();const AI={apiKey:"AIzaSyAs9bhyCwko9COM7FzI7zwel8MlsefpYq8",authDomain:"granjastar-dc53a.firebaseapp.com",databaseURL:"https://granjastar-dc53a-default-rtdb.firebaseio.com",projectId:"granjastar-dc53a",storageBucket:"granjastar-dc53a.firebasestorage.app",messagingSenderId:"72736281745",appId:"1:72736281745:web:acc2948901b26033029b30"},DS=BE(AI),Fp=ap(DS);WR(Fp,p0).then(()=>{console.log("Persistência configurada")}).catch(i=>{console.error("Erro ao configurar a persistência:",i)});const NI=wI(DS),MS=M.createContext(),Rc=()=>M.useContext(MS),OI=({children:i})=>{const[e,n]=M.useState(null);return M.useEffect(()=>{const s=Fp.onAuthStateChanged(l=>{n(l)});return()=>s()},[]),me.jsx(MS.Provider,{value:{user:e,setUser:n},children:i})};var bl={},qy;function II(){if(qy)return bl;qy=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.parse=f,bl.serialize=m;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function f(E,b){const N=new u,H=E.length;if(H<2)return N;const U=(b==null?void 0:b.decode)||_;let B=0;do{const q=E.indexOf("=",B);if(q===-1)break;const $=E.indexOf(";",B),de=$===-1?H:$;if(q>de){B=E.lastIndexOf(";",q-1)+1;continue}const A=h(E,B,q),te=p(E,q,A),Se=E.slice(A,te);if(N[Se]===void 0){let ce=h(E,q+1,de),G=p(E,de,ce);const ae=U(E.slice(ce,G));N[Se]=ae}B=de+1}while(B<H);return N}function h(E,b,N){do{const H=E.charCodeAt(b);if(H!==32&&H!==9)return b}while(++b<N);return N}function p(E,b,N){for(;b>N;){const H=E.charCodeAt(--b);if(H!==32&&H!==9)return b+1}return N}function m(E,b,N){const H=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(E))throw new TypeError(`argument name is invalid: ${E}`);const U=H(b);if(!e.test(U))throw new TypeError(`argument val is invalid: ${b}`);let B=E+"="+U;if(!N)return B;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);B+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);B+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);B+="; Path="+N.path}if(N.expires){if(!y(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);B+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(B+="; HttpOnly"),N.secure&&(B+="; Secure"),N.partitioned&&(B+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return B}function _(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function y(E){return l.call(E)==="[object Date]"}return bl}II();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kS=i=>{throw TypeError(i)},DI=(i,e,n)=>e.has(i)||kS("Cannot "+n),sh=(i,e,n)=>(DI(i,e,"read from private field"),n?n.call(i):e.get(i)),MI=(i,e,n)=>e.has(i)?kS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,n),Gy="popstate";function kI(i={}){function e(l,u){let{pathname:f="/",search:h="",hash:p=""}=xi(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Wl("",{pathname:f,search:h,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let f=l.document.querySelector("base"),h="";if(f&&f.getAttribute("href")){let p=l.location.href,m=p.indexOf("#");h=m===-1?p:p.slice(0,m)}return h+"#"+(typeof u=="string"?u:yr(u))}function s(l,u){bt(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return xI(e,n,s,i)}function ke(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function bt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LI(){return Math.random().toString(36).substring(2,10)}function Yy(i,e){return{usr:i.state,key:i.key,idx:e}}function Wl(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?xi(e):e,state:n,key:e&&e.key||s||LI()}}function yr({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function xi(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function xI(i,e,n,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,h="POP",p=null,m=_();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function _(){return(f.state||{idx:null}).idx}function y(){h="POP";let U=_(),B=U==null?null:U-m;m=U,p&&p({action:h,location:H.location,delta:B})}function E(U,B){h="PUSH";let q=Wl(H.location,U,B);n&&n(q,U),m=_()+1;let $=Yy(q,m),de=H.createHref(q);try{f.pushState($,"",de)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;l.location.assign(de)}u&&p&&p({action:h,location:H.location,delta:1})}function b(U,B){h="REPLACE";let q=Wl(H.location,U,B);n&&n(q,U),m=_();let $=Yy(q,m),de=H.createHref(q);f.replaceState($,"",de),u&&p&&p({action:h,location:H.location,delta:0})}function N(U){let B=l.location.origin!=="null"?l.location.origin:l.location.href,q=typeof U=="string"?U:yr(U);return q=q.replace(/ $/,"%20"),ke(B,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,B)}let H={get action(){return h},get location(){return i(l,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Gy,y),p=U,()=>{l.removeEventListener(Gy,y),p=null}},createHref(U){return e(l,U)},createURL:N,encodeLocation(U){let B=N(U);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:E,replace:b,go(U){return f.go(U)}};return H}var Ol,$y=class{constructor(i){if(MI(this,Ol,new Map),i)for(let[e,n]of i)this.set(e,n)}get(i){if(sh(this,Ol).has(i))return sh(this,Ol).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,e){sh(this,Ol).set(i,e)}};Ol=new WeakMap;var UI=new Set(["lazy","caseSensitive","path","id","index","children"]);function PI(i){return i.index===!0}function sc(i,e,n=[],s={}){return i.map((l,u)=>{let f=[...n,String(u)],h=typeof l.id=="string"?l.id:f.join("-");if(ke(l.index!==!0||!l.children,"Cannot specify children on an index route"),ke(!s[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),PI(l)){let p={...l,...e(l),id:h};return s[h]=p,p}else{let p={...l,...e(l),id:h,children:void 0};return s[h]=p,l.children&&(p.children=sc(l.children,e,f,s)),p}})}function dr(i,e,n="/"){return Lu(i,e,n,!1)}function Lu(i,e,n,s){let l=typeof e=="string"?xi(e):e,u=In(l.pathname||"/",n);if(u==null)return null;let f=LS(i);HI(f);let h=null;for(let p=0;h==null&&p<f.length;++p){let m=QI(u);h=KI(f[p],m,s)}return h}function zI(i,e){let{route:n,pathname:s,params:l}=i;return{id:n.id,pathname:s,params:l,data:e[n.id],handle:n.handle}}function LS(i,e=[],n=[],s=""){let l=(u,f,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ke(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let m=Zn([s,p.relativePath]),_=n.concat(p);u.children&&u.children.length>0&&(ke(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),LS(u.children,e,_,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:YI(m,u.index),routesMeta:_})};return i.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,f);else for(let p of xS(u.path))l(u,f,p)}),e}function xS(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=xS(s.join("/")),h=[];return h.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&h.push(...f),h.map(p=>i.startsWith("/")&&p===""?"/":p)}function HI(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:$I(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var BI=/^:[\w-]+$/,jI=3,VI=2,FI=1,qI=10,GI=-2,Ky=i=>i==="*";function YI(i,e){let n=i.split("/"),s=n.length;return n.some(Ky)&&(s+=GI),e&&(s+=VI),n.filter(l=>!Ky(l)).reduce((l,u)=>l+(BI.test(u)?jI:u===""?FI:qI),s)}function $I(i,e){return i.length===e.length&&i.slice(0,-1).every((s,l)=>s===e[l])?i[i.length-1]-e[e.length-1]:0}function KI(i,e,n=!1){let{routesMeta:s}=i,l={},u="/",f=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",y=ac({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),E=p.route;if(!y&&m&&n&&!s[s.length-1].route.index&&(y=ac({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!y)return null;Object.assign(l,y.params),f.push({params:l,pathname:Zn([u,y.pathname]),pathnameBase:JI(Zn([u,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(u=Zn([u,y.pathnameBase]))}return f}function ac(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=WI(i.path,i.caseSensitive,i.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:s.reduce((m,{paramName:_,isOptional:y},E)=>{if(_==="*"){let N=h[E]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const b=h[E];return y&&!b?m[_]=void 0:m[_]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:i}}function WI(i,e=!1,n=!0){bt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function QI(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function In(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function XI(i,e="/"){let{pathname:n,search:s="",hash:l=""}=typeof i=="string"?xi(i):i;return{pathname:n?n.startsWith("/")?n:ZI(n,e):e,search:eD(s),hash:tD(l)}}function ZI(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function ah(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function US(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ac(i){let e=US(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Nc(i,e,n,s=!1){let l;typeof i=="string"?l=xi(i):(l={...i},ke(!l.pathname||!l.pathname.includes("?"),ah("?","pathname","search",l)),ke(!l.pathname||!l.pathname.includes("#"),ah("#","pathname","hash",l)),ke(!l.search||!l.search.includes("#"),ah("#","search","hash",l)));let u=i===""||l.pathname==="",f=u?"/":l.pathname,h;if(f==null)h=n;else{let y=e.length-1;if(!s&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),y-=1;l.pathname=E.join("/")}h=y>=0?e[y]:"/"}let p=XI(l,h),m=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var Zn=i=>i.join("/").replace(/\/\/+/g,"/"),JI=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),eD=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,tD=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,lc=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ql(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var PS=["POST","PUT","PATCH","DELETE"],nD=new Set(PS),iD=["GET",...PS],rD=new Set(iD),sD=new Set([301,302,303,307,308]),aD=new Set([307,308]),lh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Tl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oD=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),zS="remix-router-transitions",HS=Symbol("ResetLoaderData");function uD(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ke(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.mapRouteProperties||oD,l={},u=sc(i.routes,s,void 0,l),f,h=i.basename||"/",p=i.dataStrategy||pD,m={unstable_middleware:!1,...i.future},_=null,y=new Set,E=null,b=null,N=null,H=i.hydrationData!=null,U=dr(u,i.history.location,h),B=!1,q=null;if(U==null&&!i.patchRoutesOnNavigation){let T=Nn(404,{pathname:i.history.location.pathname}),{matches:I,route:L}=aE(u);U=I,q={[L.id]:T}}U&&!i.hydrationData&&hn(U,u,i.history.location.pathname).active&&(U=null);let $;if(U)if(U.some(T=>T.route.lazy))$=!1;else if(!U.some(T=>T.route.loader))$=!0;else{let T=i.hydrationData?i.hydrationData.loaderData:null,I=i.hydrationData?i.hydrationData.errors:null;if(I){let L=U.findIndex(F=>I[F.route.id]!==void 0);$=U.slice(0,L+1).every(F=>!Hh(F.route,T,I))}else $=U.every(L=>!Hh(L.route,T,I))}else{$=!1,U=[];let T=hn(null,u,i.history.location.pathname);T.active&&T.matches&&(B=!0,U=T.matches)}let de,A={historyAction:i.history.action,location:i.history.location,matches:U,initialized:$,navigation:lh,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||q,fetchers:new Map,blockers:new Map},te="POP",Se=!1,ce,G=!1,ae=new Map,tt=null,jt=!1,Tt=!1,Wt=new Set,Pe=new Map,K=0,ge=-1,ue=new Map,De=new Set,w=new Map,V=new Map,ne=new Set,ie=new Map,Q,be=null;function Te(){if(_=i.history.listen(({action:T,location:I,delta:L})=>{if(Q){Q(),Q=void 0;return}bt(ie.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let F=Ft({currentLocation:A.location,nextLocation:I,historyAction:T});if(F&&L!=null){let W=new Promise(he=>{Q=he});i.history.go(L*-1),sn(F,{state:"blocked",location:I,proceed(){sn(F,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),W.then(()=>i.history.go(L))},reset(){let he=new Map(A.blockers);he.set(F,Tl),Me({blockers:he})}});return}return Vt(T,I)}),n){RD(e,ae);let T=()=>AD(e,ae);e.addEventListener("pagehide",T),tt=()=>e.removeEventListener("pagehide",T)}return A.initialized||Vt("POP",A.location,{initialHydration:!0}),de}function Mt(){_&&_(),tt&&tt(),y.clear(),ce&&ce.abort(),A.fetchers.forEach((T,I)=>Ui(I)),A.blockers.forEach((T,I)=>ho(I))}function He(T){return y.add(T),()=>y.delete(T)}function Me(T,I={}){A={...A,...T};let L=[],F=[];A.fetchers.forEach((W,he)=>{W.state==="idle"&&(ne.has(he)?L.push(he):F.push(he))}),ne.forEach(W=>{!A.fetchers.has(W)&&!Pe.has(W)&&L.push(W)}),[...y].forEach(W=>W(A,{deletedFetchers:L,viewTransitionOpts:I.viewTransitionOpts,flushSync:I.flushSync===!0})),L.forEach(W=>Ui(W)),F.forEach(W=>A.fetchers.delete(W))}function Ve(T,I,{flushSync:L}={}){var X,Z;let F=A.actionData!=null&&A.navigation.formMethod!=null&&Pn(A.navigation.formMethod)&&A.navigation.state==="loading"&&((X=T.state)==null?void 0:X._isRedirect)!==!0,W;I.actionData?Object.keys(I.actionData).length>0?W=I.actionData:W=null:F?W=A.actionData:W=null;let he=I.loaderData?rE(A.loaderData,I.loaderData,I.matches||[],I.errors):A.loaderData,fe=A.blockers;fe.size>0&&(fe=new Map(fe),fe.forEach((J,ve)=>fe.set(ve,Tl)));let re=Se===!0||A.navigation.formMethod!=null&&Pn(A.navigation.formMethod)&&((Z=T.state)==null?void 0:Z._isRedirect)!==!0;f&&(u=f,f=void 0),jt||te==="POP"||(te==="PUSH"?i.history.push(T,T.state):te==="REPLACE"&&i.history.replace(T,T.state));let le;if(te==="POP"){let J=ae.get(A.location.pathname);J&&J.has(T.pathname)?le={currentLocation:A.location,nextLocation:T}:ae.has(T.pathname)&&(le={currentLocation:T,nextLocation:A.location})}else if(G){let J=ae.get(A.location.pathname);J?J.add(T.pathname):(J=new Set([T.pathname]),ae.set(A.location.pathname,J)),le={currentLocation:A.location,nextLocation:T}}Me({...I,actionData:W,loaderData:he,historyAction:te,location:T,initialized:!0,navigation:lh,revalidation:"idle",restoreScrollPosition:Rr(T,I.matches||A.matches),preventScrollReset:re,blockers:fe},{viewTransitionOpts:le,flushSync:L===!0}),te="POP",Se=!1,G=!1,jt=!1,Tt=!1,be==null||be.resolve(),be=null}async function rn(T,I){if(typeof T=="number"){i.history.go(T);return}let L=zh(A.location,A.matches,h,T,I==null?void 0:I.fromRouteId,I==null?void 0:I.relative),{path:F,submission:W,error:he}=Wy(!1,L,I),fe=A.location,re=Wl(A.location,F,I&&I.state);re={...re,...i.history.encodeLocation(re)};let le=I&&I.replace!=null?I.replace:void 0,X="PUSH";le===!0?X="REPLACE":le===!1||W!=null&&Pn(W.formMethod)&&W.formAction===A.location.pathname+A.location.search&&(X="REPLACE");let Z=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,J=(I&&I.flushSync)===!0,ve=Ft({currentLocation:fe,nextLocation:re,historyAction:X});if(ve){sn(ve,{state:"blocked",location:re,proceed(){sn(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),rn(T,I)},reset(){let Ge=new Map(A.blockers);Ge.set(ve,Tl),Me({blockers:Ge})}});return}await Vt(X,re,{submission:W,pendingError:he,preventScrollReset:Z,replace:I&&I.replace,enableViewTransition:I&&I.viewTransition,flushSync:J})}function wr(){be||(be=ND()),Qt(),Me({revalidation:"loading"});let T=be.promise;return A.navigation.state==="submitting"?T:A.navigation.state==="idle"?(Vt(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),T):(Vt(te||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:G===!0}),T)}async function Vt(T,I,L){ce&&ce.abort(),ce=null,te=T,jt=(L&&L.startUninterruptedRevalidation)===!0,_s(A.location,A.matches),Se=(L&&L.preventScrollReset)===!0,G=(L&&L.enableViewTransition)===!0;let F=f||u,W=L&&L.overrideNavigation,he=L!=null&&L.initialHydration&&A.matches&&A.matches.length>0&&!B?A.matches:dr(F,I,h),fe=(L&&L.flushSync)===!0;if(he&&A.initialized&&!Tt&&SD(A.location,I)&&!(L&&L.submission&&Pn(L.submission.formMethod))){Ve(I,{matches:he},{flushSync:fe});return}let re=hn(he,F,I.pathname);if(re.active&&re.matches&&(he=re.matches),!he){let{error:ot,notFoundMatches:nt,route:ut}=wa(I.pathname);Ve(I,{matches:nt,loaderData:{},errors:{[ut.id]:ot}},{flushSync:fe});return}ce=new AbortController;let le=Xs(i.history,I,ce.signal,L&&L.submission),X=new $y(i.unstable_getContext?await i.unstable_getContext():void 0),Z;if(L&&L.pendingError)Z=[Zr(he).route.id,{type:"error",error:L.pendingError}];else if(L&&L.submission&&Pn(L.submission.formMethod)){let ot=await ps(le,I,L.submission,he,X,re.active,{replace:L.replace,flushSync:fe});if(ot.shortCircuited)return;if(ot.pendingActionResult){let[nt,ut]=ot.pendingActionResult;if(fn(ut)&&Ql(ut.error)&&ut.error.status===404){ce=null,Ve(I,{matches:ot.matches,loaderData:{},errors:{[nt]:ut.error}});return}}he=ot.matches||he,Z=ot.pendingActionResult,W=oh(I,L.submission),fe=!1,re.active=!1,le=Xs(i.history,le.url,le.signal)}let{shortCircuited:J,matches:ve,loaderData:Ge,errors:gt}=await ms(le,I,he,X,re.active,W,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,fe,Z);J||(ce=null,Ve(I,{matches:ve||he,...sE(Z),loaderData:Ge,errors:gt}))}async function ps(T,I,L,F,W,he,fe={}){Qt();let re=wD(I,L);if(Me({navigation:re},{flushSync:fe.flushSync===!0}),he){let Z=await ni(F,I.pathname,T.signal);if(Z.type==="aborted")return{shortCircuited:!0};if(Z.type==="error"){let J=Zr(Z.partialMatches).route.id;return{matches:Z.partialMatches,pendingActionResult:[J,{type:"error",error:Z.error}]}}else if(Z.matches)F=Z.matches;else{let{notFoundMatches:J,error:ve,route:Ge}=wa(I.pathname);return{matches:J,pendingActionResult:[Ge.id,{type:"error",error:ve}]}}}let le,X=Il(F,I);if(!X.route.action&&!X.route.lazy)le={type:"error",error:Nn(405,{method:T.method,pathname:I.pathname,routeId:X.route.id})};else{let Z=await Cr("action",T,[X],F,W,null);if(le=Z[X.route.id],!le){for(let J of F)if(Z[J.route.id]){le=Z[J.route.id];break}}if(T.signal.aborted)return{shortCircuited:!0}}if(ts(le)){let Z;return fe&&fe.replace!=null?Z=fe.replace:Z=tE(le.response.headers.get("Location"),new URL(T.url),h)===A.location.pathname+A.location.search,await Dn(T,le,!0,{submission:L,replace:Z}),{shortCircuited:!0}}if(fn(le)){let Z=Zr(F,X.route.id);return(fe&&fe.replace)!==!0&&(te="PUSH"),{matches:F,pendingActionResult:[Z.route.id,le]}}return{matches:F,pendingActionResult:[X.route.id,le]}}async function ms(T,I,L,F,W,he,fe,re,le,X,Z,J){let ve=he||oh(I,fe),Ge=fe||re||oE(ve),gt=!jt&&!X;if(W){if(gt){let rt=ti(J);Me({navigation:ve,...rt!==void 0?{actionData:rt}:{}},{flushSync:Z})}let xe=await ni(L,I.pathname,T.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let rt=Zr(xe.partialMatches).route.id;return{matches:xe.partialMatches,loaderData:{},errors:{[rt]:xe.error}}}else if(xe.matches)L=xe.matches;else{let{error:rt,notFoundMatches:Xt,route:Ir}=wa(I.pathname);return{matches:Xt,loaderData:{},errors:{[Ir.id]:rt}}}}let ot=f||u,[nt,ut]=Xy(i.history,A,L,Ge,I,X===!0,Tt,Wt,ne,w,De,ot,h,J);if(ge=++K,nt.length===0&&ut.length===0){let xe=fo();return Ve(I,{matches:L,loaderData:{},errors:J&&fn(J[1])?{[J[0]]:J[1].error}:null,...sE(J),...xe?{fetchers:new Map(A.fetchers)}:{}},{flushSync:Z}),{shortCircuited:!0}}if(gt){let xe={};if(!W){xe.navigation=ve;let rt=ti(J);rt!==void 0&&(xe.actionData=rt)}ut.length>0&&(xe.fetchers=Ea(ut)),Me(xe,{flushSync:Z})}ut.forEach(xe=>{Mn(xe.key),xe.controller&&Pe.set(xe.key,xe.controller)});let pn=()=>ut.forEach(xe=>Mn(xe.key));ce&&ce.signal.addEventListener("abort",pn);let{loaderResults:ii,fetcherResults:kt}=await uo(L,nt,ut,T,F);if(T.signal.aborted)return{shortCircuited:!0};ce&&ce.signal.removeEventListener("abort",pn),ut.forEach(xe=>Pe.delete(xe.key));let Lt=Cu(ii);if(Lt)return await Dn(T,Lt.result,!0,{replace:le}),{shortCircuited:!0};if(Lt=Cu(kt),Lt)return De.add(Lt.key),await Dn(T,Lt.result,!0,{replace:le}),{shortCircuited:!0};let{loaderData:ri,errors:mn}=iE(A,L,ii,J,ut,kt);X&&A.errors&&(mn={...A.errors,...mn});let Qe=fo(),Nr=Pi(ge),Or=Qe||Nr||ut.length>0;return{matches:L,loaderData:ri,errors:mn,...Or?{fetchers:new Map(A.fetchers)}:{}}}function ti(T){if(T&&!fn(T[1]))return{[T[0]]:T[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function Ea(T){return T.forEach(I=>{let L=A.fetchers.get(I.key),F=wl(void 0,L?L.data:void 0);A.fetchers.set(I.key,F)}),new Map(A.fetchers)}async function gs(T,I,L,F){Mn(T);let W=(F&&F.flushSync)===!0,he=f||u,fe=zh(A.location,A.matches,h,L,I,F==null?void 0:F.relative),re=dr(he,fe,h),le=hn(re,he,fe);if(le.active&&le.matches&&(re=le.matches),!re){dn(T,I,Nn(404,{pathname:fe}),{flushSync:W});return}let{path:X,submission:Z,error:J}=Wy(!0,fe,F);if(J){dn(T,I,J,{flushSync:W});return}let ve=Il(re,X),Ge=new $y(i.unstable_getContext?await i.unstable_getContext():void 0),gt=(F&&F.preventScrollReset)===!0;if(Z&&Pn(Z.formMethod)){await Sa(T,I,X,ve,re,Ge,le.active,W,gt,Z);return}w.set(T,{routeId:I,path:X}),await ba(T,I,X,ve,re,Ge,le.active,W,gt,Z)}async function Sa(T,I,L,F,W,he,fe,re,le,X){Qt(),w.delete(T);function Z(st){if(!st.route.action&&!st.route.lazy){let si=Nn(405,{method:X.formMethod,pathname:L,routeId:I});return dn(T,I,si,{flushSync:re}),!0}return!1}if(!fe&&Z(F))return;let J=A.fetchers.get(T);Fn(T,CD(X,J),{flushSync:re});let ve=new AbortController,Ge=Xs(i.history,L,ve.signal,X);if(fe){let st=await ni(W,L,Ge.signal,T);if(st.type==="aborted")return;if(st.type==="error"){dn(T,I,st.error,{flushSync:re});return}else if(st.matches){if(W=st.matches,F=Il(W,L),Z(F))return}else{dn(T,I,Nn(404,{pathname:L}),{flushSync:re});return}}Pe.set(T,ve);let gt=K,nt=(await Cr("action",Ge,[F],W,he,T))[F.route.id];if(Ge.signal.aborted){Pe.get(T)===ve&&Pe.delete(T);return}if(ne.has(T)){if(ts(nt)||fn(nt)){Fn(T,lr(void 0));return}}else{if(ts(nt))if(Pe.delete(T),ge>gt){Fn(T,lr(void 0));return}else return De.add(T),Fn(T,wl(X)),Dn(Ge,nt,!1,{fetcherSubmission:X,preventScrollReset:le});if(fn(nt)){dn(T,I,nt.error);return}}let ut=A.navigation.location||A.location,pn=Xs(i.history,ut,ve.signal),ii=f||u,kt=A.navigation.state!=="idle"?dr(ii,A.navigation.location,h):A.matches;ke(kt,"Didn't find any matches after fetcher action");let Lt=++K;ue.set(T,Lt);let ri=wl(X,nt.data);A.fetchers.set(T,ri);let[mn,Qe]=Xy(i.history,A,kt,X,ut,!1,Tt,Wt,ne,w,De,ii,h,[F.route.id,nt]);Qe.filter(st=>st.key!==T).forEach(st=>{let si=st.key,mo=A.fetchers.get(si),vs=wl(void 0,mo?mo.data:void 0);A.fetchers.set(si,vs),Mn(si),st.controller&&Pe.set(si,st.controller)}),Me({fetchers:new Map(A.fetchers)});let Nr=()=>Qe.forEach(st=>Mn(st.key));ve.signal.addEventListener("abort",Nr);let{loaderResults:Or,fetcherResults:xe}=await uo(kt,mn,Qe,pn,he);if(ve.signal.aborted)return;ve.signal.removeEventListener("abort",Nr),ue.delete(T),Pe.delete(T),Qe.forEach(st=>Pe.delete(st.key));let rt=Cu(Or);if(rt)return Dn(pn,rt.result,!1,{preventScrollReset:le});if(rt=Cu(xe),rt)return De.add(rt.key),Dn(pn,rt.result,!1,{preventScrollReset:le});let{loaderData:Xt,errors:Ir}=iE(A,kt,Or,void 0,Qe,xe);if(A.fetchers.has(T)){let st=lr(nt.data);A.fetchers.set(T,st)}Pi(Lt),A.navigation.state==="loading"&&Lt>ge?(ke(te,"Expected pending action"),ce&&ce.abort(),Ve(A.navigation.location,{matches:kt,loaderData:Xt,errors:Ir,fetchers:new Map(A.fetchers)})):(Me({errors:Ir,loaderData:rE(A.loaderData,Xt,kt,Ir),fetchers:new Map(A.fetchers)}),Tt=!1)}async function ba(T,I,L,F,W,he,fe,re,le,X){let Z=A.fetchers.get(T);Fn(T,wl(X,Z?Z.data:void 0),{flushSync:re});let J=new AbortController,ve=Xs(i.history,L,J.signal);if(fe){let nt=await ni(W,L,ve.signal,T);if(nt.type==="aborted")return;if(nt.type==="error"){dn(T,I,nt.error,{flushSync:re});return}else if(nt.matches)W=nt.matches,F=Il(W,L);else{dn(T,I,Nn(404,{pathname:L}),{flushSync:re});return}}Pe.set(T,J);let Ge=K,ot=(await Cr("loader",ve,[F],W,he,T))[F.route.id];if(Pe.get(T)===J&&Pe.delete(T),!ve.signal.aborted){if(ne.has(T)){Fn(T,lr(void 0));return}if(ts(ot))if(ge>Ge){Fn(T,lr(void 0));return}else{De.add(T),await Dn(ve,ot,!1,{preventScrollReset:le});return}if(fn(ot)){dn(T,I,ot.error);return}Fn(T,lr(ot.data))}}async function Dn(T,I,L,{submission:F,fetcherSubmission:W,preventScrollReset:he,replace:fe}={}){I.response.headers.has("X-Remix-Revalidate")&&(Tt=!0);let re=I.response.headers.get("Location");ke(re,"Expected a Location header on the redirect Response"),re=tE(re,new URL(T.url),h);let le=Wl(A.location,re,{_isRedirect:!0});if(n){let gt=!1;if(I.response.headers.has("X-Remix-Reload-Document"))gt=!0;else if(qp.test(re)){const ot=i.history.createURL(re);gt=ot.origin!==e.location.origin||In(ot.pathname,h)==null}if(gt){fe?e.location.replace(re):e.location.assign(re);return}}ce=null;let X=fe===!0||I.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Z,formAction:J,formEncType:ve}=A.navigation;!F&&!W&&Z&&J&&ve&&(F=oE(A.navigation));let Ge=F||W;if(aD.has(I.response.status)&&Ge&&Pn(Ge.formMethod))await Vt(X,le,{submission:{...Ge,formAction:re},preventScrollReset:he||Se,enableViewTransition:L?G:void 0});else{let gt=oh(le,F);await Vt(X,le,{overrideNavigation:gt,fetcherSubmission:W,preventScrollReset:he||Se,enableViewTransition:L?G:void 0})}}async function Cr(T,I,L,F,W,he){let fe,re={};try{fe=await gD(p,T,I,L,F,he,l,s,W,m.unstable_middleware)}catch(le){return L.forEach(X=>{re[X.route.id]={type:"error",error:le}}),re}for(let[le,X]of Object.entries(fe))if(bD(X)){let Z=X.result;re[le]={type:"redirect",response:yD(Z,I,le,F,h)}}else re[le]=await vD(X);return re}async function uo(T,I,L,F,W){let he=Cr("loader",F,I,T,W,null),fe=Promise.all(L.map(async X=>{if(X.matches&&X.match&&X.controller){let J=(await Cr("loader",Xs(i.history,X.path,X.controller.signal),[X.match],X.matches,W,X.key))[X.match.route.id];return{[X.key]:J}}else return Promise.resolve({[X.key]:{type:"error",error:Nn(404,{pathname:X.path})}})})),re=await he,le=(await fe).reduce((X,Z)=>Object.assign(X,Z),{});return{loaderResults:re,fetcherResults:le}}function Qt(){Tt=!0,w.forEach((T,I)=>{Pe.has(I)&&Wt.add(I),Mn(I)})}function Fn(T,I,L={}){A.fetchers.set(T,I),Me({fetchers:new Map(A.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function dn(T,I,L,F={}){let W=Zr(A.matches,I);Ui(T),Me({errors:{[W.route.id]:L},fetchers:new Map(A.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Ta(T){return V.set(T,(V.get(T)||0)+1),ne.has(T)&&ne.delete(T),A.fetchers.get(T)||lD}function Ui(T){let I=A.fetchers.get(T);Pe.has(T)&&!(I&&I.state==="loading"&&ue.has(T))&&Mn(T),w.delete(T),ue.delete(T),De.delete(T),ne.delete(T),Wt.delete(T),A.fetchers.delete(T)}function Mc(T){let I=(V.get(T)||0)-1;I<=0?(V.delete(T),ne.add(T)):V.set(T,I),Me({fetchers:new Map(A.fetchers)})}function Mn(T){let I=Pe.get(T);I&&(I.abort(),Pe.delete(T))}function co(T){for(let I of T){let L=Ta(I),F=lr(L.data);A.fetchers.set(I,F)}}function fo(){let T=[],I=!1;for(let L of De){let F=A.fetchers.get(L);ke(F,`Expected fetcher: ${L}`),F.state==="loading"&&(De.delete(L),T.push(L),I=!0)}return co(T),I}function Pi(T){let I=[];for(let[L,F]of ue)if(F<T){let W=A.fetchers.get(L);ke(W,`Expected fetcher: ${L}`),W.state==="loading"&&(Mn(L),ue.delete(L),I.push(L))}return co(I),I.length>0}function Yt(T,I){let L=A.blockers.get(T)||Tl;return ie.get(T)!==I&&ie.set(T,I),L}function ho(T){A.blockers.delete(T),ie.delete(T)}function sn(T,I){let L=A.blockers.get(T)||Tl;ke(L.state==="unblocked"&&I.state==="blocked"||L.state==="blocked"&&I.state==="blocked"||L.state==="blocked"&&I.state==="proceeding"||L.state==="blocked"&&I.state==="unblocked"||L.state==="proceeding"&&I.state==="unblocked",`Invalid blocker state transition: ${L.state} -> ${I.state}`);let F=new Map(A.blockers);F.set(T,I),Me({blockers:F})}function Ft({currentLocation:T,nextLocation:I,historyAction:L}){if(ie.size===0)return;ie.size>1&&bt(!1,"A router only supports one blocker at a time");let F=Array.from(ie.entries()),[W,he]=F[F.length-1],fe=A.blockers.get(W);if(!(fe&&fe.state==="proceeding")&&he({currentLocation:T,nextLocation:I,historyAction:L}))return W}function wa(T){let I=Nn(404,{pathname:T}),L=f||u,{matches:F,route:W}=aE(L);return{notFoundMatches:F,route:W,error:I}}function kc(T,I,L){if(E=T,N=I,b=L||null,!H&&A.navigation===lh){H=!0;let F=Rr(A.location,A.matches);F!=null&&Me({restoreScrollPosition:F})}return()=>{E=null,N=null,b=null}}function po(T,I){return b&&b(T,I.map(F=>zI(F,A.loaderData)))||T.key}function _s(T,I){if(E&&N){let L=po(T,I);E[L]=N()}}function Rr(T,I){if(E){let L=po(T,I),F=E[L];if(typeof F=="number")return F}return null}function hn(T,I,L){if(i.patchRoutesOnNavigation)if(T){if(Object.keys(T[0].params).length>0)return{active:!0,matches:Lu(I,L,h,!0)}}else return{active:!0,matches:Lu(I,L,h,!0)||[]};return{active:!1,matches:null}}async function ni(T,I,L,F){if(!i.patchRoutesOnNavigation)return{type:"success",matches:T};let W=T;for(;;){let he=f==null,fe=f||u,re=l;try{await i.patchRoutesOnNavigation({signal:L,path:I,matches:W,fetcherKey:F,patch:(Z,J)=>{L.aborted||Jy(Z,J,fe,re,s)}})}catch(Z){return{type:"error",error:Z,partialMatches:W}}finally{he&&!L.aborted&&(u=[...u])}if(L.aborted)return{type:"aborted"};let le=dr(fe,I,h);if(le)return{type:"success",matches:le};let X=Lu(fe,I,h,!0);if(!X||W.length===X.length&&W.every((Z,J)=>Z.route.id===X[J].route.id))return{type:"success",matches:null};W=X}}function Ar(T){l={},f=sc(T,s,void 0,l)}function Lc(T,I){let L=f==null;Jy(T,I,f||u,l,s),L&&(u=[...u],Me({}))}return de={get basename(){return h},get future(){return m},get state(){return A},get routes(){return u},get window(){return e},initialize:Te,subscribe:He,enableScrollRestoration:kc,navigate:rn,fetch:gs,revalidate:wr,createHref:T=>i.history.createHref(T),encodeLocation:T=>i.history.encodeLocation(T),getFetcher:Ta,deleteFetcher:Mc,dispose:Mt,getBlocker:Yt,deleteBlocker:ho,patchRoutes:Lc,_internalFetchControllers:Pe,_internalSetRoutes:Ar},de}function cD(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function zh(i,e,n,s,l,u){let f,h;if(l){f=[];for(let m of e)if(f.push(m),m.route.id===l){h=m;break}}else f=e,h=e[e.length-1];let p=Nc(s||".",Ac(f),In(i.pathname,n)||i.pathname,u==="path");if(s==null&&(p.search=i.search,p.hash=i.hash),(s==null||s===""||s===".")&&h){let m=Gp(p.search);if(h.route.index&&!m)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&m){let _=new URLSearchParams(p.search),y=_.getAll("index");_.delete("index"),y.filter(b=>b).forEach(b=>_.append("index",b));let E=_.toString();p.search=E?`?${E}`:""}}return n!=="/"&&(p.pathname=p.pathname==="/"?n:Zn([n,p.pathname])),yr(p)}function Wy(i,e,n){if(!n||!cD(n))return{path:e};if(n.formMethod&&!TD(n.formMethod))return{path:e,error:Nn(405,{method:n.formMethod})};let s=()=>({path:e,error:Nn(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),f=VS(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Pn(u))return s();let y=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((E,[b,N])=>`${E}${b}=${N}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:y}}}else if(n.formEncType==="application/json"){if(!Pn(u))return s();try{let y=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:y,text:void 0}}}catch{return s()}}}ke(typeof FormData=="function","FormData is not available in this environment");let h,p;if(n.formData)h=Bh(n.formData),p=n.formData;else if(n.body instanceof FormData)h=Bh(n.body),p=n.body;else if(n.body instanceof URLSearchParams)h=n.body,p=nE(h);else if(n.body==null)h=new URLSearchParams,p=new FormData;else try{h=new URLSearchParams(n.body),p=nE(h)}catch{return s()}let m={formMethod:u,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Pn(m.formMethod))return{path:e,submission:m};let _=xi(e);return i&&_.search&&Gp(_.search)&&h.append("index",""),_.search=`?${h}`,{path:yr(_),submission:m}}function Qy(i,e,n=!1){let s=i.findIndex(l=>l.route.id===e);return s>=0?i.slice(0,n?s+1:s):i}function Xy(i,e,n,s,l,u,f,h,p,m,_,y,E,b){let N=b?fn(b[1])?b[1].error:b[1].data:void 0,H=i.createURL(e.location),U=i.createURL(l),B=n;u&&e.errors?B=Qy(n,Object.keys(e.errors)[0],!0):b&&fn(b[1])&&(B=Qy(n,b[0]));let q=b?b[1].statusCode:void 0,$=q&&q>=400,de=B.filter((te,Se)=>{let{route:ce}=te;if(ce.lazy)return!0;if(ce.loader==null)return!1;if(u)return Hh(ce,e.loaderData,e.errors);if(fD(e.loaderData,e.matches[Se],te))return!0;let G=e.matches[Se],ae=te;return Zy(te,{currentUrl:H,currentParams:G.params,nextUrl:U,nextParams:ae.params,...s,actionResult:N,actionStatus:q,defaultShouldRevalidate:$?!1:f||H.pathname+H.search===U.pathname+U.search||H.search!==U.search||dD(G,ae)})}),A=[];return m.forEach((te,Se)=>{if(u||!n.some(jt=>jt.route.id===te.routeId)||p.has(Se))return;let ce=dr(y,te.path,E);if(!ce){A.push({key:Se,routeId:te.routeId,path:te.path,matches:null,match:null,controller:null});return}let G=e.fetchers.get(Se),ae=Il(ce,te.path),tt=!1;_.has(Se)?tt=!1:h.has(Se)?(h.delete(Se),tt=!0):G&&G.state!=="idle"&&G.data===void 0?tt=f:tt=Zy(ae,{currentUrl:H,currentParams:e.matches[e.matches.length-1].params,nextUrl:U,nextParams:n[n.length-1].params,...s,actionResult:N,actionStatus:q,defaultShouldRevalidate:$?!1:f}),tt&&A.push({key:Se,routeId:te.routeId,path:te.path,matches:ce,match:ae,controller:new AbortController})}),[de,A]}function Hh(i,e,n){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&e[i.id]!==void 0,l=n!=null&&n[i.id]!==void 0;return!s&&l?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!l}function fD(i,e,n){let s=!e||n.route.id!==e.route.id,l=!i.hasOwnProperty(n.route.id);return s||l}function dD(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function Zy(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Jy(i,e,n,s,l){let u;if(i){let p=s[i];ke(p,`No route found to patch children into: routeId = ${i}`),p.children||(p.children=[]),u=p.children}else u=n;let f=e.filter(p=>!u.some(m=>BS(p,m))),h=sc(f,l,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...h)}function BS(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((n,s)=>{var l;return(l=e.children)==null?void 0:l.some(u=>BS(n,u))}):!1}async function hD(i,e,n){if(!i.lazy)return;let s=await i.lazy();if(!i.lazy)return;let l=n[i.id];ke(l,"No route found in manifest");let u={};for(let f in s){let p=l[f]!==void 0&&f!=="hasErrorBoundary";bt(!p,`Route "${l.id}" has a static property "${f}" defined but its lazy function is also returning a value for this property. The lazy route property "${f}" will be ignored.`),!p&&!UI.has(f)&&(u[f]=s[f])}Object.assign(l,u),Object.assign(l,{...e(l),lazy:void 0})}async function eE(i){let e=i.matches.filter(l=>l.shouldLoad),n={};return(await Promise.all(e.map(l=>l.resolve()))).forEach((l,u)=>{n[e[u].route.id]=l}),n}async function pD(i){return i.matches.some(e=>e.route.unstable_middleware)?mD(i,!1,()=>eE(i),(e,n)=>({[n]:{type:"error",result:e}})):eE(i)}async function mD(i,e,n,s){let{matches:l,request:u,params:f,context:h}=i,p={handlerResult:void 0};try{let m=l.flatMap(y=>y.route.unstable_middleware?y.route.unstable_middleware.map(E=>[y.route.id,E]):[]),_=await jS({request:u,params:f,context:h},m,e,p,n);return e?_:p.handlerResult}catch(m){if(!p.middlewareError)throw m;let _=await s(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,_):_}}async function jS(i,e,n,s,l,u=0){let{request:f}=i;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let h=e[u];if(!h)return s.handlerResult=await l(),s.handlerResult;let[p,m]=h,_=!1,y,E=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");_=!0,await jS(i,e,n,s,l,u+1)};try{let b=await m({request:i.request,params:i.params,context:i.context},E);return _?b===void 0?y:b:E()}catch(b){throw s.middlewareError?s.middlewareError.error!==b&&(s.middlewareError={routeId:p,error:b}):s.middlewareError={routeId:p,error:b},b}}async function gD(i,e,n,s,l,u,f,h,p,m){let _=l.map(b=>b.route.lazy?hD(b.route,h,f):void 0);m&&await Promise.all(_);let y=l.map((b,N)=>{let H=_[N],U=s.some(q=>q.route.id===b.route.id);return{...b,shouldLoad:U,resolve:async q=>(q&&n.method==="GET"&&(b.route.lazy||b.route.loader)&&(U=!0),U?_D(e,n,b,H,q,p):Promise.resolve({type:"data",result:void 0}))}}),E=await i({matches:y,request:n,params:l[0].params,fetcherKey:u,context:p});try{await Promise.all(_)}catch{}return E}async function _D(i,e,n,s,l,u){let f,h,p=m=>{let _,y=new Promise((N,H)=>_=H);h=()=>_(),e.signal.addEventListener("abort",h);let E=N=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${i}" [routeId: ${n.route.id}]`)):m({request:e,params:n.params,context:u},...N!==void 0?[N]:[]),b=(async()=>{try{return{type:"data",result:await(l?l(H=>E(H)):E())}}catch(N){return{type:"error",result:N}}})();return Promise.race([b,y])};try{let m=n.route[i];if(s)if(m){let _,[y]=await Promise.all([p(m).catch(E=>{_=E}),s]);if(_!==void 0)throw _;f=y}else if(await s,m=n.route[i],m)f=await p(m);else if(i==="action"){let _=new URL(e.url),y=_.pathname+_.search;throw Nn(405,{method:e.method,pathname:y,routeId:n.route.id})}else return{type:"data",result:void 0};else if(m)f=await p(m);else{let _=new URL(e.url),y=_.pathname+_.search;throw Nn(404,{pathname:y})}}catch(m){return{type:"error",result:m}}finally{h&&e.signal.removeEventListener("abort",h)}return f}async function vD(i){var s,l,u,f,h,p;let{result:e,type:n}=i;if(FS(e)){let m;try{let _=e.headers.get("Content-Type");_&&/\bapplication\/json\b/.test(_)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(_){return{type:"error",error:_}}return n==="error"?{type:"error",error:new lc(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return n==="error"?lE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new lc(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Ql(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Ql(e)?e.status:void 0}:lE(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function yD(i,e,n,s,l){let u=i.headers.get("Location");if(ke(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!qp.test(u)){let f=s.slice(0,s.findIndex(h=>h.route.id===n)+1);u=zh(new URL(e.url),f,l,u),i.headers.set("Location",u)}return i}function tE(i,e,n){if(qp.test(i)){let s=i,l=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=In(l.pathname,n)!=null;if(l.origin===e.origin&&u)return l.pathname+l.search+l.hash}return i}function Xs(i,e,n,s){let l=i.createURL(VS(e)).toString(),u={signal:n};if(s&&Pn(s.formMethod)){let{formMethod:f,formEncType:h}=s;u.method=f.toUpperCase(),h==="application/json"?(u.headers=new Headers({"Content-Type":h}),u.body=JSON.stringify(s.json)):h==="text/plain"?u.body=s.text:h==="application/x-www-form-urlencoded"&&s.formData?u.body=Bh(s.formData):u.body=s.formData}return new Request(l,u)}function Bh(i){let e=new URLSearchParams;for(let[n,s]of i.entries())e.append(n,typeof s=="string"?s:s.name);return e}function nE(i){let e=new FormData;for(let[n,s]of i.entries())e.append(n,s);return e}function ED(i,e,n,s=!1,l=!1){let u={},f=null,h,p=!1,m={},_=n&&fn(n[1])?n[1].error:void 0;return i.forEach(y=>{if(!(y.route.id in e))return;let E=y.route.id,b=e[E];if(ke(!ts(b),"Cannot handle redirect results in processLoaderData"),fn(b)){let N=b.error;if(_!==void 0&&(N=_,_=void 0),f=f||{},l)f[E]=N;else{let H=Zr(i,E);f[H.route.id]==null&&(f[H.route.id]=N)}s||(u[E]=HS),p||(p=!0,h=Ql(b.error)?b.error.status:500),b.headers&&(m[E]=b.headers)}else u[E]=b.data,b.statusCode&&b.statusCode!==200&&!p&&(h=b.statusCode),b.headers&&(m[E]=b.headers)}),_!==void 0&&n&&(f={[n[0]]:_},u[n[0]]=void 0),{loaderData:u,errors:f,statusCode:h||200,loaderHeaders:m}}function iE(i,e,n,s,l,u){let{loaderData:f,errors:h}=ED(e,n,s);return l.forEach(p=>{let{key:m,match:_,controller:y}=p,E=u[m];if(ke(E,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(fn(E)){let b=Zr(i.matches,_==null?void 0:_.route.id);h&&h[b.route.id]||(h={...h,[b.route.id]:E.error}),i.fetchers.delete(m)}else if(ts(E))ke(!1,"Unhandled fetcher revalidation redirect");else{let b=lr(E.data);i.fetchers.set(m,b)}}),{loaderData:f,errors:h}}function rE(i,e,n,s){let l=Object.entries(e).filter(([,u])=>u!==HS).reduce((u,[f,h])=>(u[f]=h,u),{});for(let u of n){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(l[f]=i[f]),s&&s.hasOwnProperty(f))break}return l}function sE(i){return i?fn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Zr(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function aE(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Nn(i,{pathname:e,routeId:n,method:s,type:l,message:u}={}){let f="Unknown Server Error",h="Unknown @remix-run/router error";return i===400?(f="Bad Request",s&&e&&n?h=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:l==="invalid-body"&&(h="Unable to encode submission body")):i===403?(f="Forbidden",h=`Route "${n}" does not match URL "${e}"`):i===404?(f="Not Found",h=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",s&&e&&n?h=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(h=`Invalid request method "${s.toUpperCase()}"`)),new lc(i||500,f,new Error(h),!0)}function Cu(i){let e=Object.entries(i);for(let n=e.length-1;n>=0;n--){let[s,l]=e[n];if(ts(l))return{key:s,result:l}}}function VS(i){let e=typeof i=="string"?xi(i):i;return yr({...e,hash:""})}function SD(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function bD(i){return FS(i.result)&&sD.has(i.result.status)}function fn(i){return i.type==="error"}function ts(i){return(i&&i.type)==="redirect"}function lE(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function FS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function TD(i){return rD.has(i.toUpperCase())}function Pn(i){return nD.has(i.toUpperCase())}function Gp(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function Il(i,e){let n=typeof e=="string"?xi(e).search:e.search;if(i[i.length-1].route.index&&Gp(n||""))return i[i.length-1];let s=US(i);return s[s.length-1]}function oE(i){let{formMethod:e,formAction:n,formEncType:s,text:l,formData:u,json:f}=i;if(!(!e||!n||!s)){if(l!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:l};if(u!=null)return{formMethod:e,formAction:n,formEncType:s,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:f,text:void 0}}}function oh(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function wD(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function wl(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function CD(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function lr(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function RD(i,e){try{let n=i.sessionStorage.getItem(zS);if(n){let s=JSON.parse(n);for(let[l,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(l,new Set(u||[]))}}catch{}}function AD(i,e){if(e.size>0){let n={};for(let[s,l]of e)n[s]=[...l];try{i.sessionStorage.setItem(zS,JSON.stringify(n))}catch(s){bt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function ND(){let i,e,n=new Promise((s,l)=>{i=async u=>{s(u);try{await n}catch{}},e=async u=>{l(u);try{await n}catch{}}});return{promise:n,resolve:i,reject:e}}var ds=M.createContext(null);ds.displayName="DataRouter";var lo=M.createContext(null);lo.displayName="DataRouterState";var Yp=M.createContext({isTransitioning:!1});Yp.displayName="ViewTransition";var qS=M.createContext(new Map);qS.displayName="Fetchers";var OD=M.createContext(null);OD.displayName="Await";var Vn=M.createContext(null);Vn.displayName="Navigation";var Oc=M.createContext(null);Oc.displayName="Location";var ei=M.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var $p=M.createContext(null);$p.displayName="RouteError";function ID(i,{relative:e}={}){ke(_a(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(Vn),{hash:l,pathname:u,search:f}=oo(i,{relative:e}),h=u;return n!=="/"&&(h=u==="/"?n:Zn([n,u])),s.createHref({pathname:h,search:f,hash:l})}function _a(){return M.useContext(Oc)!=null}function Tr(){return ke(_a(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Oc).location}var GS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YS(i){M.useContext(Vn).static||M.useLayoutEffect(i)}function Kp(){let{isDataRoute:i}=M.useContext(ei);return i?FD():DD()}function DD(){ke(_a(),"useNavigate() may be used only in the context of a <Router> component.");let i=M.useContext(ds),{basename:e,navigator:n}=M.useContext(Vn),{matches:s}=M.useContext(ei),{pathname:l}=Tr(),u=JSON.stringify(Ac(s)),f=M.useRef(!1);return YS(()=>{f.current=!0}),M.useCallback((p,m={})=>{if(bt(f.current,GS),!f.current)return;if(typeof p=="number"){n.go(p);return}let _=Nc(p,JSON.parse(u),l,m.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Zn([e,_.pathname])),(m.replace?n.replace:n.push)(_,m.state,m)},[e,n,u,l,i])}M.createContext(null);function oo(i,{relative:e}={}){let{matches:n}=M.useContext(ei),{pathname:s}=Tr(),l=JSON.stringify(Ac(n));return M.useMemo(()=>Nc(i,JSON.parse(l),s,e==="path"),[i,l,s,e])}function MD(i,e,n,s){ke(_a(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=M.useContext(Vn),{matches:f}=M.useContext(ei),h=f[f.length-1],p=h?h.params:{},m=h?h.pathname:"/",_=h?h.pathnameBase:"/",y=h&&h.route;{let q=y&&y.path||"";$S(m,!y||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=Tr(),b;b=E;let N=b.pathname||"/",H=N;if(_!=="/"){let q=_.replace(/^\//,"").split("/");H="/"+N.replace(/^\//,"").split("/").slice(q.length).join("/")}let U=!u&&n&&n.matches&&n.matches.length>0?n.matches:dr(i,{pathname:H});return bt(y||U!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),bt(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),PD(U&&U.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:Zn([_,l.encodeLocation?l.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?_:Zn([_,l.encodeLocation?l.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),f,n,s)}function kD(){let i=VD(),e=Ql(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:u},"ErrorBoundary")," or"," ",M.createElement("code",{style:u},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:l},n):null,f)}var LD=M.createElement(kD,null),xD=class extends M.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?M.createElement(ei.Provider,{value:this.props.routeContext},M.createElement($p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UD({routeContext:i,match:e,children:n}){let s=M.useContext(ds);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(ei.Provider,{value:i},n)}function PD(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let l=i,u=n==null?void 0:n.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);ke(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,h=-1;if(n)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:_,errors:y}=n,E=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||E){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,_)=>{let y,E=!1,b=null,N=null;n&&(y=u&&m.route.id?u[m.route.id]:void 0,b=m.route.errorElement||LD,f&&(h<0&&_===0?($S("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):h===_&&(E=!0,N=m.route.hydrateFallbackElement||null)));let H=e.concat(l.slice(0,_+1)),U=()=>{let B;return y?B=b:E?B=N:m.route.Component?B=M.createElement(m.route.Component,null):m.route.element?B=m.route.element:B=p,M.createElement(UD,{match:m,routeContext:{outlet:p,matches:H,isDataRoute:n!=null},children:B})};return n&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?M.createElement(xD,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:U(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):U()},null)}function Wp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zD(i){let e=M.useContext(ds);return ke(e,Wp(i)),e}function HD(i){let e=M.useContext(lo);return ke(e,Wp(i)),e}function BD(i){let e=M.useContext(ei);return ke(e,Wp(i)),e}function Qp(i){let e=BD(i),n=e.matches[e.matches.length-1];return ke(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function jD(){return Qp("useRouteId")}function VD(){var s;let i=M.useContext($p),e=HD("useRouteError"),n=Qp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function FD(){let{router:i}=zD("useNavigate"),e=Qp("useNavigate"),n=M.useRef(!1);return YS(()=>{n.current=!0}),M.useCallback(async(l,u={})=>{bt(n.current,GS),n.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:e,...u}))},[i,e])}var uE={};function $S(i,e,n){!e&&!uE[i]&&(uE[i]=!0,bt(!1,n))}var cE={};function fE(i,e){!i&&!cE[e]&&(cE[e]=!0,console.warn(e))}function qD(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&bt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:M.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&bt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:M.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&bt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:M.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var GD=class{constructor(){this.status="pending",this.promise=new Promise((i,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",i(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function YD({router:i,flushSync:e}){let[n,s]=M.useState(i.state),[l,u]=M.useState(),[f,h]=M.useState({isTransitioning:!1}),[p,m]=M.useState(),[_,y]=M.useState(),[E,b]=M.useState(),N=M.useRef(new Map),H=M.useCallback(($,{deletedFetchers:de,flushSync:A,viewTransitionOpts:te})=>{$.fetchers.forEach((ce,G)=>{ce.data!==void 0&&N.current.set(G,ce.data)}),de.forEach(ce=>N.current.delete(ce)),fE(A===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Se=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(fE(te==null||Se,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!te||!Se){e&&A?e(()=>s($)):M.startTransition(()=>s($));return}if(e&&A){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:te.currentLocation,nextLocation:te.nextLocation})});let ce=i.window.document.startViewTransition(()=>{e(()=>s($))});ce.finished.finally(()=>{e(()=>{m(void 0),y(void 0),u(void 0),h({isTransitioning:!1})})}),e(()=>y(ce));return}_?(p&&p.resolve(),_.skipTransition(),b({state:$,currentLocation:te.currentLocation,nextLocation:te.nextLocation})):(u($),h({isTransitioning:!0,flushSync:!1,currentLocation:te.currentLocation,nextLocation:te.nextLocation}))},[i.window,e,_,p]);M.useLayoutEffect(()=>i.subscribe(H),[i,H]),M.useEffect(()=>{f.isTransitioning&&!f.flushSync&&m(new GD)},[f]),M.useEffect(()=>{if(p&&l&&i.window){let $=l,de=p.promise,A=i.window.document.startViewTransition(async()=>{M.startTransition(()=>s($)),await de});A.finished.finally(()=>{m(void 0),y(void 0),u(void 0),h({isTransitioning:!1})}),y(A)}},[l,p,i.window]),M.useEffect(()=>{p&&l&&n.location.key===l.location.key&&p.resolve()},[p,_,n.location,l]),M.useEffect(()=>{!f.isTransitioning&&E&&(u(E.state),h({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),b(void 0))},[f.isTransitioning,E]);let U=M.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:$=>i.navigate($),push:($,de,A)=>i.navigate($,{state:de,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:($,de,A)=>i.navigate($,{replace:!0,state:de,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[i]),B=i.basename||"/",q=M.useMemo(()=>({router:i,navigator:U,static:!1,basename:B}),[i,U,B]);return M.createElement(M.Fragment,null,M.createElement(ds.Provider,{value:q},M.createElement(lo.Provider,{value:n},M.createElement(qS.Provider,{value:N.current},M.createElement(Yp.Provider,{value:f},M.createElement(WD,{basename:B,location:n.location,navigationType:n.historyAction,navigator:U},M.createElement($D,{routes:i.routes,future:i.future,state:n})))))),null)}var $D=M.memo(KD);function KD({routes:i,future:e,state:n}){return MD(i,void 0,n,e)}function Xp({to:i,replace:e,state:n,relative:s}){ke(_a(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=M.useContext(Vn);bt(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=M.useContext(ei),{pathname:f}=Tr(),h=Kp(),p=Nc(i,Ac(u),f,s==="path"),m=JSON.stringify(p);return M.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:s})},[h,m,s,e,n]),null}function WD({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:l,static:u=!1}){ke(!_a(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof n=="string"&&(n=xi(n));let{pathname:p="/",search:m="",hash:_="",state:y=null,key:E="default"}=n,b=M.useMemo(()=>{let N=In(p,f);return N==null?null:{location:{pathname:N,search:m,hash:_,state:y,key:E},navigationType:s}},[f,p,m,_,y,E,s]);return bt(b!=null,`<Router basename="${f}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:M.createElement(Vn.Provider,{value:h},M.createElement(Oc.Provider,{children:e,value:b}))}var xu="get",Uu="application/x-www-form-urlencoded";function Ic(i){return i!=null&&typeof i.tagName=="string"}function QD(i){return Ic(i)&&i.tagName.toLowerCase()==="button"}function XD(i){return Ic(i)&&i.tagName.toLowerCase()==="form"}function ZD(i){return Ic(i)&&i.tagName.toLowerCase()==="input"}function JD(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function eM(i,e){return i.button===0&&(!e||e==="_self")&&!JD(i)}var Ru=null;function tM(){if(Ru===null)try{new FormData(document.createElement("form"),0),Ru=!1}catch{Ru=!0}return Ru}var nM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uh(i){return i!=null&&!nM.has(i)?(bt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uu}"`),null):i}function iM(i,e){let n,s,l,u,f;if(XD(i)){let h=i.getAttribute("action");s=h?In(h,e):null,n=i.getAttribute("method")||xu,l=uh(i.getAttribute("enctype"))||Uu,u=new FormData(i)}else if(QD(i)||ZD(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||h.getAttribute("action");if(s=p?In(p,e):null,n=i.getAttribute("formmethod")||h.getAttribute("method")||xu,l=uh(i.getAttribute("formenctype"))||uh(h.getAttribute("enctype"))||Uu,u=new FormData(h,i),!tM()){let{name:m,type:_,value:y}=i;if(_==="image"){let E=m?`${m}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else m&&u.append(m,y)}}else{if(Ic(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xu,s=null,l=Uu,f=i}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:u,body:f}}function Zp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function rM(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sM(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function aM(i,e,n){let s=await Promise.all(i.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await rM(u,n);return f.links?f.links():[]}return[]}));return cM(s.flat(1).filter(sM).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function dE(i,e,n,s,l,u){let f=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>{var _;return n[m].pathname!==p.pathname||((_=n[m].route.path)==null?void 0:_.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,m)=>f(p,m)||h(p,m)):u==="data"?e.filter((p,m)=>{var y;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(f(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function lM(i,e,{includeHydrateFallback:n}={}){return oM(i.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function oM(i){return[...new Set(i)]}function uM(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function cM(i,e){let n=new Set;return new Set(e),i.reduce((s,l)=>{let u=JSON.stringify(uM(l));return n.has(u)||(n.add(u),s.push({key:u,link:l})),s},[])}function fM(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&In(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function KS(){let i=M.useContext(ds);return Zp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function dM(){let i=M.useContext(lo);return Zp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Jp=M.createContext(void 0);Jp.displayName="FrameworkContext";function WS(){let i=M.useContext(Jp);return Zp(i,"You must render this element inside a <HydratedRouter> element"),i}function hM(i,e){let n=M.useContext(Jp),[s,l]=M.useState(!1),[u,f]=M.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:y}=e,E=M.useRef(null);M.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let H=B=>{B.forEach(q=>{f(q.isIntersecting)})},U=new IntersectionObserver(H,{threshold:.5});return E.current&&U.observe(E.current),()=>{U.disconnect()}}},[i]),M.useEffect(()=>{if(s){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[s]);let b=()=>{l(!0)},N=()=>{l(!1),f(!1)};return n?i!=="intent"?[u,E,{}]:[u,E,{onFocus:Cl(h,b),onBlur:Cl(p,N),onMouseEnter:Cl(m,b),onMouseLeave:Cl(_,N),onTouchStart:Cl(y,b)}]:[!1,E,{}]}function Cl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function pM({page:i,...e}){let{router:n}=KS(),s=M.useMemo(()=>dr(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?M.createElement(gM,{page:i,matches:s,...e}):null}function mM(i){let{manifest:e,routeModules:n}=WS(),[s,l]=M.useState([]);return M.useEffect(()=>{let u=!1;return aM(i,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[i,e,n]),s}function gM({page:i,matches:e,...n}){let s=Tr(),{manifest:l,routeModules:u}=WS(),{basename:f}=KS(),{loaderData:h,matches:p}=dM(),m=M.useMemo(()=>dE(i,e,p,l,s,"data"),[i,e,p,l,s]),_=M.useMemo(()=>dE(i,e,p,l,s,"assets"),[i,e,p,l,s]),y=M.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let N=new Set,H=!1;if(e.forEach(B=>{var $;let q=l.routes[B.route.id];!q||!q.hasLoader||(!m.some(de=>de.route.id===B.route.id)&&B.route.id in h&&(($=u[B.route.id])!=null&&$.shouldRevalidate)||q.hasClientLoader?H=!0:N.add(B.route.id))}),N.size===0)return[];let U=fM(i,f);return H&&N.size>0&&U.searchParams.set("_routes",e.filter(B=>N.has(B.route.id)).map(B=>B.route.id).join(",")),[U.pathname+U.search]},[f,h,s,l,m,e,i,u]),E=M.useMemo(()=>lM(_,l),[_,l]),b=mM(_);return M.createElement(M.Fragment,null,y.map(N=>M.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),E.map(N=>M.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),b.map(({key:N,link:H})=>M.createElement("link",{key:N,...H})))}function _M(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var QS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QS&&(window.__reactRouterVersion="7.4.0")}catch{}function vM(i,e){return uD({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:kI({window:e==null?void 0:e.window}),hydrationData:yM(),routes:i,mapRouteProperties:qD,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function yM(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:EM(i.errors)}),i}function EM(i){if(!i)return null;let e=Object.entries(i),n={};for(let[s,l]of e)if(l&&l.__type==="RouteErrorResponse")n[s]=new lc(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let u=window[l.__subType];if(typeof u=="function")try{let f=new u(l.message);f.stack="",n[s]=f}catch{}}if(n[s]==null){let u=new Error(l.message);u.stack="",n[s]=u}}else n[s]=l;return n}var XS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZS=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:h,target:p,to:m,preventScrollReset:_,viewTransition:y,...E},b){let{basename:N}=M.useContext(Vn),H=typeof m=="string"&&XS.test(m),U,B=!1;if(typeof m=="string"&&H&&(U=m,QS))try{let G=new URL(window.location.href),ae=m.startsWith("//")?new URL(G.protocol+m):new URL(m),tt=In(ae.pathname,N);ae.origin===G.origin&&tt!=null?m=tt+ae.search+ae.hash:B=!0}catch{bt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=ID(m,{relative:l}),[$,de,A]=hM(s,E),te=wM(m,{replace:f,state:h,target:p,preventScrollReset:_,relative:l,viewTransition:y});function Se(G){e&&e(G),G.defaultPrevented||te(G)}let ce=M.createElement("a",{...E,...A,href:U||q,onClick:B||u?e:Se,ref:_M(b,de),target:p,"data-discover":!H&&n==="render"?"true":void 0});return $&&!H?M.createElement(M.Fragment,null,ce,M.createElement(pM,{page:q})):ce});ZS.displayName="Link";var SM=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:h,children:p,...m},_){let y=oo(f,{relative:m.relative}),E=Tr(),b=M.useContext(lo),{navigator:N,basename:H}=M.useContext(Vn),U=b!=null&&OM(y)&&h===!0,B=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,q=E.pathname,$=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(q=q.toLowerCase(),$=$?$.toLowerCase():null,B=B.toLowerCase()),$&&H&&($=In($,H)||$);const de=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let A=q===B||!l&&q.startsWith(B)&&q.charAt(de)==="/",te=$!=null&&($===B||!l&&$.startsWith(B)&&$.charAt(B.length)==="/"),Se={isActive:A,isPending:te,isTransitioning:U},ce=A?e:void 0,G;typeof s=="function"?G=s(Se):G=[s,A?"active":null,te?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let ae=typeof u=="function"?u(Se):u;return M.createElement(ZS,{...m,"aria-current":ce,className:G,ref:_,style:ae,to:f,viewTransition:h},typeof p=="function"?p(Se):p)});SM.displayName="NavLink";var bM=M.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:l,state:u,method:f=xu,action:h,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:y,...E},b)=>{let N=AM(),H=NM(h,{relative:m}),U=f.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&XS.test(h),q=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let de=$.nativeEvent.submitter,A=(de==null?void 0:de.getAttribute("formmethod"))||f;N(de||$.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:l,state:u,relative:m,preventScrollReset:_,viewTransition:y})};return M.createElement("form",{ref:b,method:U,action:H,onSubmit:s?p:q,...E,"data-discover":!B&&i==="render"?"true":void 0})});bM.displayName="Form";function TM(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JS(i){let e=M.useContext(ds);return ke(e,TM(i)),e}function wM(i,{target:e,replace:n,state:s,preventScrollReset:l,relative:u,viewTransition:f}={}){let h=Kp(),p=Tr(),m=oo(i,{relative:u});return M.useCallback(_=>{if(eM(_,e)){_.preventDefault();let y=n!==void 0?n:yr(p)===yr(m);h(i,{replace:y,state:s,preventScrollReset:l,relative:u,viewTransition:f})}},[p,h,m,n,s,e,i,l,u,f])}var CM=0,RM=()=>`__${String(++CM)}__`;function AM(){let{router:i}=JS("useSubmit"),{basename:e}=M.useContext(Vn),n=jD();return M.useCallback(async(s,l={})=>{let{action:u,method:f,encType:h,formData:p,body:m}=iM(s,e);if(l.navigate===!1){let _=l.fetcherKey||RM();await i.fetch(_,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,e,n])}function NM(i,{relative:e}={}){let{basename:n}=M.useContext(Vn),s=M.useContext(ei);ke(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...oo(i||".",{relative:e})},f=Tr();if(i==null){u.search=f.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(_=>_==="")){h.delete("index"),p.filter(y=>y).forEach(y=>h.append("index",y));let _=h.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Zn([n,u.pathname])),yr(u)}function OM(i,e={}){let n=M.useContext(Yp);ke(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=JS("useViewTransitionState"),l=oo(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=In(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=In(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ac(l.pathname,f)!=null||ac(l.pathname,u)!=null}new TextEncoder;var IM=RE();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function DM(i){return M.createElement(YD,{flushSync:IM.flushSync,...i})}const eb="/granja_star/assets/granja_logo_150x150-OW1YxLPE.png";/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kM=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),hE=i=>{const e=kM(i);return e.charAt(0).toUpperCase()+e.slice(1)},tb=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=M.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:f,...h},p)=>M.createElement("svg",{ref:p,...LM,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:tb("lucide",l),...h},[...f.map(([m,_])=>M.createElement(m,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=(i,e)=>{const n=M.forwardRef(({className:s,...l},u)=>M.createElement(xM,{ref:u,iconNode:e,className:tb(`lucide-${MM(hE(i))}`,`lucide-${i}`,s),...l}));return n.displayName=hE(i),n};/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],PM=nb("eye-off",UM);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HM=nb("eye",zM);function BM({email:i,setEmail:e,passaword:n,setPassaword:s,handleLogin:l}){const[u,f]=M.useState(!1);return me.jsxs("div",{id:"conteiner_login",children:[me.jsx("figure",{children:me.jsx("img",{src:eb,alt:"logo_granja"})}),me.jsxs("form",{onSubmit:l,children:[me.jsx("label",{children:"Login"}),me.jsx("input",{type:"email",placeholder:"Digite seu email",value:i,onChange:h=>e(h.target.value)}),me.jsxs("div",{id:"conteiner_input_senha",children:[me.jsx("input",{type:u?"text":"password",placeholder:"Digite a sua senha",value:n,onChange:h=>s(h.target.value),id:"input_senha"}),me.jsx("button",{type:"button",id:"btn_senha",onClick:()=>f(!u),children:u?me.jsx(HM,{}):me.jsx(PM,{})})]}),me.jsx("button",{className:"button_generic",type:"submit",children:"Entrar"})]})]})}function ib(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jM=ib,rb=new Er("auth","Firebase",ib());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new gc("@firebase/auth");function VM(i,...e){oc.logLevel<=qe.WARN&&oc.warn(`Auth (${Li}): ${i}`,...e)}function Pu(i,...e){oc.logLevel<=qe.ERROR&&oc.error(`Auth (${Li}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(i,...e){throw em(i,...e)}function sb(i,...e){return em(i,...e)}function ab(i,e,n){const s=Object.assign(Object.assign({},jM()),{[e]:n});return new Er("auth","Firebase",s).create(e,{appName:i.name})}function ra(i){return ab(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function em(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return rb.create(i,...e)}function ze(i,e,...n){if(!i)throw em(e,...n)}function Ci(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Pu(e),new Error(e)}function uc(i,e){i||Ci(e)}function FM(){return pE()==="http:"||pE()==="https:"}function pE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FM()||xE()||"connection"in navigator)?navigator.onLine:!0}function GM(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n){this.shortDelay=e,this.longDelay=n,uc(n>e,"Short delay should be less than long delay!"),this.isMobile=pc()||Yh()}get(){return qM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(i,e){uc(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new YM(3e4,6e4);function va(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function hs(i,e,n,s,l={}){return ob(i,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const h=Sr(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const m=Object.assign({method:e,headers:p},u);return LE()||(m.referrerPolicy="no-referrer"),lb.fetch()(ub(i,i.config.apiHost,n,h),m)})}async function ob(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},KM),e);try{const l=new XM(i),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Au(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const h=u.ok?f.errorMessage:f.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Au(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Au(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Au(i,"user-disabled",f);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw ab(i,_,m);Xl(i,_)}}catch(l){if(l instanceof jn)throw l;Xl(i,"network-request-failed",{message:String(l)})}}async function tm(i,e,n,s,l={}){const u=await hs(i,e,n,s,l);return"mfaPendingCredential"in u&&Xl(i,"multi-factor-auth-required",{_serverResponse:u}),u}function ub(i,e,n,s){const l=`${e}${n}?${s}`;return i.config.emulator?$M(i.config,l):`${i.config.apiScheme}://${l}`}function QM(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(sb(this.auth,"network-request-failed")),WM.get())})}}function Au(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=sb(i,e,s);return l.customData._tokenResponse=n,l}function mE(i){return i!==void 0&&i.enterprise!==void 0}class ZM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JM(i,e){return hs(i,"GET","/v2/recaptchaConfig",va(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(i,e){return hs(i,"POST","/v1/accounts:delete",e)}async function cb(i,e){return hs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tk(i,e=!1){const n=Dt(i),s=await n.getIdToken(e),l=fb(s);ze(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:Pl(ch(l.auth_time)),issuedAtTime:Pl(ch(l.iat)),expirationTime:Pl(ch(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ch(i){return Number(i)*1e3}function fb(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Pu("JWT malformed, contained fewer than 3 sections"),null;try{const l=zl(n);return l?JSON.parse(l):(Pu("Failed to decode base64 JWT payload"),null)}catch(l){return Pu("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function gE(i){const e=fb(i);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof jn&&nk(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function nk({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(i){var e;const n=i.auth,s=await i.getIdToken(),l=await jh(i,cb(n,{idToken:s}));ze(l==null?void 0:l.users.length,n,"internal-error");const u=l.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?db(u.providerUserInfo):[],h=sk(i.providerData,f),p=i.isAnonymous,m=!(i.email&&u.passwordHash)&&!(h!=null&&h.length),_=p?m:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new Vh(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(i,y)}async function rk(i){const e=Dt(i);await cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sk(i,e){return[...i.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function db(i){return i.map(e=>{var{providerId:n}=e,s=Jl(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(i,e){const n=await ob(i,{},async()=>{const s=Sr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=i.config,f=ub(i,l,"/v1/token",`key=${u}`),h=await i._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",lb.fetch()(f,{method:"POST",headers:h,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lk(i,e){return hs(i,"POST","/v2/accounts:revokeToken",va(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=gE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await ak(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new sa;return s&&(ze(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(ze(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ze(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sa,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(i,e){ze(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ri{constructor(e){var{uid:n,auth:s,stsTokenManager:l}=e,u=Jl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ik(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Vh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await jh(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tk(this,e)}reload(){return rk(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await cc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(It(this.auth.app))return Promise.reject(ra(this.auth));const e=await this.getIdToken();return await jh(this,ek(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,l,u,f,h,p,m,_;const y=(s=n.displayName)!==null&&s!==void 0?s:void 0,E=(l=n.email)!==null&&l!==void 0?l:void 0,b=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=n.photoURL)!==null&&f!==void 0?f:void 0,H=(h=n.tenantId)!==null&&h!==void 0?h:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,B=(m=n.createdAt)!==null&&m!==void 0?m:void 0,q=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:$,emailVerified:de,isAnonymous:A,providerData:te,stsTokenManager:Se}=n;ze($&&Se,e,"internal-error");const ce=sa.fromJSON(this.name,Se);ze(typeof $=="string",e,"internal-error"),ar(y,e.name),ar(E,e.name),ze(typeof de=="boolean",e,"internal-error"),ze(typeof A=="boolean",e,"internal-error"),ar(b,e.name),ar(N,e.name),ar(H,e.name),ar(U,e.name),ar(B,e.name),ar(q,e.name);const G=new Ri({uid:$,auth:e,email:E,emailVerified:de,displayName:y,isAnonymous:A,photoURL:N,phoneNumber:b,tenantId:H,stsTokenManager:ce,createdAt:B,lastLoginAt:q});return te&&Array.isArray(te)&&(G.providerData=te.map(ae=>Object.assign({},ae))),U&&(G._redirectEventId=U),G}static async _fromIdTokenResponse(e,n,s=!1){const l=new sa;l.updateFromServerResponse(n);const u=new Ri({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await cc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];ze(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?db(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),h=new sa;h.updateFromIdToken(s);const p=new Ri({uid:l.localId,auth:e,stsTokenManager:h,isAnonymous:f}),m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Vh(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;function ns(i){uc(i instanceof Function,"Expected a class definition");let e=_E.get(i);return e?(uc(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,_E.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hb.type="NONE";const vE=hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(i,e,n){return`firebase:${i}:${e}:${n}`}class aa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=fh(this.userKey,l.apiKey,u),this.fullPersistenceKey=fh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new aa(ns(vE),e,s);const l=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=l[0]||ns(vE);const f=fh(s,e.config.apiKey,e.name);let h=null;for(const m of n)try{const _=await m._get(f);if(_){const y=Ri._fromJSON(e,_);m!==u&&(h=y),u=m;break}}catch{}const p=l.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new aa(u,e,s):(u=p[0],h&&await u._set(f,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new aa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ok(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hk(e))return"Blackberry";if(pk(e))return"Webos";if(uk(e))return"Safari";if((e.includes("chrome/")||ck(e))&&!e.includes("edge/"))return"Chrome";if(dk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ok(i=it()){return/firefox\//i.test(i)}function uk(i=it()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ck(i=it()){return/crios\//i.test(i)}function fk(i=it()){return/iemobile/i.test(i)}function dk(i=it()){return/android/i.test(i)}function hk(i=it()){return/blackberry/i.test(i)}function pk(i=it()){return/webos/i.test(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(i,e=[]){let n;switch(i){case"Browser":n=yE(it());break;case"Worker":n=`${yE(it())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Li}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,h)=>{try{const p=e(u);f(p)}catch(p){h(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(i,e={}){return hs(i,"GET","/v2/passwordPolicy",va(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=6;class vk{constructor(e){var n,s,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:_k,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,l,u,f,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EE(this),this.idTokenSubscription=new EE(this),this.beforeStateQueue=new mk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await aa.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cb(this,{idToken:e}),s=await Ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(It(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===h)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(It(this.app))return Promise.reject(ra(this));const n=e?Dt(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return It(this.app)?Promise.reject(ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return It(this.app)?Promise.reject(ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gk(this),n=new vk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Er("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await lk(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ns(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await aa.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(h,this,"internal-error"),h.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(It(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Dc(i){return Dt(i)}class EE{constructor(e){this.auth=e,this.observer=null,this.addObserver=PE(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ek(i){return mb.loadJS(i)}function Sk(){return mb.recaptchaEnterpriseScript}class bk{constructor(){this.enterprise=new Tk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Tk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const wk="recaptcha-enterprise",gb="NO_RECAPTCHA";class Ck{constructor(e){this.type=wk,this.auth=Dc(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,h)=>{JM(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new ZM(p);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,f(m.siteKey)}}).catch(p=>{h(p)})})}function l(u,f,h){const p=window.grecaptcha;mE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(m=>{f(m)}).catch(()=>{f(gb)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bk().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(h=>{if(!n&&mE(window.grecaptcha))l(h,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Sk();p.length!==0&&(p+=h),Ek(p).then(()=>{l(h,u,f)}).catch(m=>{f(m)})}}).catch(h=>{f(h)})})}}async function SE(i,e,n,s=!1,l=!1){const u=new Ck(i);let f;if(l)f=gb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:f}):Object.assign(h,{captchaResponse:f}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function bE(i,e,n,s,l){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await SE(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await SE(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(f)})}function Rk(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ns);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,n){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}async function Nk(i,e){return hs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(i,e){return tm(i,"POST","/v1/accounts:signInWithPassword",va(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(i,e){return tm(i,"POST","/v1/accounts:signInWithEmailLink",va(i,e))}async function Dk(i,e){return tm(i,"POST","/v1/accounts:signInWithEmailLink",va(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends Ak{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Zl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Zl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bE(e,n,"signInWithPassword",Ok);case"emailLink":return Ik(e,{email:this._email,oobCode:this._password});default:Xl(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bE(e,s,"signUpPassword",Nk);case"emailLink":return Dk(e,{idToken:n,email:this._email,oobCode:this._password});default:Xl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kk(i){const e=Rl(Al(i)).link,n=e?Rl(Al(e)).deep_link_id:null,s=Rl(Al(i)).deep_link_id;return(s?Rl(Al(s)).link:null)||s||n||e||i}class nm{constructor(e){var n,s,l,u,f,h;const p=Rl(Al(e)),m=(n=p.apiKey)!==null&&n!==void 0?n:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,y=Mk((l=p.mode)!==null&&l!==void 0?l:null);ze(m&&_&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=kk(e);try{return new nm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.providerId=ya.PROVIDER_ID}static credential(e,n){return Zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=nm.parseLink(n);return ze(s,"argument-error"),Zl._fromEmailAndCode(e,s.code,s.tenantId)}}ya.PROVIDER_ID="password";ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await Ri._fromIdTokenResponse(e,s,l),f=TE(s);return new fc({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=TE(s);return new fc({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function TE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends jn{constructor(e,n,s,l){var u;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,dc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new dc(e,n,s,l)}}function Lk(i,e,n,s){return n._getIdTokenResponse(i).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?dc._fromErrorAndOperation(i,u,e,s):u})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(i,e,n=!1){if(It(i.app))return Promise.reject(ra(i));const s="signIn",l=await Lk(i,s,e),u=await fc._fromIdTokenResponse(i,s,l);return n||await i._updateCurrentUser(u.user),u}async function Uk(i,e){return xk(Dc(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(i){const e=Dc(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function zk(i,e,n){return It(i.app)?Promise.reject(ra(i)):Uk(Dt(i),ya.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Pk(i),s})}var wE="@firebase/auth",CE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jk(i){gr(new Ni("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:h}=s.options;ze(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:h,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pb(i)},m=new yk(s,l,u,p);return Rk(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),gr(new Ni("auth-internal",e=>{const n=Dc(e.getProvider("auth").getImmediate());return(s=>new Hk(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(wE,CE,Bk(i)),Wn(wE,CE,"esm2017")}jk("Cordova");function Vk(){const{setUser:i}=Rc(),[e,n]=M.useState(""),[s,l]=M.useState(""),[u,f]=M.useState(""),h=Kp(),p=async m=>{m.preventDefault();try{const y=(await zk(Fp,e,s)).user;i(y),h("/granja_star/dados")}catch{f("Erro em fazer o login. Verifique suas credenciais")}};return me.jsx(me.Fragment,{children:me.jsxs("div",{className:"conteiner_principal",children:[me.jsx(BM,{email:e,setEmail:n,passaword:s,setPassaword:l,handleLogin:p}),u&&me.jsx("p",{children:u})]})})}const Fk="/granja_star/assets/ON(200%20x%2080%20px)-C803Gp9Y.png",qk="/granja_star/assets/OFF(200%20x%2080%20px)-DM4Rm0qk.png";function Gk({dados:i,logout:e,gerecEstLuz:n,estadoLuz:s}){return me.jsxs("div",{id:"conteiner_lista_dados",children:[me.jsx("figure",{children:me.jsx("img",{src:eb,alt:"logo_granja"})}),me.jsxs("section",{children:[me.jsx("article",{id:"conteiner_hc",children:me.jsxs("p",{children:[i?i.index.toFixed(2):"Carregando..."," HC"]})}),me.jsxs("article",{className:"conteiner_gener_dados",children:[me.jsx("p",{children:"Temperatura:"}),me.jsxs("p",{children:[i?i.temper:"Carregando..."," C"]})]}),me.jsxs("article",{className:"conteiner_gener_dados",children:[me.jsx("p",{children:"Umidade:"}),me.jsxs("p",{children:[i?i.umidade:"Carregando...","%"]})]}),me.jsxs("article",{className:"conteiner_gener_dados",children:[me.jsx("p",{children:"Estado da luz:"}),me.jsx("button",{onClick:n,id:"btn_img",children:me.jsx("figure",{children:me.jsx("img",{src:s?Fk:qk,alt:s?"lampadaLigada":"lampadaDesligada"})})})]})]}),me.jsx("button",{className:"button_generic",onClick:e,children:"Sair"})]})}function Yk(){const{setUser:i}=Rc(),[e,n]=M.useState(null),[s,l]=M.useState(!0),[u,f]=M.useState(!1),h=hI(NI,"/dados");M.useEffect(()=>{const _=gI(h,y=>{y.exists()?(n(y.val()),f(y.val().estadoLuz),l(!1)):(console.log("Nenhum dado encontrado"),l(!1))});return()=>_()},[]);const p=async _=>{_.preventDefault();try{const y=!u;f(y),await pI(h,{estadoLuz:y})}catch{console.error("Erro em atualziar o usuario")}};function m(){const _=ap();JR(_).then(()=>{console.log("Usuário deslogado com sucesso do Firebase"),i(null)}).catch(y=>{console.error("Erro ao deslogar do Firebase:",y)})}return me.jsx("div",{className:"conteiner_principal",children:s?me.jsx("p",{children:"Carregando..."}):me.jsx(Gk,{dados:e,logout:m,gerecEstLuz:p,estadoLuz:u})})}function $k({children:i}){const{user:e}=Rc();return e?i:me.jsx(Xp,{to:"/granja_star"})}function Kk({children:i}){const{user:e,setUser:n}=Rc(),[s,l]=M.useState(!0);return M.useEffect(()=>{const u=ap(),f=ZR(u,h=>{n(h||null),l(!1)});return()=>f()},[n]),s?me.jsx("div",{children:"Carregando..."}):e?me.jsx(Xp,{to:"/granja_star/dados"}):i}const Wk=vM([{path:"/",element:me.jsx(Xp,{to:"/granja_star"})},{path:"/granja_star",element:me.jsx(Kk,{children:me.jsx(Vk,{})})},{path:"/granja_star/dados",element:me.jsx($k,{children:me.jsx(Yk,{})})}]);Iw.createRoot(document.getElementById("root")).render(me.jsx(M.StrictMode,{children:me.jsx(OI,{children:me.jsx(DM,{router:Wk})})}));
