(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var xd={exports:{}},hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function pw(){if(pv)return hl;pv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:i,type:s,key:f,ref:l!==void 0?l:null,props:u}}return hl.Fragment=e,hl.jsx=n,hl.jsxs=n,hl}var mv;function mw(){return mv||(mv=1,xd.exports=pw()),xd.exports}var Le=mw(),Ud={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function gw(){if(gv)return Te;gv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.iterator;function E(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,H={};function U(w,j,ne){this.props=w,this.context=j,this.refs=H,this.updater=ne||b}U.prototype.isReactComponent={},U.prototype.setState=function(w,j){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,j,"setState")},U.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function B(){}B.prototype=U.prototype;function q(w,j,ne){this.props=w,this.context=j,this.refs=H,this.updater=ne||b}var $=q.prototype=new B;$.constructor=q,N($,U.prototype),$.isPureReactComponent=!0;var de=Array.isArray,A={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function Ee(w,j,ne,ie,Q,Se){return ne=Se.ref,{$$typeof:i,type:w,key:j,ref:ne!==void 0?ne:null,props:Se}}function ce(w,j){return Ee(w.type,j,void 0,void 0,void 0,w.props)}function G(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function ae(w){var j={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ne){return j[ne]})}var et=/\/+/g;function zt(w,j){return typeof w=="object"&&w!==null&&w.key!=null?ae(""+w.key):j.toString(36)}function Tt(){}function Kt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Tt,Tt):(w.status="pending",w.then(function(j){w.status==="pending"&&(w.status="fulfilled",w.value=j)},function(j){w.status==="pending"&&(w.status="rejected",w.reason=j)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Pe(w,j,ne,ie,Q){var Se=typeof w;(Se==="undefined"||Se==="boolean")&&(w=null);var be=!1;if(w===null)be=!0;else switch(Se){case"bigint":case"string":case"number":be=!0;break;case"object":switch(w.$$typeof){case i:case e:be=!0;break;case _:return be=w._init,Pe(be(w._payload),j,ne,ie,Q)}}if(be)return Q=Q(w),be=ie===""?"."+zt(w,0):ie,de(Q)?(ne="",be!=null&&(ne=be.replace(et,"$&/")+"/"),Pe(Q,j,ne,"",function(De){return De})):Q!=null&&(G(Q)&&(Q=ce(Q,ne+(Q.key==null||w&&w.key===Q.key?"":(""+Q.key).replace(et,"$&/")+"/")+be)),j.push(Q)),1;be=0;var Mt=ie===""?".":ie+":";if(de(w))for(var He=0;He<w.length;He++)ie=w[He],Se=Mt+zt(ie,He),be+=Pe(ie,j,ne,Se,Q);else if(He=E(w),typeof He=="function")for(w=He.call(w),He=0;!(ie=w.next()).done;)ie=ie.value,Se=Mt+zt(ie,He++),be+=Pe(ie,j,ne,Se,Q);else if(Se==="object"){if(typeof w.then=="function")return Pe(Kt(w),j,ne,ie,Q);throw j=String(w),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return be}function K(w,j,ne){if(w==null)return w;var ie=[],Q=0;return Pe(w,ie,"","",function(Se){return j.call(ne,Se,Q++)}),ie}function me(w){if(w._status===-1){var j=w._result;j=j(),j.then(function(ne){(w._status===0||w._status===-1)&&(w._status=1,w._result=ne)},function(ne){(w._status===0||w._status===-1)&&(w._status=2,w._result=ne)}),w._status===-1&&(w._status=0,w._result=j)}if(w._status===1)return w._result.default;throw w._result}var ue=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Ie(){}return Te.Children={map:K,forEach:function(w,j,ne){K(w,function(){j.apply(this,arguments)},ne)},count:function(w){var j=0;return K(w,function(){j++}),j},toArray:function(w){return K(w,function(j){return j})||[]},only:function(w){if(!G(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Te.Component=U,Te.Fragment=n,Te.Profiler=l,Te.PureComponent=q,Te.StrictMode=s,Te.Suspense=p,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Te.act=function(){throw Error("act(...) is not supported in production builds of React.")},Te.cache=function(w){return function(){return w.apply(null,arguments)}},Te.cloneElement=function(w,j,ne){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var ie=N({},w.props),Q=w.key,Se=void 0;if(j!=null)for(be in j.ref!==void 0&&(Se=void 0),j.key!==void 0&&(Q=""+j.key),j)!te.call(j,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&j.ref===void 0||(ie[be]=j[be]);var be=arguments.length-2;if(be===1)ie.children=ne;else if(1<be){for(var Mt=Array(be),He=0;He<be;He++)Mt[He]=arguments[He+2];ie.children=Mt}return Ee(w.type,Q,void 0,void 0,Se,ie)},Te.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},Te.createElement=function(w,j,ne){var ie,Q={},Se=null;if(j!=null)for(ie in j.key!==void 0&&(Se=""+j.key),j)te.call(j,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(Q[ie]=j[ie]);var be=arguments.length-2;if(be===1)Q.children=ne;else if(1<be){for(var Mt=Array(be),He=0;He<be;He++)Mt[He]=arguments[He+2];Q.children=Mt}if(w&&w.defaultProps)for(ie in be=w.defaultProps,be)Q[ie]===void 0&&(Q[ie]=be[ie]);return Ee(w,Se,void 0,void 0,null,Q)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(w){return{$$typeof:h,render:w}},Te.isValidElement=G,Te.lazy=function(w){return{$$typeof:_,_payload:{_status:-1,_result:w},_init:me}},Te.memo=function(w,j){return{$$typeof:m,type:w,compare:j===void 0?null:j}},Te.startTransition=function(w){var j=A.T,ne={};A.T=ne;try{var ie=w(),Q=A.S;Q!==null&&Q(ne,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Ie,ue)}catch(Se){ue(Se)}finally{A.T=j}},Te.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Te.use=function(w){return A.H.use(w)},Te.useActionState=function(w,j,ne){return A.H.useActionState(w,j,ne)},Te.useCallback=function(w,j){return A.H.useCallback(w,j)},Te.useContext=function(w){return A.H.useContext(w)},Te.useDebugValue=function(){},Te.useDeferredValue=function(w,j){return A.H.useDeferredValue(w,j)},Te.useEffect=function(w,j){return A.H.useEffect(w,j)},Te.useId=function(){return A.H.useId()},Te.useImperativeHandle=function(w,j,ne){return A.H.useImperativeHandle(w,j,ne)},Te.useInsertionEffect=function(w,j){return A.H.useInsertionEffect(w,j)},Te.useLayoutEffect=function(w,j){return A.H.useLayoutEffect(w,j)},Te.useMemo=function(w,j){return A.H.useMemo(w,j)},Te.useOptimistic=function(w,j){return A.H.useOptimistic(w,j)},Te.useReducer=function(w,j,ne){return A.H.useReducer(w,j,ne)},Te.useRef=function(w){return A.H.useRef(w)},Te.useState=function(w){return A.H.useState(w)},Te.useSyncExternalStore=function(w,j,ne){return A.H.useSyncExternalStore(w,j,ne)},Te.useTransition=function(){return A.H.useTransition()},Te.version="19.0.0",Te}var _v;function Hh(){return _v||(_v=1,Ud.exports=gw()),Ud.exports}var k=Hh(),Pd={exports:{}},pl={},zd={exports:{}},Hd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function _w(){return vv||(vv=1,function(i){function e(K,me){var ue=K.length;K.push(me);e:for(;0<ue;){var Ie=ue-1>>>1,w=K[Ie];if(0<l(w,me))K[Ie]=me,K[ue]=w,ue=Ie;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var me=K[0],ue=K.pop();if(ue!==me){K[0]=ue;e:for(var Ie=0,w=K.length,j=w>>>1;Ie<j;){var ne=2*(Ie+1)-1,ie=K[ne],Q=ne+1,Se=K[Q];if(0>l(ie,ue))Q<w&&0>l(Se,ie)?(K[Ie]=Se,K[Q]=ue,Ie=Q):(K[Ie]=ie,K[ne]=ue,Ie=ne);else if(Q<w&&0>l(Se,ue))K[Ie]=Se,K[Q]=ue,Ie=Q;else break e}}return me}function l(K,me){var ue=K.sortIndex-me.sortIndex;return ue!==0?ue:K.id-me.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();i.unstable_now=function(){return f.now()-h}}var p=[],m=[],_=1,y=null,E=3,b=!1,N=!1,H=!1,U=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function $(K){for(var me=n(m);me!==null;){if(me.callback===null)s(m);else if(me.startTime<=K)s(m),me.sortIndex=me.expirationTime,e(p,me);else break;me=n(m)}}function de(K){if(H=!1,$(K),!N)if(n(p)!==null)N=!0,Kt();else{var me=n(m);me!==null&&Pe(de,me.startTime-K)}}var A=!1,te=-1,Ee=5,ce=-1;function G(){return!(i.unstable_now()-ce<Ee)}function ae(){if(A){var K=i.unstable_now();ce=K;var me=!0;try{e:{N=!1,H&&(H=!1,B(te),te=-1),b=!0;var ue=E;try{t:{for($(K),y=n(p);y!==null&&!(y.expirationTime>K&&G());){var Ie=y.callback;if(typeof Ie=="function"){y.callback=null,E=y.priorityLevel;var w=Ie(y.expirationTime<=K);if(K=i.unstable_now(),typeof w=="function"){y.callback=w,$(K),me=!0;break t}y===n(p)&&s(p),$(K)}else s(p);y=n(p)}if(y!==null)me=!0;else{var j=n(m);j!==null&&Pe(de,j.startTime-K),me=!1}}break e}finally{y=null,E=ue,b=!1}me=void 0}}finally{me?et():A=!1}}}var et;if(typeof q=="function")et=function(){q(ae)};else if(typeof MessageChannel<"u"){var zt=new MessageChannel,Tt=zt.port2;zt.port1.onmessage=ae,et=function(){Tt.postMessage(null)}}else et=function(){U(ae,0)};function Kt(){A||(A=!0,et())}function Pe(K,me){te=U(function(){K(i.unstable_now())},me)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_continueExecution=function(){N||b||(N=!0,Kt())},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(K){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var ue=E;E=me;try{return K()}finally{E=ue}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(K,me){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ue=E;E=K;try{return me()}finally{E=ue}},i.unstable_scheduleCallback=function(K,me,ue){var Ie=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ie+ue:Ie):ue=Ie,K){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ue+w,K={id:_++,callback:me,priorityLevel:K,startTime:ue,expirationTime:w,sortIndex:-1},ue>Ie?(K.sortIndex=ue,e(m,K),n(p)===null&&K===n(m)&&(H?(B(te),te=-1):H=!0,Pe(de,ue-Ie))):(K.sortIndex=w,e(p,K),N||b||(N=!0,Kt())),K},i.unstable_shouldYield=G,i.unstable_wrapCallback=function(K){var me=E;return function(){var ue=E;E=me;try{return K.apply(this,arguments)}finally{E=ue}}}}(Hd)),Hd}var yv;function vw(){return yv||(yv=1,zd.exports=_w()),zd.exports}var Bd={exports:{}},jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function yw(){if(Ev)return jt;Ev=1;var i=Hh();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:p,containerInfo:m,implementation:_}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,jt.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,_)},jt.flushSync=function(p){var m=f.T,_=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=m,s.p=_,s.d.f()}},jt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},jt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,y=h(_,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:b}):_==="script"&&s.d.X(p,{crossOrigin:y,integrity:E,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},jt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},jt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,y=h(_,m.crossOrigin);s.d.L(p,_,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},jt.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=h(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},jt.requestFormReset=function(p){s.d.r(p)},jt.unstable_batchedUpdates=function(p,m){return p(m)},jt.useFormState=function(p,m,_){return f.H.useFormState(p,m,_)},jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},jt.version="19.0.0",jt}var Sv;function pE(){if(Sv)return Bd.exports;Sv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bd.exports=yw(),Bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function Ew(){if(bv)return pl;bv=1;var i=vw(),e=Hh(),n=pE();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),b=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),de=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function te(t){return t===null||typeof t!="object"?null:(t=A&&t[A]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Symbol.for("react.client.reference");function ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ee?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case h:return"Portal";case _:return"Profiler";case m:return"StrictMode";case H:return"Suspense";case U:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case N:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B:return r=t.displayName||null,r!==null?r:ce(t.type)||"Memo";case q:r=t._payload,t=t._init;try{return ce(t(r))}catch{}}return null}var G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=Object.assign,et,zt;function Tt(t){if(et===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);et=r&&r[1]||"",zt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+t+zt}var Kt=!1;function Pe(t,r){if(!t||Kt)return"";Kt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(x){var M=x}Reflect.construct(t,[],V)}else{try{V.call()}catch(x){M=x}t.call(V.prototype)}}else{try{throw Error()}catch(x){M=x}(V=t())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(x){if(x&&M&&typeof x.stack=="string")return[x.stack,M.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),g=d[0],v=d[1];if(g&&v){var S=g.split(`
`),R=v.split(`
`);for(c=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;if(o===S.length||c===R.length)for(o=S.length-1,c=R.length-1;1<=o&&0<=c&&S[o]!==R[c];)c--;for(;1<=o&&0<=c;o--,c--)if(S[o]!==R[c]){if(o!==1||c!==1)do if(o--,c--,0>c||S[o]!==R[c]){var P=`
`+S[o].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=o&&0<=c);break}}}finally{Kt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Tt(a):""}function K(t){switch(t.tag){case 26:case 27:case 5:return Tt(t.type);case 16:return Tt("Lazy");case 13:return Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 15:return t=Pe(t.type,!1),t;case 11:return t=Pe(t.type.render,!1),t;case 1:return t=Pe(t.type,!0),t;default:return""}}function me(t){try{var r="";do r+=K(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ue(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function Ie(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function w(t){if(ue(t)!==t)throw Error(s(188))}function j(t){var r=t.alternate;if(!r){if(r=ue(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,o=r;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return w(c),t;if(d===o)return w(c),r;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=c,o=d;else{for(var g=!1,v=c.child;v;){if(v===a){g=!0,a=c,o=d;break}if(v===o){g=!0,o=c,a=d;break}v=v.sibling}if(!g){for(v=d.child;v;){if(v===a){g=!0,a=d,o=c;break}if(v===o){g=!0,o=d,a=c;break}v=v.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function ne(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=ne(t),r!==null)return r;t=t.sibling}return null}var ie=Array.isArray,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},be=[],Mt=-1;function He(t){return{current:t}}function De(t){0>Mt||(t.current=be[Mt],be[Mt]=null,Mt--)}function je(t,r){Mt++,be[Mt]=t.current,t.current=r}var nn=He(null),Tr=He(null),Ht=He(null),ds=He(null);function hs(t,r){switch(je(Ht,r),je(Tr,t),je(nn,null),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?F_(r):0;break;default:if(t=t===8?r.parentNode:r,r=t.tagName,t=t.namespaceURI)t=F_(t),r=q_(t,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}De(nn),je(nn,r)}function ei(){De(nn),De(Tr),De(Ht)}function _a(t){t.memoizedState!==null&&je(ds,t);var r=nn.current,a=q_(r,t.type);r!==a&&(je(Tr,t),je(nn,a))}function ps(t){Tr.current===t&&(De(nn),De(Tr)),ds.current===t&&(De(ds),ol._currentValue=Se)}var va=Object.prototype.hasOwnProperty,ya=i.unstable_scheduleCallback,In=i.unstable_cancelCallback,wr=i.unstable_shouldYield,lo=i.unstable_requestPaint,Wt=i.unstable_now,Fn=i.unstable_getCurrentPriorityLevel,dn=i.unstable_ImmediatePriority,Ea=i.unstable_UserBlockingPriority,xi=i.unstable_NormalPriority,Oc=i.unstable_LowPriority,Dn=i.unstable_IdlePriority,oo=i.log,uo=i.unstable_setDisableYieldValue,Ui=null,Gt=null;function co(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Ui,t,void 0,(t.current.flags&128)===128)}catch{}}function rn(t){if(typeof oo=="function"&&uo(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Ui,t)}catch{}}var Bt=Math.clz32?Math.clz32:fo,Sa=Math.log,Ic=Math.LN2;function fo(t){return t>>>=0,t===0?32:31-(Sa(t)/Ic|0)|0}var ms=128,Cr=4194304;function hn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ti(t,r){var a=t.pendingLanes;if(a===0)return 0;var o=0,c=t.suspendedLanes,d=t.pingedLanes,g=t.warmLanes;t=t.finishedLanes!==0;var v=a&134217727;return v!==0?(a=v&~c,a!==0?o=hn(a):(d&=v,d!==0?o=hn(d):t||(g=v&~g,g!==0&&(o=hn(g))))):(v=a&~c,v!==0?o=hn(v):d!==0?o=hn(d):t||(g=a&~g,g!==0&&(o=hn(g)))),o===0?0:r!==0&&r!==o&&(r&c)===0&&(c=o&-o,g=r&-r,c>=g||c===32&&(g&4194176)!==0)?r:o}function Rr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Dc(t,r){switch(t){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T(){var t=ms;return ms<<=1,(ms&4194176)===0&&(ms=128),t}function I(){var t=Cr;return Cr<<=1,(Cr&62914560)===0&&(Cr=4194304),t}function L(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function F(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function W(t,r,a,o,c,d){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,S=t.expirationTimes,R=t.hiddenUpdates;for(a=g&~a;0<a;){var P=31-Bt(a),V=1<<P;v[P]=0,S[P]=-1;var M=R[P];if(M!==null)for(R[P]=null,P=0;P<M.length;P++){var x=M[P];x!==null&&(x.lane&=-536870913)}a&=~V}o!==0&&he(t,o,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~r))}function he(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-Bt(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194218}function fe(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var o=31-Bt(a),c=1<<o;c&r|t[o]&r&&(t[o]|=r),a&=~c}}function re(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function le(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:ov(t.type))}function X(t,r){var a=Q.p;try{return Q.p=t,r()}finally{Q.p=a}}var Z=Math.random().toString(36).slice(2),J="__reactFiber$"+Z,_e="__reactProps$"+Z,Ge="__reactContainer$"+Z,mt="__reactEvents$"+Z,ot="__reactListeners$"+Z,nt="__reactHandles$"+Z,ut="__reactResources$"+Z,pn="__reactMarker$"+Z;function ni(t){delete t[J],delete t[_e],delete t[mt],delete t[ot],delete t[nt]}function kt(t){var r=t[J];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ge]||a[J]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=$_(t);t!==null;){if(a=t[J])return a;t=$_(t)}return r}t=a,a=t.parentNode}return null}function Lt(t){if(t=t[J]||t[Ge]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ii(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function mn(t){var r=t[ut];return r||(r=t[ut]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Qe(t){t[pn]=!0}var Ar=new Set,Nr={};function xe(t,r){rt(t,r),rt(t+"Capture",r)}function rt(t,r){for(Nr[t]=r,t=0;t<r.length;t++)Ar.add(r[t])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},ri={};function ho(t){return va.call(ri,t)?!0:va.call(st,t)?!1:Or.test(t)?ri[t]=!0:(st[t]=!0,!1)}function gs(t,r,a){if(ho(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function po(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function si(t,r,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+o)}}function gn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yp(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ub(t){var r=Yp(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,d.call(this,g)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function mo(t){t._valueTracker||(t._valueTracker=ub(t))}function $p(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return t&&(o=Yp(t)?t.checked?"true":"false":t.value),t=o,t!==a?(r.setValue(t),!0):!1}function go(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cb=/[\n"\\]/g;function _n(t){return t.replace(cb,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Mc(t,r,a,o,c,d,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),r!=null?g==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+gn(r)):t.value!==""+gn(r)&&(t.value=""+gn(r)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),r!=null?kc(t,g,gn(r)):a!=null?kc(t,g,gn(a)):o!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+gn(v):t.removeAttribute("name")}function Kp(t,r,a,o,c,d,g,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+gn(a):"",r=r!=null?""+gn(r):a,v||r===t.value||(t.value=r),t.defaultValue=r}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=v?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function kc(t,r,a){r==="number"&&go(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function _s(t,r,a,o){if(t=t.options,r){r={};for(var c=0;c<a.length;c++)r["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=r.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&o&&(t[a].defaultSelected=!0)}else{for(a=""+gn(a),r=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}r!==null||t[c].disabled||(r=t[c])}r!==null&&(r.selected=!0)}}function Wp(t,r,a){if(r!=null&&(r=""+gn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+gn(a):""}function Qp(t,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(s(92));if(ie(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=gn(r),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function vs(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var fb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xp(t,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,a):typeof a!="number"||a===0||fb.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Zp(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in r)o=r[c],r.hasOwnProperty(c)&&a[c]!==o&&Xp(t,c,o)}else for(var d in r)r.hasOwnProperty(d)&&Xp(t,d,r[d])}function Lc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var db=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _o(t){return hb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var xc=null;function Uc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ys=null,Es=null;function Jp(t){var r=Lt(t);if(r&&(t=r.stateNode)){var a=t[_e]||null;e:switch(t=r.stateNode,r.type){case"input":if(Mc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==t&&o.form===t.form){var c=o[_e]||null;if(!c)throw Error(s(90));Mc(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===t.form&&$p(o)}break e;case"textarea":Wp(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&_s(t,!!a.multiple,r,!1)}}}var Pc=!1;function em(t,r,a){if(Pc)return t(r,a);Pc=!0;try{var o=t(r);return o}finally{if(Pc=!1,(ys!==null||Es!==null)&&(eu(),ys&&(r=ys,t=Es,Es=ys=null,Jp(r),t)))for(r=0;r<t.length;r++)Jp(t[r])}}function ba(t,r){var a=t.stateNode;if(a===null)return null;var o=a[_e]||null;if(o===null)return null;a=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var zc=!1;if(Qt)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){zc=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{zc=!1}var Pi=null,Hc=null,vo=null;function tm(){if(vo)return vo;var t,r=Hc,a=r.length,o,c="value"in Pi?Pi.value:Pi.textContent,d=c.length;for(t=0;t<a&&r[t]===c[t];t++);var g=a-t;for(o=1;o<=g&&r[a-o]===c[d-o];o++);return vo=c.slice(t,1<o?1-o:void 0)}function yo(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Eo(){return!0}function nm(){return!1}function Xt(t){function r(a,o,c,d,g){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Eo:nm,this.isPropagationStopped=nm,this}return ae(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),r}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=Xt(Ir),wa=ae({},Ir,{view:0,detail:0}),pb=Xt(wa),Bc,Vc,Ca,bo=ae({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ca&&(Ca&&t.type==="mousemove"?(Bc=t.screenX-Ca.screenX,Vc=t.screenY-Ca.screenY):Vc=Bc=0,Ca=t),Bc)},movementY:function(t){return"movementY"in t?t.movementY:Vc}}),im=Xt(bo),mb=ae({},bo,{dataTransfer:0}),gb=Xt(mb),_b=ae({},wa,{relatedTarget:0}),jc=Xt(_b),vb=ae({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),yb=Xt(vb),Eb=ae({},Ir,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sb=Xt(Eb),bb=ae({},Ir,{data:0}),rm=Xt(bb),Tb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rb(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Cb[t])?!!r[t]:!1}function Fc(){return Rb}var Ab=ae({},wa,{key:function(t){if(t.key){var r=Tb[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=yo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fc,charCode:function(t){return t.type==="keypress"?yo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nb=Xt(Ab),Ob=ae({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sm=Xt(Ob),Ib=ae({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fc}),Db=Xt(Ib),Mb=ae({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),kb=Xt(Mb),Lb=ae({},bo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xb=Xt(Lb),Ub=ae({},Ir,{newState:0,oldState:0}),Pb=Xt(Ub),zb=[9,13,27,32],qc=Qt&&"CompositionEvent"in window,Ra=null;Qt&&"documentMode"in document&&(Ra=document.documentMode);var Hb=Qt&&"TextEvent"in window&&!Ra,am=Qt&&(!qc||Ra&&8<Ra&&11>=Ra),lm=" ",om=!1;function um(t,r){switch(t){case"keyup":return zb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ss=!1;function Bb(t,r){switch(t){case"compositionend":return cm(r);case"keypress":return r.which!==32?null:(om=!0,lm);case"textInput":return t=r.data,t===lm&&om?null:t;default:return null}}function Vb(t,r){if(Ss)return t==="compositionend"||!qc&&um(t,r)?(t=tm(),vo=Hc=Pi=null,Ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return am&&r.locale!=="ko"?null:r.data;default:return null}}var jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fm(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!jb[t.type]:r==="textarea"}function dm(t,r,a,o){ys?Es?Es.push(o):Es=[o]:ys=o,r=su(r,"onChange"),0<r.length&&(a=new So("onChange","change",null,a,o),t.push({event:a,listeners:r}))}var Aa=null,Na=null;function Fb(t){z_(t,0)}function To(t){var r=ii(t);if($p(r))return t}function hm(t,r){if(t==="change")return r}var pm=!1;if(Qt){var Gc;if(Qt){var Yc="oninput"in document;if(!Yc){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),Yc=typeof mm.oninput=="function"}Gc=Yc}else Gc=!1;pm=Gc&&(!document.documentMode||9<document.documentMode)}function gm(){Aa&&(Aa.detachEvent("onpropertychange",_m),Na=Aa=null)}function _m(t){if(t.propertyName==="value"&&To(Na)){var r=[];dm(r,Na,t,Uc(t)),em(Fb,r)}}function qb(t,r,a){t==="focusin"?(gm(),Aa=r,Na=a,Aa.attachEvent("onpropertychange",_m)):t==="focusout"&&gm()}function Gb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return To(Na)}function Yb(t,r){if(t==="click")return To(r)}function $b(t,r){if(t==="input"||t==="change")return To(r)}function Kb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var sn=typeof Object.is=="function"?Object.is:Kb;function Oa(t,r){if(sn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!va.call(r,c)||!sn(t[c],r[c]))return!1}return!0}function vm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ym(t,r){var a=vm(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=r&&o>=r)return{node:a,offset:r-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vm(a)}}function Em(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Em(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Sm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=go(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=go(t.document)}return r}function $c(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Wb(t,r){var a=Sm(r);r=t.focusedElem;var o=t.selectionRange;if(a!==r&&r&&r.ownerDocument&&Em(r.ownerDocument.documentElement,r)){if(o!==null&&$c(r)){if(t=o.start,a=o.end,a===void 0&&(a=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(a,r.value.length);else if(a=(t=r.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var c=r.textContent.length,d=Math.min(o.start,c);o=o.end===void 0?d:Math.min(o.end,c),!a.extend&&d>o&&(c=o,o=d,d=c),c=ym(r,d);var g=ym(r,o);c&&g&&(a.rangeCount!==1||a.anchorNode!==c.node||a.anchorOffset!==c.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),a.removeAllRanges(),d>o?(a.addRange(t),a.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),a.addRange(t)))}}for(t=[],a=r;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)a=t[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Qb=Qt&&"documentMode"in document&&11>=document.documentMode,bs=null,Kc=null,Ia=null,Wc=!1;function bm(t,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wc||bs==null||bs!==go(o)||(o=bs,"selectionStart"in o&&$c(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ia&&Oa(Ia,o)||(Ia=o,o=su(Kc,"onSelect"),0<o.length&&(r=new So("onSelect","select",null,r,a),t.push({event:r,listeners:o}),r.target=bs)))}function Dr(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ts={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},Qc={},Tm={};Qt&&(Tm=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Mr(t){if(Qc[t])return Qc[t];if(!Ts[t])return t;var r=Ts[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Tm)return Qc[t]=r[a];return t}var wm=Mr("animationend"),Cm=Mr("animationiteration"),Rm=Mr("animationstart"),Xb=Mr("transitionrun"),Zb=Mr("transitionstart"),Jb=Mr("transitioncancel"),Am=Mr("transitionend"),Nm=new Map,Om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Mn(t,r){Nm.set(t,r),xe(r,[t])}var vn=[],ws=0,Xc=0;function wo(){for(var t=ws,r=Xc=ws=0;r<t;){var a=vn[r];vn[r++]=null;var o=vn[r];vn[r++]=null;var c=vn[r];vn[r++]=null;var d=vn[r];if(vn[r++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}d!==0&&Im(a,c,d)}}function Co(t,r,a,o){vn[ws++]=t,vn[ws++]=r,vn[ws++]=a,vn[ws++]=o,Xc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Zc(t,r,a,o){return Co(t,r,a,o),Ro(t)}function zi(t,r){return Co(t,null,null,r),Ro(t)}function Im(t,r,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var c=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;c&&r!==null&&t.tag===3&&(d=t.stateNode,c=31-Bt(a),d=d.hiddenUpdates,t=d[c],t===null?d[c]=[r]:t.push(r),r.lane=a|536870912)}function Ro(t){if(50<tl)throw tl=0,sd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Cs={},Dm=new WeakMap;function yn(t,r){if(typeof t=="object"&&t!==null){var a=Dm.get(t);return a!==void 0?a:(r={value:t,source:r,stack:me(r)},Dm.set(t,r),r)}return{value:t,source:r,stack:me(r)}}var Rs=[],As=0,Ao=null,No=0,En=[],Sn=0,kr=null,ai=1,li="";function Lr(t,r){Rs[As++]=No,Rs[As++]=Ao,Ao=t,No=r}function Mm(t,r,a){En[Sn++]=ai,En[Sn++]=li,En[Sn++]=kr,kr=t;var o=ai;t=li;var c=32-Bt(o)-1;o&=~(1<<c),a+=1;var d=32-Bt(r)+c;if(30<d){var g=c-c%5;d=(o&(1<<g)-1).toString(32),o>>=g,c-=g,ai=1<<32-Bt(r)+c|a<<c|o,li=d+t}else ai=1<<d|a<<c|o,li=t}function Jc(t){t.return!==null&&(Lr(t,1),Mm(t,1,0))}function ef(t){for(;t===Ao;)Ao=Rs[--As],Rs[As]=null,No=Rs[--As],Rs[As]=null;for(;t===kr;)kr=En[--Sn],En[Sn]=null,li=En[--Sn],En[Sn]=null,ai=En[--Sn],En[Sn]=null}var Yt=null,xt=null,Be=!1,kn=null,qn=!1,tf=Error(s(519));function xr(t){var r=Error(s(418,""));throw ka(yn(r,t)),tf}function km(t){var r=t.stateNode,a=t.type,o=t.memoizedProps;switch(r[J]=t,r[_e]=o,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<il.length;a++)ke(il[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),Kp(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),mo(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Qp(r,o.value,o.defaultValue,o.children),mo(r)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||j_(r.textContent,a)?(o.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),o.onScroll!=null&&ke("scroll",r),o.onScrollEnd!=null&&ke("scrollend",r),o.onClick!=null&&(r.onclick=au),r=!0):r=!1,r||xr(t)}function Lm(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 3:case 27:qn=!0;return;case 5:case 13:qn=!1;return;default:Yt=Yt.return}}function Da(t){if(t!==Yt)return!1;if(!Be)return Lm(t),Be=!0,!1;var r=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||bd(t.type,t.memoizedProps)),a=!a),a&&(r=!0),r&&xt&&xr(t),Lm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){xt=xn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}xt=null}}else xt=Yt?xn(t.stateNode.nextSibling):null;return!0}function Ma(){xt=Yt=null,Be=!1}function ka(t){kn===null?kn=[t]:kn.push(t)}var La=Error(s(460)),xm=Error(s(474)),nf={then:function(){}};function Um(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Oo(){}function Pm(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Oo,Oo),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===La?Error(s(483)):t;default:if(typeof r.status=="string")r.then(Oo,Oo);else{if(t=Xe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var c=r;c.status="fulfilled",c.value=o}},function(o){if(r.status==="pending"){var c=r;c.status="rejected",c.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===La?Error(s(483)):t}throw xa=r,La}}var xa=null;function zm(){if(xa===null)throw Error(s(459));var t=xa;return xa=null,t}var Ns=null,Ua=0;function Io(t){var r=Ua;return Ua+=1,Ns===null&&(Ns=[]),Pm(Ns,t,r)}function Pa(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Do(t,r){throw r.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Hm(t){var r=t._init;return r(t._payload)}function Bm(t){function r(O,C){if(t){var D=O.deletions;D===null?(O.deletions=[C],O.flags|=16):D.push(C)}}function a(O,C){if(!t)return null;for(;C!==null;)r(O,C),C=C.sibling;return null}function o(O){for(var C=new Map;O!==null;)O.key!==null?C.set(O.key,O):C.set(O.index,O),O=O.sibling;return C}function c(O,C){return O=Qi(O,C),O.index=0,O.sibling=null,O}function d(O,C,D){return O.index=D,t?(D=O.alternate,D!==null?(D=D.index,D<C?(O.flags|=33554434,C):D):(O.flags|=33554434,C)):(O.flags|=1048576,C)}function g(O){return t&&O.alternate===null&&(O.flags|=33554434),O}function v(O,C,D,z){return C===null||C.tag!==6?(C=Xf(D,O.mode,z),C.return=O,C):(C=c(C,D),C.return=O,C)}function S(O,C,D,z){var ee=D.type;return ee===p?P(O,C,D.props.children,z,D.key):C!==null&&(C.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===q&&Hm(ee)===C.type)?(C=c(C,D.props),Pa(C,D),C.return=O,C):(C=Wo(D.type,D.key,D.props,null,O.mode,z),Pa(C,D),C.return=O,C)}function R(O,C,D,z){return C===null||C.tag!==4||C.stateNode.containerInfo!==D.containerInfo||C.stateNode.implementation!==D.implementation?(C=Zf(D,O.mode,z),C.return=O,C):(C=c(C,D.children||[]),C.return=O,C)}function P(O,C,D,z,ee){return C===null||C.tag!==7?(C=Gr(D,O.mode,z,ee),C.return=O,C):(C=c(C,D),C.return=O,C)}function V(O,C,D){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Xf(""+C,O.mode,D),C.return=O,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case f:return D=Wo(C.type,C.key,C.props,null,O.mode,D),Pa(D,C),D.return=O,D;case h:return C=Zf(C,O.mode,D),C.return=O,C;case q:var z=C._init;return C=z(C._payload),V(O,C,D)}if(ie(C)||te(C))return C=Gr(C,O.mode,D,null),C.return=O,C;if(typeof C.then=="function")return V(O,Io(C),D);if(C.$$typeof===b)return V(O,Yo(O,C),D);Do(O,C)}return null}function M(O,C,D,z){var ee=C!==null?C.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ee!==null?null:v(O,C,""+D,z);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case f:return D.key===ee?S(O,C,D,z):null;case h:return D.key===ee?R(O,C,D,z):null;case q:return ee=D._init,D=ee(D._payload),M(O,C,D,z)}if(ie(D)||te(D))return ee!==null?null:P(O,C,D,z,null);if(typeof D.then=="function")return M(O,C,Io(D),z);if(D.$$typeof===b)return M(O,C,Yo(O,D),z);Do(O,D)}return null}function x(O,C,D,z,ee){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return O=O.get(D)||null,v(C,O,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case f:return O=O.get(z.key===null?D:z.key)||null,S(C,O,z,ee);case h:return O=O.get(z.key===null?D:z.key)||null,R(C,O,z,ee);case q:var Ce=z._init;return z=Ce(z._payload),x(O,C,D,z,ee)}if(ie(z)||te(z))return O=O.get(D)||null,P(C,O,z,ee,null);if(typeof z.then=="function")return x(O,C,D,Io(z),ee);if(z.$$typeof===b)return x(O,C,D,Yo(C,z),ee);Do(C,z)}return null}function se(O,C,D,z){for(var ee=null,Ce=null,oe=C,pe=C=0,Rt=null;oe!==null&&pe<D.length;pe++){oe.index>pe?(Rt=oe,oe=null):Rt=oe.sibling;var Ve=M(O,oe,D[pe],z);if(Ve===null){oe===null&&(oe=Rt);break}t&&oe&&Ve.alternate===null&&r(O,oe),C=d(Ve,C,pe),Ce===null?ee=Ve:Ce.sibling=Ve,Ce=Ve,oe=Rt}if(pe===D.length)return a(O,oe),Be&&Lr(O,pe),ee;if(oe===null){for(;pe<D.length;pe++)oe=V(O,D[pe],z),oe!==null&&(C=d(oe,C,pe),Ce===null?ee=oe:Ce.sibling=oe,Ce=oe);return Be&&Lr(O,pe),ee}for(oe=o(oe);pe<D.length;pe++)Rt=x(oe,O,pe,D[pe],z),Rt!==null&&(t&&Rt.alternate!==null&&oe.delete(Rt.key===null?pe:Rt.key),C=d(Rt,C,pe),Ce===null?ee=Rt:Ce.sibling=Rt,Ce=Rt);return t&&oe.forEach(function(ir){return r(O,ir)}),Be&&Lr(O,pe),ee}function ye(O,C,D,z){if(D==null)throw Error(s(151));for(var ee=null,Ce=null,oe=C,pe=C=0,Rt=null,Ve=D.next();oe!==null&&!Ve.done;pe++,Ve=D.next()){oe.index>pe?(Rt=oe,oe=null):Rt=oe.sibling;var ir=M(O,oe,Ve.value,z);if(ir===null){oe===null&&(oe=Rt);break}t&&oe&&ir.alternate===null&&r(O,oe),C=d(ir,C,pe),Ce===null?ee=ir:Ce.sibling=ir,Ce=ir,oe=Rt}if(Ve.done)return a(O,oe),Be&&Lr(O,pe),ee;if(oe===null){for(;!Ve.done;pe++,Ve=D.next())Ve=V(O,Ve.value,z),Ve!==null&&(C=d(Ve,C,pe),Ce===null?ee=Ve:Ce.sibling=Ve,Ce=Ve);return Be&&Lr(O,pe),ee}for(oe=o(oe);!Ve.done;pe++,Ve=D.next())Ve=x(oe,O,pe,Ve.value,z),Ve!==null&&(t&&Ve.alternate!==null&&oe.delete(Ve.key===null?pe:Ve.key),C=d(Ve,C,pe),Ce===null?ee=Ve:Ce.sibling=Ve,Ce=Ve);return t&&oe.forEach(function(hw){return r(O,hw)}),Be&&Lr(O,pe),ee}function dt(O,C,D,z){if(typeof D=="object"&&D!==null&&D.type===p&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case f:e:{for(var ee=D.key;C!==null;){if(C.key===ee){if(ee=D.type,ee===p){if(C.tag===7){a(O,C.sibling),z=c(C,D.props.children),z.return=O,O=z;break e}}else if(C.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===q&&Hm(ee)===C.type){a(O,C.sibling),z=c(C,D.props),Pa(z,D),z.return=O,O=z;break e}a(O,C);break}else r(O,C);C=C.sibling}D.type===p?(z=Gr(D.props.children,O.mode,z,D.key),z.return=O,O=z):(z=Wo(D.type,D.key,D.props,null,O.mode,z),Pa(z,D),z.return=O,O=z)}return g(O);case h:e:{for(ee=D.key;C!==null;){if(C.key===ee)if(C.tag===4&&C.stateNode.containerInfo===D.containerInfo&&C.stateNode.implementation===D.implementation){a(O,C.sibling),z=c(C,D.children||[]),z.return=O,O=z;break e}else{a(O,C);break}else r(O,C);C=C.sibling}z=Zf(D,O.mode,z),z.return=O,O=z}return g(O);case q:return ee=D._init,D=ee(D._payload),dt(O,C,D,z)}if(ie(D))return se(O,C,D,z);if(te(D)){if(ee=te(D),typeof ee!="function")throw Error(s(150));return D=ee.call(D),ye(O,C,D,z)}if(typeof D.then=="function")return dt(O,C,Io(D),z);if(D.$$typeof===b)return dt(O,C,Yo(O,D),z);Do(O,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,C!==null&&C.tag===6?(a(O,C.sibling),z=c(C,D),z.return=O,O=z):(a(O,C),z=Xf(D,O.mode,z),z.return=O,O=z),g(O)):a(O,C)}return function(O,C,D,z){try{Ua=0;var ee=dt(O,C,D,z);return Ns=null,ee}catch(oe){if(oe===La)throw oe;var Ce=Cn(29,oe,null,O.mode);return Ce.lanes=z,Ce.return=O,Ce}finally{}}}var Ur=Bm(!0),Vm=Bm(!1),Os=He(null),Mo=He(0);function jm(t,r){t=vi,je(Mo,t),je(Os,r),vi=t|r.baseLanes}function rf(){je(Mo,vi),je(Os,Os.current)}function sf(){vi=Mo.current,De(Os),De(Mo)}var bn=He(null),Gn=null;function Hi(t){var r=t.alternate;je(yt,yt.current&1),je(bn,t),Gn===null&&(r===null||Os.current!==null||r.memoizedState!==null)&&(Gn=t)}function Fm(t){if(t.tag===22){if(je(yt,yt.current),je(bn,t),Gn===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Gn=t)}}else Bi()}function Bi(){je(yt,yt.current),je(bn,bn.current)}function oi(t){De(bn),Gn===t&&(Gn=null),De(yt)}var yt=He(0);function ko(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var eT=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},tT=i.unstable_scheduleCallback,nT=i.unstable_NormalPriority,Et={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new eT,data:new Map,refCount:0}}function za(t){t.refCount--,t.refCount===0&&tT(nT,function(){t.controller.abort()})}var Ha=null,lf=0,Is=0,Ds=null;function iT(t,r){if(Ha===null){var a=Ha=[];lf=0,Is=hd(),Ds={status:"pending",value:void 0,then:function(o){a.push(o)}}}return lf++,r.then(qm,qm),r}function qm(){if(--lf===0&&Ha!==null){Ds!==null&&(Ds.status="fulfilled");var t=Ha;Ha=null,Is=0,Ds=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function rT(t,r){var a=[],o={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var c=0;c<a.length;c++)(0,a[c])(r)},function(c){for(o.status="rejected",o.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),o}var Gm=G.S;G.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&iT(t,r),Gm!==null&&Gm(t,r)};var Pr=He(null);function of(){var t=Pr.current;return t!==null?t:Xe.pooledCache}function Lo(t,r){r===null?je(Pr,Pr.current):je(Pr,r.pool)}function Ym(){var t=of();return t===null?null:{parent:Et._currentValue,pool:t}}var Vi=0,we=null,Ye=null,gt=null,xo=!1,Ms=!1,zr=!1,Uo=0,Ba=0,ks=null,sT=0;function pt(){throw Error(s(321))}function uf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!sn(t[a],r[a]))return!1;return!0}function cf(t,r,a,o,c,d){return Vi=d,we=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=t===null||t.memoizedState===null?Hr:ji,zr=!1,d=a(o,c),zr=!1,Ms&&(d=Km(r,a,o,c)),$m(t),d}function $m(t){G.H=Yn;var r=Ye!==null&&Ye.next!==null;if(Vi=0,gt=Ye=we=null,xo=!1,Ba=0,ks=null,r)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&Go(t)&&(wt=!0))}function Km(t,r,a,o){we=t;var c=0;do{if(Ms&&(ks=null),Ba=0,Ms=!1,25<=c)throw Error(s(301));if(c+=1,gt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Br,d=r(a,o)}while(Ms);return d}function aT(){var t=G.H,r=t.useState()[0];return r=typeof r.then=="function"?Va(r):r,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(we.flags|=1024),r}function ff(){var t=Uo!==0;return Uo=0,t}function df(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function hf(t){if(xo){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}xo=!1}Vi=0,gt=Ye=we=null,Ms=!1,Ba=Uo=0,ks=null}function Zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?we.memoizedState=gt=t:gt=gt.next=t,gt}function _t(){if(Ye===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var r=gt===null?we.memoizedState:gt.next;if(r!==null)gt=r,Ye=t;else{if(t===null)throw we.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},gt===null?we.memoizedState=gt=t:gt=gt.next=t}return gt}var Po;Po=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Va(t){var r=Ba;return Ba+=1,ks===null&&(ks=[]),t=Pm(ks,t,r),r=we,(gt===null?r.memoizedState:gt.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?Hr:ji),t}function zo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Va(t);if(t.$$typeof===b)return Vt(t)}throw Error(s(438,String(t)))}function pf(t){var r=null,a=we.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=we.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(c){return c.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Po(),we.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),o=0;o<t;o++)a[o]=de;return r.index++,a}function ui(t,r){return typeof r=="function"?r(t):r}function Ho(t){var r=_t();return mf(r,Ye,t)}function mf(t,r,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var c=t.baseQueue,d=o.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}r.baseQueue=c=d,o.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{r=c.next;var v=g=null,S=null,R=r,P=!1;do{var V=R.lane&-536870913;if(V!==R.lane?(Ue&V)===V:(Vi&V)===V){var M=R.revertLane;if(M===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),V===Is&&(P=!0);else if((Vi&M)===M){R=R.next,M===Is&&(P=!0);continue}else V={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(v=S=V,g=d):S=S.next=V,we.lanes|=M,Xi|=M;V=R.action,zr&&a(d,V),d=R.hasEagerState?R.eagerState:a(d,V)}else M={lane:V,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(v=S=M,g=d):S=S.next=M,we.lanes|=V,Xi|=V;R=R.next}while(R!==null&&R!==r);if(S===null?g=d:S.next=v,!sn(d,t.memoizedState)&&(wt=!0,P&&(a=Ds,a!==null)))throw a;t.memoizedState=d,t.baseState=g,t.baseQueue=S,o.lastRenderedState=d}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function gf(t){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,c=a.pending,d=r.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do d=t(d,g.action),g=g.next;while(g!==c);sn(d,r.memoizedState)||(wt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,o]}function Wm(t,r,a){var o=we,c=_t(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var g=!sn((Ye||c).memoizedState,a);if(g&&(c.memoizedState=a,wt=!0),c=c.queue,yf(Zm.bind(null,o,c,t),[t]),c.getSnapshot!==r||g||gt!==null&&gt.memoizedState.tag&1){if(o.flags|=2048,Ls(9,Xm.bind(null,o,c,a,r),{destroy:void 0},null),Xe===null)throw Error(s(349));d||(Vi&60)!==0||Qm(o,r,a)}return a}function Qm(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=we.updateQueue,r===null?(r=Po(),we.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Xm(t,r,a,o){r.value=a,r.getSnapshot=o,Jm(r)&&eg(t)}function Zm(t,r,a){return a(function(){Jm(r)&&eg(t)})}function Jm(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!sn(t,a)}catch{return!0}}function eg(t){var r=zi(t,2);r!==null&&$t(r,t,2)}function _f(t){var r=Zt();if(typeof t=="function"){var a=t;if(t=a(),zr){rn(!0);try{a()}finally{rn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:t},r}function tg(t,r,a,o){return t.baseState=a,mf(t,Ye,typeof o=="function"?o:ui)}function lT(t,r,a,o,c){if(jo(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};G.T!==null?a(!0):d.isTransition=!1,o(d),a=r.pending,a===null?(d.next=r.pending=d,ng(r,d)):(d.next=a.next,r.pending=a.next=d)}}function ng(t,r){var a=r.action,o=r.payload,c=t.state;if(r.isTransition){var d=G.T,g={};G.T=g;try{var v=a(c,o),S=G.S;S!==null&&S(g,v),ig(t,r,v)}catch(R){vf(t,r,R)}finally{G.T=d}}else try{d=a(c,o),ig(t,r,d)}catch(R){vf(t,r,R)}}function ig(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){rg(t,r,o)},function(o){return vf(t,r,o)}):rg(t,r,a)}function rg(t,r,a){r.status="fulfilled",r.value=a,sg(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,ng(t,a)))}function vf(t,r,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,sg(r),r=r.next;while(r!==o)}t.action=null}function sg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function ag(t,r){return r}function lg(t,r){if(Be){var a=Xe.formState;if(a!==null){e:{var o=we;if(Be){if(xt){t:{for(var c=xt,d=qn;c.nodeType!==8;){if(!d){c=null;break t}if(c=xn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){xt=xn(c.nextSibling),o=c.data==="F!";break e}}xr(o)}o=!1}o&&(r=a[0])}}return a=Zt(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:r},a.queue=o,a=Cg.bind(null,we,o),o.dispatch=a,o=_f(!1),d=wf.bind(null,we,!1,o.queue),o=Zt(),c={state:r,dispatch:null,action:t,pending:null},o.queue=c,a=lT.bind(null,we,c,d,a),c.dispatch=a,o.memoizedState=t,[r,a,!1]}function og(t){var r=_t();return ug(r,Ye,t)}function ug(t,r,a){r=mf(t,r,ag)[0],t=Ho(ui)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Va(r):r;var o=_t(),c=o.queue,d=c.dispatch;return a!==o.memoizedState&&(we.flags|=2048,Ls(9,oT.bind(null,c,a),{destroy:void 0},null)),[r,d,t]}function oT(t,r){t.action=r}function cg(t){var r=_t(),a=Ye;if(a!==null)return ug(r,a,t);_t(),r=r.memoizedState,a=_t();var o=a.queue.dispatch;return a.memoizedState=t,[r,o,!1]}function Ls(t,r,a,o){return t={tag:t,create:r,inst:a,deps:o,next:null},r=we.updateQueue,r===null&&(r=Po(),we.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,r.lastEffect=t),t}function fg(){return _t().memoizedState}function Bo(t,r,a,o){var c=Zt();we.flags|=t,c.memoizedState=Ls(1|r,a,{destroy:void 0},o===void 0?null:o)}function Vo(t,r,a,o){var c=_t();o=o===void 0?null:o;var d=c.memoizedState.inst;Ye!==null&&o!==null&&uf(o,Ye.memoizedState.deps)?c.memoizedState=Ls(r,a,d,o):(we.flags|=t,c.memoizedState=Ls(1|r,a,d,o))}function dg(t,r){Bo(8390656,8,t,r)}function yf(t,r){Vo(2048,8,t,r)}function hg(t,r){return Vo(4,2,t,r)}function pg(t,r){return Vo(4,4,t,r)}function mg(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function gg(t,r,a){a=a!=null?a.concat([t]):null,Vo(4,4,mg.bind(null,r,t),a)}function Ef(){}function _g(t,r){var a=_t();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&uf(r,o[1])?o[0]:(a.memoizedState=[t,r],t)}function vg(t,r){var a=_t();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&uf(r,o[1]))return o[0];if(o=t(),zr){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[o,r],o}function Sf(t,r,a){return a===void 0||(Vi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=E_(),we.lanes|=t,Xi|=t,a)}function yg(t,r,a,o){return sn(a,r)?a:Os.current!==null?(t=Sf(t,a,o),sn(t,r)||(wt=!0),t):(Vi&42)===0?(wt=!0,t.memoizedState=a):(t=E_(),we.lanes|=t,Xi|=t,r)}function Eg(t,r,a,o,c){var d=Q.p;Q.p=d!==0&&8>d?d:8;var g=G.T,v={};G.T=v,wf(t,!1,r,a);try{var S=c(),R=G.S;if(R!==null&&R(v,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=rT(S,o);ja(t,r,P,un(t))}else ja(t,r,o,un(t))}catch(V){ja(t,r,{then:function(){},status:"rejected",reason:V},un())}finally{Q.p=d,G.T=g}}function uT(){}function bf(t,r,a,o){if(t.tag!==5)throw Error(s(476));var c=Sg(t).queue;Eg(t,c,r,Se,a===null?uT:function(){return bg(t),a(o)})}function Sg(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:Se},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function bg(t){var r=Sg(t).next.queue;ja(t,r,{},un())}function Tf(){return Vt(ol)}function Tg(){return _t().memoizedState}function wg(){return _t().memoizedState}function cT(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=un();t=Gi(a);var o=Yi(r,t,a);o!==null&&($t(o,r,a),Ga(o,r,a)),r={cache:af()},t.payload=r;return}r=r.return}}function fT(t,r,a){var o=un();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},jo(t)?Rg(r,a):(a=Zc(t,r,a,o),a!==null&&($t(a,t,o),Ag(a,r,o)))}function Cg(t,r,a){var o=un();ja(t,r,a,o)}function ja(t,r,a,o){var c={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(jo(t))Rg(r,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var g=r.lastRenderedState,v=d(g,a);if(c.hasEagerState=!0,c.eagerState=v,sn(v,g))return Co(t,r,c,0),Xe===null&&wo(),!1}catch{}finally{}if(a=Zc(t,r,c,o),a!==null)return $t(a,t,o),Ag(a,r,o),!0}return!1}function wf(t,r,a,o){if(o={lane:2,revertLane:hd(),action:o,hasEagerState:!1,eagerState:null,next:null},jo(t)){if(r)throw Error(s(479))}else r=Zc(t,a,o,2),r!==null&&$t(r,t,2)}function jo(t){var r=t.alternate;return t===we||r!==null&&r===we}function Rg(t,r){Ms=xo=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Ag(t,r,a){if((a&4194176)!==0){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,fe(t,a)}}var Yn={readContext:Vt,use:zo,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt};Yn.useCacheRefresh=pt,Yn.useMemoCache=pt,Yn.useHostTransitionStatus=pt,Yn.useFormState=pt,Yn.useActionState=pt,Yn.useOptimistic=pt;var Hr={readContext:Vt,use:zo,useCallback:function(t,r){return Zt().memoizedState=[t,r===void 0?null:r],t},useContext:Vt,useEffect:dg,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Bo(4194308,4,mg.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Bo(4194308,4,t,r)},useInsertionEffect:function(t,r){Bo(4,2,t,r)},useMemo:function(t,r){var a=Zt();r=r===void 0?null:r;var o=t();if(zr){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[o,r],o},useReducer:function(t,r,a){var o=Zt();if(a!==void 0){var c=a(r);if(zr){rn(!0);try{a(r)}finally{rn(!1)}}}else c=r;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=fT.bind(null,we,t),[o.memoizedState,t]},useRef:function(t){var r=Zt();return t={current:t},r.memoizedState=t},useState:function(t){t=_f(t);var r=t.queue,a=Cg.bind(null,we,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Ef,useDeferredValue:function(t,r){var a=Zt();return Sf(a,t,r)},useTransition:function(){var t=_f(!1);return t=Eg.bind(null,we,t.queue,!0,!1),Zt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var o=we,c=Zt();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Xe===null)throw Error(s(349));(Ue&60)!==0||Qm(o,r,a)}c.memoizedState=a;var d={value:a,getSnapshot:r};return c.queue=d,dg(Zm.bind(null,o,d,t),[t]),o.flags|=2048,Ls(9,Xm.bind(null,o,d,a,r),{destroy:void 0},null),a},useId:function(){var t=Zt(),r=Xe.identifierPrefix;if(Be){var a=li,o=ai;a=(o&~(1<<32-Bt(o)-1)).toString(32)+a,r=":"+r+"R"+a,a=Uo++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=sT++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},useCacheRefresh:function(){return Zt().memoizedState=cT.bind(null,we)}};Hr.useMemoCache=pf,Hr.useHostTransitionStatus=Tf,Hr.useFormState=lg,Hr.useActionState=lg,Hr.useOptimistic=function(t){var r=Zt();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=wf.bind(null,we,!0,a),a.dispatch=r,[t,r]};var ji={readContext:Vt,use:zo,useCallback:_g,useContext:Vt,useEffect:yf,useImperativeHandle:gg,useInsertionEffect:hg,useLayoutEffect:pg,useMemo:vg,useReducer:Ho,useRef:fg,useState:function(){return Ho(ui)},useDebugValue:Ef,useDeferredValue:function(t,r){var a=_t();return yg(a,Ye.memoizedState,t,r)},useTransition:function(){var t=Ho(ui)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:Va(t),r]},useSyncExternalStore:Wm,useId:Tg};ji.useCacheRefresh=wg,ji.useMemoCache=pf,ji.useHostTransitionStatus=Tf,ji.useFormState=og,ji.useActionState=og,ji.useOptimistic=function(t,r){var a=_t();return tg(a,Ye,t,r)};var Br={readContext:Vt,use:zo,useCallback:_g,useContext:Vt,useEffect:yf,useImperativeHandle:gg,useInsertionEffect:hg,useLayoutEffect:pg,useMemo:vg,useReducer:gf,useRef:fg,useState:function(){return gf(ui)},useDebugValue:Ef,useDeferredValue:function(t,r){var a=_t();return Ye===null?Sf(a,t,r):yg(a,Ye.memoizedState,t,r)},useTransition:function(){var t=gf(ui)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:Va(t),r]},useSyncExternalStore:Wm,useId:Tg};Br.useCacheRefresh=wg,Br.useMemoCache=pf,Br.useHostTransitionStatus=Tf,Br.useFormState=cg,Br.useActionState=cg,Br.useOptimistic=function(t,r){var a=_t();return Ye!==null?tg(a,Ye,t,r):(a.baseState=t,[t,a.queue.dispatch])};function Cf(t,r,a,o){r=t.memoizedState,a=a(o,r),a=a==null?r:ae({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rf={isMounted:function(t){return(t=t._reactInternals)?ue(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var o=un(),c=Gi(o);c.payload=r,a!=null&&(c.callback=a),r=Yi(t,c,o),r!==null&&($t(r,t,o),Ga(r,t,o))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var o=un(),c=Gi(o);c.tag=1,c.payload=r,a!=null&&(c.callback=a),r=Yi(t,c,o),r!==null&&($t(r,t,o),Ga(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=un(),o=Gi(a);o.tag=2,r!=null&&(o.callback=r),r=Yi(t,o,a),r!==null&&($t(r,t,a),Ga(r,t,a))}};function Ng(t,r,a,o,c,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,g):r.prototype&&r.prototype.isPureReactComponent?!Oa(a,o)||!Oa(c,d):!0}function Og(t,r,a,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==t&&Rf.enqueueReplaceState(r,r.state,null)}function Vr(t,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(t=t.defaultProps){a===r&&(a=ae({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Fo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ig(t){Fo(t)}function Dg(t){console.error(t)}function Mg(t){Fo(t)}function qo(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function kg(t,r,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Af(t,r,a){return a=Gi(a),a.tag=3,a.payload={element:null},a.callback=function(){qo(t,r)},a}function Lg(t){return t=Gi(t),t.tag=3,t}function xg(t,r,a,o){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;t.payload=function(){return c(d)},t.callback=function(){kg(r,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){kg(r,a,o),typeof c!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function dT(t,r,a,o,c){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&qa(r,a,c,!0),a=bn.current,a!==null){switch(a.tag){case 13:return Gn===null?od():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=c,o===nf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),cd(t,o,c)),!1;case 22:return a.flags|=65536,o===nf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),cd(t,o,c)),!1}throw Error(s(435,a.tag))}return cd(t,o,c),od(),!1}if(Be)return r=bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=c,o!==tf&&(t=Error(s(422),{cause:o}),ka(yn(t,a)))):(o!==tf&&(r=Error(s(423),{cause:o}),ka(yn(r,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=yn(o,a),c=Af(t.stateNode,o,c),jf(t,c),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:o});if(d=yn(d,a),Ja===null?Ja=[d]:Ja.push(d),ft!==4&&(ft=2),r===null)return!0;o=yn(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Af(a.stateNode,o,t),jf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Zi===null||!Zi.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Lg(c),xg(c,t,a,o),jf(a,c),!1}a=a.return}while(a!==null);return!1}var Ug=Error(s(461)),wt=!1;function Ut(t,r,a,o){r.child=t===null?Vm(r,null,a,o):Ur(r,t.child,a,o)}function Pg(t,r,a,o,c){a=a.render;var d=r.ref;if("ref"in o){var g={};for(var v in o)v!=="ref"&&(g[v]=o[v])}else g=o;return Fr(r),o=cf(t,r,a,g,d,c),v=ff(),t!==null&&!wt?(df(t,r,c),ci(t,r,c)):(Be&&v&&Jc(r),r.flags|=1,Ut(t,r,o,c),r.child)}function zg(t,r,a,o,c){if(t===null){var d=a.type;return typeof d=="function"&&!Qf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Hg(t,r,d,o,c)):(t=Wo(a.type,null,o,r,r.mode,c),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Uf(t,c)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:Oa,a(g,o)&&t.ref===r.ref)return ci(t,r,c)}return r.flags|=1,t=Qi(d,o),t.ref=r.ref,t.return=r,r.child=t}function Hg(t,r,a,o,c){if(t!==null){var d=t.memoizedProps;if(Oa(d,o)&&t.ref===r.ref)if(wt=!1,r.pendingProps=o=d,Uf(t,c))(t.flags&131072)!==0&&(wt=!0);else return r.lanes=t.lanes,ci(t,r,c)}return Nf(t,r,a,o,c)}function Bg(t,r,a){var o=r.pendingProps,c=o.children,d=(r.stateNode._pendingVisibility&2)!==0,g=t!==null?t.memoizedState:null;if(Fa(t,r),o.mode==="hidden"||d){if((r.flags&128)!==0){if(o=g!==null?g.baseLanes|a:a,t!==null){for(c=r.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;r.childLanes=d&~o}else r.childLanes=0,r.child=null;return Vg(t,r,o,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lo(r,g!==null?g.cachePool:null),g!==null?jm(r,g):rf(),Fm(r);else return r.lanes=r.childLanes=536870912,Vg(t,r,g!==null?g.baseLanes|a:a,a)}else g!==null?(Lo(r,g.cachePool),jm(r,g),Bi(),r.memoizedState=null):(t!==null&&Lo(r,null),rf(),Bi());return Ut(t,r,c,a),r.child}function Vg(t,r,a,o){var c=of();return c=c===null?null:{parent:Et._currentValue,pool:c},r.memoizedState={baseLanes:a,cachePool:c},t!==null&&Lo(r,null),rf(),Fm(r),t!==null&&qa(t,r,o,!0),null}function Fa(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=2097664)}}function Nf(t,r,a,o,c){return Fr(r),a=cf(t,r,a,o,void 0,c),o=ff(),t!==null&&!wt?(df(t,r,c),ci(t,r,c)):(Be&&o&&Jc(r),r.flags|=1,Ut(t,r,a,c),r.child)}function jg(t,r,a,o,c,d){return Fr(r),r.updateQueue=null,a=Km(r,o,a,c),$m(t),o=ff(),t!==null&&!wt?(df(t,r,d),ci(t,r,d)):(Be&&o&&Jc(r),r.flags|=1,Ut(t,r,a,d),r.child)}function Fg(t,r,a,o,c){if(Fr(r),r.stateNode===null){var d=Cs,g=a.contextType;typeof g=="object"&&g!==null&&(d=Vt(g)),d=new a(o,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Rf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=o,d.state=r.memoizedState,d.refs={},Bf(r),g=a.contextType,d.context=typeof g=="object"&&g!==null?Vt(g):Cs,d.state=r.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Cf(r,a,g,o),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Rf.enqueueReplaceState(d,d.state,null),$a(r,o,d,c),Ya(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){d=r.stateNode;var v=r.memoizedProps,S=Vr(a,v);d.props=S;var R=d.context,P=a.contextType;g=Cs,typeof P=="object"&&P!==null&&(g=Vt(P));var V=a.getDerivedStateFromProps;P=typeof V=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=r.pendingProps!==v,P||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||R!==g)&&Og(r,d,o,g),qi=!1;var M=r.memoizedState;d.state=M,$a(r,o,d,c),Ya(),R=r.memoizedState,v||M!==R||qi?(typeof V=="function"&&(Cf(r,a,V,o),R=r.memoizedState),(S=qi||Ng(r,a,S,o,M,R,g))?(P||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=R),d.props=o,d.state=R,d.context=g,o=S):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{d=r.stateNode,Vf(t,r),g=r.memoizedProps,P=Vr(a,g),d.props=P,V=r.pendingProps,M=d.context,R=a.contextType,S=Cs,typeof R=="object"&&R!==null&&(S=Vt(R)),v=a.getDerivedStateFromProps,(R=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==V||M!==S)&&Og(r,d,o,S),qi=!1,M=r.memoizedState,d.state=M,$a(r,o,d,c),Ya();var x=r.memoizedState;g!==V||M!==x||qi||t!==null&&t.dependencies!==null&&Go(t.dependencies)?(typeof v=="function"&&(Cf(r,a,v,o),x=r.memoizedState),(P=qi||Ng(r,a,P,o,M,x,S)||t!==null&&t.dependencies!==null&&Go(t.dependencies))?(R||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,x,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,x,S)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=x),d.props=o,d.state=x,d.context=S,o=P):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(r.flags|=1024),o=!1)}return d=o,Fa(t,r),o=(r.flags&128)!==0,d||o?(d=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&o?(r.child=Ur(r,t.child,null,c),r.child=Ur(r,null,a,c)):Ut(t,r,a,c),r.memoizedState=d.state,t=r.child):t=ci(t,r,c),t}function qg(t,r,a,o){return Ma(),r.flags|=256,Ut(t,r,a,o),r.child}var Of={dehydrated:null,treeContext:null,retryLane:0};function If(t){return{baseLanes:t,cachePool:Ym()}}function Df(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Rn),t}function Gg(t,r,a){var o=r.pendingProps,c=!1,d=(r.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),g&&(c=!0,r.flags&=-129),g=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(c?Hi(r):Bi(),Be){var v=xt,S;if(S=v){e:{for(S=v,v=qn;S.nodeType!==8;){if(!v){v=null;break e}if(S=xn(S.nextSibling),S===null){v=null;break e}}v=S}v!==null?(r.memoizedState={dehydrated:v,treeContext:kr!==null?{id:ai,overflow:li}:null,retryLane:536870912},S=Cn(18,null,null,0),S.stateNode=v,S.return=r,r.child=S,Yt=r,xt=null,S=!0):S=!1}S||xr(r)}if(v=r.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return v.data==="$!"?r.lanes=16:r.lanes=536870912,null;oi(r)}return v=o.children,o=o.fallback,c?(Bi(),c=r.mode,v=kf({mode:"hidden",children:v},c),o=Gr(o,c,a,null),v.return=r,o.return=r,v.sibling=o,r.child=v,c=r.child,c.memoizedState=If(a),c.childLanes=Df(t,g,a),r.memoizedState=Of,o):(Hi(r),Mf(r,v))}if(S=t.memoizedState,S!==null&&(v=S.dehydrated,v!==null)){if(d)r.flags&256?(Hi(r),r.flags&=-257,r=Lf(t,r,a)):r.memoizedState!==null?(Bi(),r.child=t.child,r.flags|=128,r=null):(Bi(),c=o.fallback,v=r.mode,o=kf({mode:"visible",children:o.children},v),c=Gr(c,v,a,null),c.flags|=2,o.return=r,c.return=r,o.sibling=c,r.child=o,Ur(r,t.child,null,a),o=r.child,o.memoizedState=If(a),o.childLanes=Df(t,g,a),r.memoizedState=Of,r=c);else if(Hi(r),v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var R=g.dgst;g=R,o=Error(s(419)),o.stack="",o.digest=g,ka({value:o,source:null,stack:null}),r=Lf(t,r,a)}else if(wt||qa(t,r,a,!1),g=(a&t.childLanes)!==0,wt||g){if(g=Xe,g!==null){if(o=a&-a,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(g.suspendedLanes|a))!==0?0:o,o!==0&&o!==S.retryLane)throw S.retryLane=o,zi(t,o),$t(g,t,o),Ug}v.data==="$?"||od(),r=Lf(t,r,a)}else v.data==="$?"?(r.flags|=128,r.child=t.child,r=AT.bind(null,t),v._reactRetry=r,r=null):(t=S.treeContext,xt=xn(v.nextSibling),Yt=r,Be=!0,kn=null,qn=!1,t!==null&&(En[Sn++]=ai,En[Sn++]=li,En[Sn++]=kr,ai=t.id,li=t.overflow,kr=r),r=Mf(r,o.children),r.flags|=4096);return r}return c?(Bi(),c=o.fallback,v=r.mode,S=t.child,R=S.sibling,o=Qi(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&31457280,R!==null?c=Qi(R,c):(c=Gr(c,v,a,null),c.flags|=2),c.return=r,o.return=r,o.sibling=c,r.child=o,o=c,c=r.child,v=t.child.memoizedState,v===null?v=If(a):(S=v.cachePool,S!==null?(R=Et._currentValue,S=S.parent!==R?{parent:R,pool:R}:S):S=Ym(),v={baseLanes:v.baseLanes|a,cachePool:S}),c.memoizedState=v,c.childLanes=Df(t,g,a),r.memoizedState=Of,o):(Hi(r),a=t.child,t=a.sibling,a=Qi(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,t!==null&&(g=r.deletions,g===null?(r.deletions=[t],r.flags|=16):g.push(t)),r.child=a,r.memoizedState=null,a)}function Mf(t,r){return r=kf({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function kf(t,r){return __(t,r,0,null)}function Lf(t,r,a){return Ur(r,t.child,null,a),t=Mf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Yg(t,r,a){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),zf(t.return,r,a)}function xf(t,r,a,o,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=c)}function $g(t,r,a){var o=r.pendingProps,c=o.revealOrder,d=o.tail;if(Ut(t,r,o.children,a),o=yt.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yg(t,a,r);else if(t.tag===19)Yg(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(je(yt,o),c){case"forwards":for(a=r.child,c=null;a!==null;)t=a.alternate,t!==null&&ko(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=r.child,r.child=null):(c=a.sibling,a.sibling=null),xf(r,!1,c,a,d);break;case"backwards":for(a=null,c=r.child,r.child=null;c!==null;){if(t=c.alternate,t!==null&&ko(t)===null){r.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}xf(r,!0,a,null,d);break;case"together":xf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ci(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Xi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(qa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Qi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Qi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Uf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Go(t)))}function hT(t,r,a){switch(r.tag){case 3:hs(r,r.stateNode.containerInfo),Fi(r,Et,t.memoizedState.cache),Ma();break;case 27:case 5:_a(r);break;case 4:hs(r,r.stateNode.containerInfo);break;case 10:Fi(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(Hi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Gg(t,r,a):(Hi(r),t=ci(t,r,a),t!==null?t.sibling:null);Hi(r);break;case 19:var c=(t.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||(qa(t,r,a,!1),o=(a&r.childLanes)!==0),c){if(o)return $g(t,r,a);r.flags|=128}if(c=r.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),je(yt,yt.current),o)break;return null;case 22:case 23:return r.lanes=0,Bg(t,r,a);case 24:Fi(r,Et,t.memoizedState.cache)}return ci(t,r,a)}function Kg(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)wt=!0;else{if(!Uf(t,a)&&(r.flags&128)===0)return wt=!1,hT(t,r,a);wt=(t.flags&131072)!==0}else wt=!1,Be&&(r.flags&1048576)!==0&&Mm(r,No,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var o=r.elementType,c=o._init;if(o=c(o._payload),r.type=o,typeof o=="function")Qf(o)?(t=Vr(o,t),r.tag=1,r=Fg(null,r,o,t,a)):(r.tag=0,r=Nf(null,r,o,t,a));else{if(o!=null){if(c=o.$$typeof,c===N){r.tag=11,r=Pg(null,r,o,t,a);break e}else if(c===B){r.tag=14,r=zg(null,r,o,t,a);break e}}throw r=ce(o)||o,Error(s(306,r,""))}}return r;case 0:return Nf(t,r,r.type,r.pendingProps,a);case 1:return o=r.type,c=Vr(o,r.pendingProps),Fg(t,r,o,c,a);case 3:e:{if(hs(r,r.stateNode.containerInfo),t===null)throw Error(s(387));var d=r.pendingProps;c=r.memoizedState,o=c.element,Vf(t,r),$a(r,d,null,a);var g=r.memoizedState;if(d=g.cache,Fi(r,Et,d),d!==c.cache&&Hf(r,[Et],a,!0),Ya(),d=g.element,c.isDehydrated)if(c={element:d,isDehydrated:!1,cache:g.cache},r.updateQueue.baseState=c,r.memoizedState=c,r.flags&256){r=qg(t,r,d,a);break e}else if(d!==o){o=yn(Error(s(424)),r),ka(o),r=qg(t,r,d,a);break e}else for(xt=xn(r.stateNode.containerInfo.firstChild),Yt=r,Be=!0,kn=null,qn=!0,a=Vm(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ma(),d===o){r=ci(t,r,a);break e}Ut(t,r,d,a)}r=r.child}return r;case 26:return Fa(t,r),t===null?(a=X_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,o=lu(Ht.current).createElement(a),o[J]=r,o[_e]=t,Pt(o,a,t),Qe(o),r.stateNode=o):r.memoizedState=X_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return _a(r),t===null&&Be&&(o=r.stateNode=K_(r.type,r.pendingProps,Ht.current),Yt=r,qn=!0,xt=xn(o.firstChild)),o=r.pendingProps.children,t!==null||Be?Ut(t,r,o,a):r.child=Ur(r,null,o,a),Fa(t,r),r.child;case 5:return t===null&&Be&&((c=o=xt)&&(o=FT(o,r.type,r.pendingProps,qn),o!==null?(r.stateNode=o,Yt=r,xt=xn(o.firstChild),qn=!1,c=!0):c=!1),c||xr(r)),_a(r),c=r.type,d=r.pendingProps,g=t!==null?t.memoizedProps:null,o=d.children,bd(c,d)?o=null:g!==null&&bd(c,g)&&(r.flags|=32),r.memoizedState!==null&&(c=cf(t,r,aT,null,null,a),ol._currentValue=c),Fa(t,r),Ut(t,r,o,a),r.child;case 6:return t===null&&Be&&((t=a=xt)&&(a=qT(a,r.pendingProps,qn),a!==null?(r.stateNode=a,Yt=r,xt=null,t=!0):t=!1),t||xr(r)),null;case 13:return Gg(t,r,a);case 4:return hs(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=Ur(r,null,o,a):Ut(t,r,o,a),r.child;case 11:return Pg(t,r,r.type,r.pendingProps,a);case 7:return Ut(t,r,r.pendingProps,a),r.child;case 8:return Ut(t,r,r.pendingProps.children,a),r.child;case 12:return Ut(t,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,Fi(r,r.type,o.value),Ut(t,r,o.children,a),r.child;case 9:return c=r.type._context,o=r.pendingProps.children,Fr(r),c=Vt(c),o=o(c),r.flags|=1,Ut(t,r,o,a),r.child;case 14:return zg(t,r,r.type,r.pendingProps,a);case 15:return Hg(t,r,r.type,r.pendingProps,a);case 19:return $g(t,r,a);case 22:return Bg(t,r,a);case 24:return Fr(r),o=Vt(Et),t===null?(c=of(),c===null&&(c=Xe,d=af(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),r.memoizedState={parent:o,cache:c},Bf(r),Fi(r,Et,c)):((t.lanes&a)!==0&&(Vf(t,r),$a(r,null,null,a),Ya()),c=t.memoizedState,d=r.memoizedState,c.parent!==o?(c={parent:o,cache:o},r.memoizedState=c,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=c),Fi(r,Et,o)):(o=d.cache,Fi(r,Et,o),o!==c.cache&&Hf(r,[Et],a,!0))),Ut(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Pf=He(null),jr=null,fi=null;function Fi(t,r,a){je(Pf,r._currentValue),r._currentValue=a}function di(t){t._currentValue=Pf.current,De(Pf)}function zf(t,r,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===a)break;t=t.return}}function Hf(t,r,a,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var v=d;d=c;for(var S=0;S<r.length;S++)if(v.context===r[S]){d.lanes|=a,v=d.alternate,v!==null&&(v.lanes|=a),zf(d.return,a,t),o||(g=null);break e}d=v.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),zf(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function qa(t,r,a,o){t=null;for(var c=r,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var v=c.type;sn(c.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(c===ds.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ol):t=[ol])}c=c.return}t!==null&&Hf(r,t,a,o),r.flags|=262144}function Go(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){jr=t,fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Vt(t){return Wg(jr,t)}function Yo(t,r){return jr===null&&Fr(t),Wg(t,r)}function Wg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},fi===null){if(t===null)throw Error(s(308));fi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else fi=fi.next=r;return a}var qi=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(t,r,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(lt&2)!==0){var c=o.pending;return c===null?r.next=r:(r.next=c.next,c.next=r),o.pending=r,r=Ro(t),Im(t,null,a),r}return Co(t,o,r,a),Ro(t)}function Ga(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,fe(t,a)}}function jf(t,r){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?c=d=r:d=d.next=r}else c=d=r;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Ff=!1;function Ya(){if(Ff){var t=Ds;if(t!==null)throw t}}function $a(t,r,a,o){Ff=!1;var c=t.updateQueue;qi=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var S=v,R=S.next;S.next=null,g===null?d=R:g.next=R,g=S;var P=t.alternate;P!==null&&(P=P.updateQueue,v=P.lastBaseUpdate,v!==g&&(v===null?P.firstBaseUpdate=R:v.next=R,P.lastBaseUpdate=S))}if(d!==null){var V=c.baseState;g=0,P=R=S=null,v=d;do{var M=v.lane&-536870913,x=M!==v.lane;if(x?(Ue&M)===M:(o&M)===M){M!==0&&M===Is&&(Ff=!0),P!==null&&(P=P.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var se=t,ye=v;M=r;var dt=a;switch(ye.tag){case 1:if(se=ye.payload,typeof se=="function"){V=se.call(dt,V,M);break e}V=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ye.payload,M=typeof se=="function"?se.call(dt,V,M):se,M==null)break e;V=ae({},V,M);break e;case 2:qi=!0}}M=v.callback,M!==null&&(t.flags|=64,x&&(t.flags|=8192),x=c.callbacks,x===null?c.callbacks=[M]:x.push(M))}else x={lane:M,tag:v.tag,payload:v.payload,callback:v.callback,next:null},P===null?(R=P=x,S=V):P=P.next=x,g|=M;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;x=v,v=x.next,x.next=null,c.lastBaseUpdate=x,c.shared.pending=null}}while(!0);P===null&&(S=V),c.baseState=S,c.firstBaseUpdate=R,c.lastBaseUpdate=P,d===null&&(c.shared.lanes=0),Xi|=g,t.lanes=g,t.memoizedState=V}}function Qg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Xg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Qg(a[t],r)}function Ka(t,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&t)===t){o=void 0;var d=a.create,g=a.inst;o=d(),g.destroy=o}a=a.next}while(a!==c)}}catch(v){Ke(r,r.return,v)}}function $i(t,r,a){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&t)===t){var g=o.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,c=r;var S=a;try{v()}catch(R){Ke(c,S,R)}}}o=o.next}while(o!==d)}}catch(R){Ke(r,r.return,R)}}function Zg(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Xg(r,a)}catch(o){Ke(t,t.return,o)}}}function Jg(t,r,a){a.props=Vr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ke(t,r,o)}}function qr(t,r){try{var a=t.ref;if(a!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=o;break;default:c=o}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(d){Ke(t,r,d)}}function an(t,r){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(c){Ke(t,r,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ke(t,r,c)}else a.current=null}function e_(t){var r=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(c){Ke(t,t.return,c)}}function t_(t,r,a){try{var o=t.stateNode;zT(o,t.type,a,r),o[_e]=r}catch(c){Ke(t,t.return,c)}}function n_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gf(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=au));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Gf(t,r,a),t=t.sibling;t!==null;)Gf(t,r,a),t=t.sibling}function $o(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for($o(t,r,a),t=t.sibling;t!==null;)$o(t,r,a),t=t.sibling}var hi=!1,ct=!1,Yf=!1,i_=typeof WeakSet=="function"?WeakSet:Set,Ct=null,r_=!1;function pT(t,r){if(t=t.containerInfo,Ed=hu,t=Sm(t),$c(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,v=-1,S=-1,R=0,P=0,V=t,M=null;t:for(;;){for(var x;V!==a||c!==0&&V.nodeType!==3||(v=g+c),V!==d||o!==0&&V.nodeType!==3||(S=g+o),V.nodeType===3&&(g+=V.nodeValue.length),(x=V.firstChild)!==null;)M=V,V=x;for(;;){if(V===t)break t;if(M===a&&++R===c&&(v=g),M===d&&++P===o&&(S=g),(x=V.nextSibling)!==null)break;V=M,M=V.parentNode}V=x}a=v===-1||S===-1?null:{start:v,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sd={focusedElem:t,selectionRange:a},hu=!1,Ct=r;Ct!==null;)if(r=Ct,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ct=t;else for(;Ct!==null;){switch(r=Ct,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,c=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var se=Vr(a.type,c,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(se,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ke(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Cd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ct=t;break}Ct=r.return}return se=r_,r_=!1,se}function s_(t,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:mi(t,a),o&4&&Ka(5,a);break;case 1:if(mi(t,a),o&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Ke(a,a.return,v)}else{var c=Vr(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(c,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ke(a,a.return,v)}}o&64&&Zg(a),o&512&&qr(a,a.return);break;case 3:if(mi(t,a),o&64&&(o=a.updateQueue,o!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Xg(o,t)}catch(v){Ke(a,a.return,v)}}break;case 26:mi(t,a),o&512&&qr(a,a.return);break;case 27:case 5:mi(t,a),r===null&&o&4&&e_(a),o&512&&qr(a,a.return);break;case 12:mi(t,a);break;case 13:mi(t,a),o&4&&o_(t,a);break;case 22:if(c=a.memoizedState!==null||hi,!c){r=r!==null&&r.memoizedState!==null||ct;var d=hi,g=ct;hi=c,(ct=r)&&!g?Ki(t,a,(a.subtreeFlags&8772)!==0):mi(t,a),hi=d,ct=g}o&512&&(a.memoizedProps.mode==="manual"?qr(a,a.return):an(a,a.return));break;default:mi(t,a)}}function a_(t){var r=t.alternate;r!==null&&(t.alternate=null,a_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ni(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,ln=!1;function pi(t,r,a){for(a=a.child;a!==null;)l_(t,r,a),a=a.sibling}function l_(t,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Ui,a)}catch{}switch(a.tag){case 26:ct||an(a,r),pi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||an(a,r);var o=vt,c=ln;for(vt=a.stateNode,pi(t,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);ni(a),vt=o,ln=c;break;case 5:ct||an(a,r);case 6:c=vt;var d=ln;if(vt=null,pi(t,r,a),vt=c,ln=d,vt!==null)if(ln)try{t=vt,o=a.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(g){Ke(a,r,g)}else try{vt.removeChild(a.stateNode)}catch(g){Ke(a,r,g)}break;case 18:vt!==null&&(ln?(r=vt,a=a.stateNode,r.nodeType===8?wd(r.parentNode,a):r.nodeType===1&&wd(r,a),dl(r)):wd(vt,a.stateNode));break;case 4:o=vt,c=ln,vt=a.stateNode.containerInfo,ln=!0,pi(t,r,a),vt=o,ln=c;break;case 0:case 11:case 14:case 15:ct||$i(2,a,r),ct||$i(4,a,r),pi(t,r,a);break;case 1:ct||(an(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Jg(a,r,o)),pi(t,r,a);break;case 21:pi(t,r,a);break;case 22:ct||an(a,r),ct=(o=ct)||a.memoizedState!==null,pi(t,r,a),ct=o;break;default:pi(t,r,a)}}function o_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{dl(t)}catch(a){Ke(r,r.return,a)}}function mT(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new i_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new i_),r;default:throw Error(s(435,t.tag))}}function $f(t,r){var a=mT(t);r.forEach(function(o){var c=NT.bind(null,t,o);a.has(o)||(a.add(o),o.then(c,c))})}function Tn(t,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],d=t,g=r,v=g;e:for(;v!==null;){switch(v.tag){case 27:case 5:vt=v.stateNode,ln=!1;break e;case 3:vt=v.stateNode.containerInfo,ln=!0;break e;case 4:vt=v.stateNode.containerInfo,ln=!0;break e}v=v.return}if(vt===null)throw Error(s(160));l_(d,g,c),vt=null,ln=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)u_(r,t),r=r.sibling}var Ln=null;function u_(t,r){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(r,t),wn(t),o&4&&($i(3,t,t.return),Ka(3,t),$i(5,t,t.return));break;case 1:Tn(r,t),wn(t),o&512&&(ct||a===null||an(a,a.return)),o&64&&hi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var c=Ln;if(Tn(r,t),wn(t),o&512&&(ct||a===null||an(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":d=c.getElementsByTagName("title")[0],(!d||d[pn]||d[J]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(o),c.head.insertBefore(d,c.querySelector("head > title"))),Pt(d,o,a),d[J]=t,Qe(d),o=d;break e;case"link":var g=ev("link","href",c).get(o+(a.href||""));if(g){for(var v=0;v<g.length;v++)if(d=g[v],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(v,1);break t}}d=c.createElement(o),Pt(d,o,a),c.head.appendChild(d);break;case"meta":if(g=ev("meta","content",c).get(o+(a.content||""))){for(v=0;v<g.length;v++)if(d=g[v],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(v,1);break t}}d=c.createElement(o),Pt(d,o,a),c.head.appendChild(d);break;default:throw Error(s(468,o))}d[J]=t,Qe(d),o=d}t.stateNode=o}else tv(c,t.type,t.stateNode);else t.stateNode=J_(c,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?tv(c,t.type,t.stateNode):J_(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&t_(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){c=t.stateNode,d=t.memoizedProps;try{for(var S=c.firstChild;S;){var R=S.nextSibling,P=S.nodeName;S[pn]||P==="HEAD"||P==="BODY"||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=R}for(var V=t.type,M=c.attributes;M.length;)c.removeAttributeNode(M[0]);Pt(c,V,d),c[J]=t,c[_e]=d}catch(se){Ke(t,t.return,se)}}case 5:if(Tn(r,t),wn(t),o&512&&(ct||a===null||an(a,a.return)),t.flags&32){c=t.stateNode;try{vs(c,"")}catch(se){Ke(t,t.return,se)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,t_(t,c,a!==null?a.memoizedProps:c)),o&1024&&(Yf=!0);break;case 6:if(Tn(r,t),wn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(se){Ke(t,t.return,se)}}break;case 3:if(cu=null,c=Ln,Ln=ou(r.containerInfo),Tn(r,t),Ln=c,wn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{dl(r.containerInfo)}catch(se){Ke(t,t.return,se)}Yf&&(Yf=!1,c_(t));break;case 4:o=Ln,Ln=ou(t.stateNode.containerInfo),Tn(r,t),wn(t),Ln=o;break;case 12:Tn(r,t),wn(t);break;case 13:Tn(r,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nd=Wt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$f(t,o)));break;case 22:if(o&512&&(ct||a===null||an(a,a.return)),S=t.memoizedState!==null,R=a!==null&&a.memoizedState!==null,P=hi,V=ct,hi=P||S,ct=V||R,Tn(r,t),ct=V,hi=P,wn(t),r=t.stateNode,r._current=t,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,o&8192&&(r._visibility=S?r._visibility&-2:r._visibility|1,S&&(r=hi||ct,a===null||R||r||xs(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,r=t;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){R=a=r;try{if(c=R.stateNode,S)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=R.stateNode,v=R.memoizedProps.style;var x=v!=null&&v.hasOwnProperty("display")?v.display:null;g.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(se){Ke(R,R.return,se)}}}else if(r.tag===6){if(a===null){R=r;try{R.stateNode.nodeValue=S?"":R.memoizedProps}catch(se){Ke(R,R.return,se)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,$f(t,a))));break;case 19:Tn(r,t),wn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$f(t,o)));break;case 21:break;default:Tn(r,t),wn(t)}}function wn(t){var r=t.flags;if(r&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(n_(a)){var o=a;break e}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var c=o.stateNode,d=qf(t);$o(t,d,c);break;case 5:var g=o.stateNode;o.flags&32&&(vs(g,""),o.flags&=-33);var v=qf(t);$o(t,v,g);break;case 3:case 4:var S=o.stateNode.containerInfo,R=qf(t);Gf(t,R,S);break;default:throw Error(s(161))}}}catch(P){Ke(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function c_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;c_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function mi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)s_(t,r.alternate,r),r=r.sibling}function xs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:$i(4,r,r.return),xs(r);break;case 1:an(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Jg(r,r.return,a),xs(r);break;case 26:case 27:case 5:an(r,r.return),xs(r);break;case 22:an(r,r.return),r.memoizedState===null&&xs(r);break;default:xs(r)}t=t.sibling}}function Ki(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,c=t,d=r,g=d.flags;switch(d.tag){case 0:case 11:case 15:Ki(c,d,a),Ka(4,d);break;case 1:if(Ki(c,d,a),o=d,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(R){Ke(o,o.return,R)}if(o=d,c=o.updateQueue,c!==null){var v=o.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)Qg(S[c],v)}catch(R){Ke(o,o.return,R)}}a&&g&64&&Zg(d),qr(d,d.return);break;case 26:case 27:case 5:Ki(c,d,a),a&&o===null&&g&4&&e_(d),qr(d,d.return);break;case 12:Ki(c,d,a);break;case 13:Ki(c,d,a),a&&g&4&&o_(c,d);break;case 22:d.memoizedState===null&&Ki(c,d,a),qr(d,d.return);break;default:Ki(c,d,a)}r=r.sibling}}function Kf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&za(a))}function Wf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&za(t))}function Wi(t,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)f_(t,r,a,o),r=r.sibling}function f_(t,r,a,o){var c=r.flags;switch(r.tag){case 0:case 11:case 15:Wi(t,r,a,o),c&2048&&Ka(9,r);break;case 3:Wi(t,r,a,o),c&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&za(t)));break;case 12:if(c&2048){Wi(t,r,a,o),t=r.stateNode;try{var d=r.memoizedProps,g=d.id,v=d.onPostCommit;typeof v=="function"&&v(g,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Ke(r,r.return,S)}}else Wi(t,r,a,o);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?Wi(t,r,a,o):Wa(t,r):d._visibility&4?Wi(t,r,a,o):(d._visibility|=4,Us(t,r,a,o,(r.subtreeFlags&10256)!==0)),c&2048&&Kf(r.alternate,r);break;case 24:Wi(t,r,a,o),c&2048&&Wf(r.alternate,r);break;default:Wi(t,r,a,o)}}function Us(t,r,a,o,c){for(c=c&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,g=r,v=a,S=o,R=g.flags;switch(g.tag){case 0:case 11:case 15:Us(d,g,v,S,c),Ka(8,g);break;case 23:break;case 22:var P=g.stateNode;g.memoizedState!==null?P._visibility&4?Us(d,g,v,S,c):Wa(d,g):(P._visibility|=4,Us(d,g,v,S,c)),c&&R&2048&&Kf(g.alternate,g);break;case 24:Us(d,g,v,S,c),c&&R&2048&&Wf(g.alternate,g);break;default:Us(d,g,v,S,c)}r=r.sibling}}function Wa(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,o=r,c=o.flags;switch(o.tag){case 22:Wa(a,o),c&2048&&Kf(o.alternate,o);break;case 24:Wa(a,o),c&2048&&Wf(o.alternate,o);break;default:Wa(a,o)}r=r.sibling}}var Qa=8192;function Ps(t){if(t.subtreeFlags&Qa)for(t=t.child;t!==null;)d_(t),t=t.sibling}function d_(t){switch(t.tag){case 26:Ps(t),t.flags&Qa&&t.memoizedState!==null&&iw(Ln,t.memoizedState,t.memoizedProps);break;case 5:Ps(t);break;case 3:case 4:var r=Ln;Ln=ou(t.stateNode.containerInfo),Ps(t),Ln=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Qa,Qa=16777216,Ps(t),Qa=r):Ps(t));break;default:Ps(t)}}function h_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Xa(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];Ct=o,m_(o,t)}h_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p_(t),t=t.sibling}function p_(t){switch(t.tag){case 0:case 11:case 15:Xa(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Xa(t);break;case 12:Xa(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&4&&(t.return===null||t.return.tag!==13)?(r._visibility&=-5,Ko(t)):Xa(t);break;default:Xa(t)}}function Ko(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];Ct=o,m_(o,t)}h_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:$i(8,r,r.return),Ko(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Ko(r));break;default:Ko(r)}t=t.sibling}}function m_(t,r){for(;Ct!==null;){var a=Ct;switch(a.tag){case 0:case 11:case 15:$i(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:za(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ct=o;else e:for(a=t;Ct!==null;){o=Ct;var c=o.sibling,d=o.return;if(a_(o),o===a){Ct=null;break e}if(c!==null){c.return=d,Ct=c;break e}Ct=d}}}function gT(t,r,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,r,a,o){return new gT(t,r,a,o)}function Qf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,r){var a=t.alternate;return a===null?(a=Cn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function g_(t,r){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Wo(t,r,a,o,c,d){var g=0;if(o=t,typeof t=="function")Qf(t)&&(g=1);else if(typeof t=="string")g=tw(t,a,nn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Gr(a.children,c,d,r);case m:g=8,c|=24;break;case _:return t=Cn(12,a,r,c|2),t.elementType=_,t.lanes=d,t;case H:return t=Cn(13,a,r,c),t.elementType=H,t.lanes=d,t;case U:return t=Cn(19,a,r,c),t.elementType=U,t.lanes=d,t;case $:return __(a,c,d,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y:case b:g=10;break e;case E:g=9;break e;case N:g=11;break e;case B:g=14;break e;case q:g=16,o=null;break e}g=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return r=Cn(g,a,r,c),r.elementType=t,r.type=o,r.lanes=d,r}function Gr(t,r,a,o){return t=Cn(7,t,o,r),t.lanes=a,t}function __(t,r,a,o){t=Cn(22,t,o,r),t.elementType=$,t.lanes=a;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=c._current;if(d===null)throw Error(s(456));if((c._pendingVisibility&2)===0){var g=zi(d,2);g!==null&&(c._pendingVisibility|=2,$t(g,d,2))}},attach:function(){var d=c._current;if(d===null)throw Error(s(456));if((c._pendingVisibility&2)!==0){var g=zi(d,2);g!==null&&(c._pendingVisibility&=-3,$t(g,d,2))}}};return t.stateNode=c,t}function Xf(t,r,a){return t=Cn(6,t,null,r),t.lanes=a,t}function Zf(t,r,a){return r=Cn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function gi(t){t.flags|=4}function v_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!nv(r)){if(r=bn.current,r!==null&&((Ue&4194176)===Ue?Gn!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==Gn))throw xa=nf,xm;t.flags|=8192}}function Qo(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?I():536870912,t.lanes|=r,Hs|=r)}function Za(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(r)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&31457280,o|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=a,r}function _T(t,r,a){var o=r.pendingProps;switch(ef(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),di(Et),ei(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Da(r)?gi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,kn!==null&&(ad(kn),kn=null))),at(r),null;case 26:return a=r.memoizedState,t===null?(gi(r),a!==null?(at(r),v_(r,a)):(at(r),r.flags&=-16777217)):a?a!==t.memoizedState?(gi(r),at(r),v_(r,a)):(at(r),r.flags&=-16777217):(t.memoizedProps!==o&&gi(r),at(r),r.flags&=-16777217),null;case 27:ps(r),a=Ht.current;var c=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&gi(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return at(r),null}t=nn.current,Da(r)?km(r):(t=K_(c,o,a),r.stateNode=t,gi(r))}return at(r),null;case 5:if(ps(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&gi(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(t=nn.current,Da(r))km(r);else{switch(c=lu(Ht.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?c.createElement(a,{is:o.is}):c.createElement(a)}}t[J]=r,t[_e]=o;e:for(c=r.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===r)break e;for(;c.sibling===null;){if(c.return===null||c.return===r)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r.stateNode=t;e:switch(Pt(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&gi(r)}}return at(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&gi(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ht.current,Da(r)){if(t=r.stateNode,a=r.memoizedProps,o=null,c=Yt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[J]=r,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||j_(t.nodeValue,a)),t||xr(r)}else t=lu(t).createTextNode(o),t[J]=r,r.stateNode=t}return at(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Da(r),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=r.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[J]=r}else Ma(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),c=!1}else kn!==null&&(ad(kn),kn=null),c=!0;if(!c)return r.flags&256?(oi(r),r):(oi(r),null)}if(oi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=r.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Qo(r,r.updateQueue),at(r),null;case 4:return ei(),t===null&&_d(r.stateNode.containerInfo),at(r),null;case 10:return di(r.type),at(r),null;case 19:if(De(yt),c=r.memoizedState,c===null)return at(r),null;if(o=(r.flags&128)!==0,d=c.rendering,d===null)if(o)Za(c,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=ko(t),d!==null){for(r.flags|=128,Za(c,!1),t=d.updateQueue,r.updateQueue=t,Qo(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)g_(a,t),a=a.sibling;return je(yt,yt.current&1|2),r.child}t=t.sibling}c.tail!==null&&Wt()>Xo&&(r.flags|=128,o=!0,Za(c,!1),r.lanes=4194304)}else{if(!o)if(t=ko(d),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,Qo(r,t),Za(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Be)return at(r),null}else 2*Wt()-c.renderingStartTime>Xo&&a!==536870912&&(r.flags|=128,o=!0,Za(c,!1),r.lanes=4194304);c.isBackwards?(d.sibling=r.child,r.child=d):(t=c.last,t!==null?t.sibling=d:r.child=d,c.last=d)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=Wt(),r.sibling=null,t=yt.current,je(yt,o?t&1|2:t&1),r):(at(r),null);case 22:case 23:return oi(r),sf(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&Qo(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),t!==null&&De(Pr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),di(Et),at(r),null;case 25:return null}throw Error(s(156,r.tag))}function vT(t,r){switch(ef(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return di(Et),ei(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ps(r),null;case 13:if(oi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ma()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return De(yt),null;case 4:return ei(),null;case 10:return di(r.type),null;case 22:case 23:return oi(r),sf(),t!==null&&De(Pr),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return di(Et),null;case 25:return null;default:return null}}function y_(t,r){switch(ef(r),r.tag){case 3:di(Et),ei();break;case 26:case 27:case 5:ps(r);break;case 4:ei();break;case 13:oi(r);break;case 19:De(yt);break;case 10:di(r.type);break;case 22:case 23:oi(r),sf(),t!==null&&De(Pr);break;case 24:di(Et)}}var yT={getCacheForType:function(t){var r=Vt(Et),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},ET=typeof WeakMap=="function"?WeakMap:Map,lt=0,Xe=null,Ae=null,Ue=0,Ze=0,on=null,_i=!1,zs=!1,Jf=!1,vi=0,ft=0,Xi=0,Yr=0,ed=0,Rn=0,Hs=0,Ja=null,$n=null,td=!1,nd=0,Xo=1/0,Zo=null,Zi=null,Jo=!1,$r=null,el=0,id=0,rd=null,tl=0,sd=null;function un(){if((lt&2)!==0&&Ue!==0)return Ue&-Ue;if(G.T!==null){var t=Is;return t!==0?t:hd()}return le()}function E_(){Rn===0&&(Rn=(Ue&536870912)===0||Be?T():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function $t(t,r,a){(t===Xe&&Ze===2||t.cancelPendingCommit!==null)&&(Bs(t,0),yi(t,Ue,Rn,!1)),F(t,a),((lt&2)===0||t!==Xe)&&(t===Xe&&((lt&2)===0&&(Yr|=a),ft===4&&yi(t,Ue,Rn,!1)),Kn(t))}function S_(t,r,a){if((lt&6)!==0)throw Error(s(327));var o=!a&&(r&60)===0&&(r&t.expiredLanes)===0||Rr(t,r),c=o?TT(t,r):ud(t,r,!0),d=o;do{if(c===0){zs&&!o&&yi(t,r,0,!1);break}else if(c===6)yi(t,r,0,!_i);else{if(a=t.current.alternate,d&&!ST(a)){c=ud(t,r,!1),d=!1;continue}if(c===2){if(d=r,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){r=g;e:{var v=t;c=Ja;var S=v.current.memoizedState.isDehydrated;if(S&&(Bs(v,g).flags|=256),g=ud(v,g,!1),g!==2){if(Jf&&!S){v.errorRecoveryDisabledLanes|=d,Yr|=d,c=4;break e}d=$n,$n=c,d!==null&&ad(d)}c=g}if(d=!1,c!==2)continue}}if(c===1){Bs(t,0),yi(t,r,0,!0);break}e:{switch(o=t,c){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){yi(o,r,Rn,!_i);break e}break;case 2:$n=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=r,(r&62914560)===r&&(d=nd+300-Wt(),10<d)){if(yi(o,r,Rn,!_i),ti(o,0)!==0)break e;o.timeoutHandle=G_(b_.bind(null,o,a,$n,Zo,td,r,Rn,Yr,Hs,_i,2,-0,0),d);break e}b_(o,a,$n,Zo,td,r,Rn,Yr,Hs,_i,0,-0,0)}}break}while(!0);Kn(t)}function ad(t){$n===null?$n=t:$n.push.apply($n,t)}function b_(t,r,a,o,c,d,g,v,S,R,P,V,M){var x=r.subtreeFlags;if((x&8192||(x&16785408)===16785408)&&(ll={stylesheets:null,count:0,unsuspend:nw},d_(r),r=rw(),r!==null)){t.cancelPendingCommit=r(O_.bind(null,t,a,o,c,g,v,S,1,V,M)),yi(t,d,g,!R);return}O_(t,a,o,c,g,v,S,P,V,M)}function ST(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var c=a[o],d=c.getSnapshot;c=c.value;try{if(!sn(d(),c))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function yi(t,r,a,o){r&=~ed,r&=~Yr,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var c=r;0<c;){var d=31-Bt(c),g=1<<d;o[d]=-1,c&=~g}a!==0&&he(t,a,r)}function eu(){return(lt&6)===0?(nl(0),!1):!0}function ld(){if(Ae!==null){if(Ze===0)var t=Ae.return;else t=Ae,fi=jr=null,hf(t),Ns=null,Ua=0,t=Ae;for(;t!==null;)y_(t.alternate,t),t=t.return;Ae=null}}function Bs(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,BT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ld(),Xe=t,Ae=a=Qi(t.current,null),Ue=r,Ze=0,on=null,_i=!1,zs=Rr(t,r),Jf=!1,Hs=Rn=ed=Yr=Xi=ft=0,$n=Ja=null,td=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var c=31-Bt(o),d=1<<c;r|=t[c],o&=~d}return vi=r,wo(),a}function T_(t,r){we=null,G.H=Yn,r===La?(r=zm(),Ze=3):r===xm?(r=zm(),Ze=4):Ze=r===Ug?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,on=r,Ae===null&&(ft=1,qo(t,yn(r,t.current)))}function w_(){var t=G.H;return G.H=Yn,t===null?Yn:t}function C_(){var t=G.A;return G.A=yT,t}function od(){ft=4,_i||(Ue&4194176)!==Ue&&bn.current!==null||(zs=!0),(Xi&134217727)===0&&(Yr&134217727)===0||Xe===null||yi(Xe,Ue,Rn,!1)}function ud(t,r,a){var o=lt;lt|=2;var c=w_(),d=C_();(Xe!==t||Ue!==r)&&(Zo=null,Bs(t,r)),r=!1;var g=ft;e:do try{if(Ze!==0&&Ae!==null){var v=Ae,S=on;switch(Ze){case 8:ld(),g=6;break e;case 3:case 2:case 6:bn.current===null&&(r=!0);var R=Ze;if(Ze=0,on=null,Vs(t,v,S,R),a&&zs){g=0;break e}break;default:R=Ze,Ze=0,on=null,Vs(t,v,S,R)}}bT(),g=ft;break}catch(P){T_(t,P)}while(!0);return r&&t.shellSuspendCounter++,fi=jr=null,lt=o,G.H=c,G.A=d,Ae===null&&(Xe=null,Ue=0,wo()),g}function bT(){for(;Ae!==null;)R_(Ae)}function TT(t,r){var a=lt;lt|=2;var o=w_(),c=C_();Xe!==t||Ue!==r?(Zo=null,Xo=Wt()+500,Bs(t,r)):zs=Rr(t,r);e:do try{if(Ze!==0&&Ae!==null){r=Ae;var d=on;t:switch(Ze){case 1:Ze=0,on=null,Vs(t,r,d,1);break;case 2:if(Um(d)){Ze=0,on=null,A_(r);break}r=function(){Ze===2&&Xe===t&&(Ze=7),Kn(t)},d.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Um(d)?(Ze=0,on=null,A_(r)):(Ze=0,on=null,Vs(t,r,d,7));break;case 5:var g=null;switch(Ae.tag){case 26:g=Ae.memoizedState;case 5:case 27:var v=Ae;if(!g||nv(g)){Ze=0,on=null;var S=v.sibling;if(S!==null)Ae=S;else{var R=v.return;R!==null?(Ae=R,tu(R)):Ae=null}break t}}Ze=0,on=null,Vs(t,r,d,5);break;case 6:Ze=0,on=null,Vs(t,r,d,6);break;case 8:ld(),ft=6;break e;default:throw Error(s(462))}}wT();break}catch(P){T_(t,P)}while(!0);return fi=jr=null,G.H=o,G.A=c,lt=a,Ae!==null?0:(Xe=null,Ue=0,wo(),ft)}function wT(){for(;Ae!==null&&!wr();)R_(Ae)}function R_(t){var r=Kg(t.alternate,t,vi);t.memoizedProps=t.pendingProps,r===null?tu(t):Ae=r}function A_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=jg(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=jg(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:hf(r);default:y_(a,r),r=Ae=g_(r,vi),r=Kg(a,r,vi)}t.memoizedProps=t.pendingProps,r===null?tu(t):Ae=r}function Vs(t,r,a,o){fi=jr=null,hf(r),Ns=null,Ua=0;var c=r.return;try{if(dT(t,c,r,a,Ue)){ft=1,qo(t,yn(a,t.current)),Ae=null;return}}catch(d){if(c!==null)throw Ae=c,d;ft=1,qo(t,yn(a,t.current)),Ae=null;return}r.flags&32768?(Be||o===1?t=!0:zs||(Ue&536870912)!==0?t=!1:(_i=t=!0,(o===2||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),N_(r,t)):tu(r)}function tu(t){var r=t;do{if((r.flags&32768)!==0){N_(r,_i);return}t=r.return;var a=_T(r.alternate,r,vi);if(a!==null){Ae=a;return}if(r=r.sibling,r!==null){Ae=r;return}Ae=r=t}while(r!==null);ft===0&&(ft=5)}function N_(t,r){do{var a=vT(t.alternate,t);if(a!==null){a.flags&=32767,Ae=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ae=t;return}Ae=t=a}while(t!==null);ft=6,Ae=null}function O_(t,r,a,o,c,d,g,v,S,R){var P=G.T,V=Q.p;try{Q.p=2,G.T=null,CT(t,r,a,o,V,c,d,g,v,S,R)}finally{G.T=P,Q.p=V}}function CT(t,r,a,o,c,d,g,v){do js();while($r!==null);if((lt&6)!==0)throw Error(s(327));var S=t.finishedWork;if(o=t.finishedLanes,S===null)return null;if(t.finishedWork=null,t.finishedLanes=0,S===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var R=S.lanes|S.childLanes;if(R|=Xc,W(t,o,R,d,g,v),t===Xe&&(Ae=Xe=null,Ue=0),(S.subtreeFlags&10256)===0&&(S.flags&10256)===0||Jo||(Jo=!0,id=R,rd=a,OT(xi,function(){return js(),null})),a=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||a?(a=G.T,G.T=null,d=Q.p,Q.p=2,g=lt,lt|=4,pT(t,S),u_(S,t),Wb(Sd,t.containerInfo),hu=!!Ed,Sd=Ed=null,t.current=S,s_(t,S.alternate,S),lo(),lt=g,Q.p=d,G.T=a):t.current=S,Jo?(Jo=!1,$r=t,el=o):I_(t,R),R=t.pendingLanes,R===0&&(Zi=null),co(S.stateNode),Kn(t),r!==null)for(c=t.onRecoverableError,S=0;S<r.length;S++)R=r[S],c(R.value,{componentStack:R.stack});return(el&3)!==0&&js(),R=t.pendingLanes,(o&4194218)!==0&&(R&42)!==0?t===sd?tl++:(tl=0,sd=t):tl=0,nl(0),null}function I_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,za(r)))}function js(){if($r!==null){var t=$r,r=id;id=0;var a=re(el),o=G.T,c=Q.p;try{if(Q.p=32>a?32:a,G.T=null,$r===null)var d=!1;else{a=rd,rd=null;var g=$r,v=el;if($r=null,el=0,(lt&6)!==0)throw Error(s(331));var S=lt;if(lt|=4,p_(g.current),f_(g,g.current,v,a),lt=S,nl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Ui,g)}catch{}d=!0}return d}finally{Q.p=c,G.T=o,I_(t,r)}}return!1}function D_(t,r,a){r=yn(a,r),r=Af(t.stateNode,r,2),t=Yi(t,r,2),t!==null&&(F(t,2),Kn(t))}function Ke(t,r,a){if(t.tag===3)D_(t,t,a);else for(;r!==null;){if(r.tag===3){D_(r,t,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Zi===null||!Zi.has(o))){t=yn(a,t),a=Lg(2),o=Yi(r,a,2),o!==null&&(xg(a,o,r,t),F(o,2),Kn(o));break}}r=r.return}}function cd(t,r,a){var o=t.pingCache;if(o===null){o=t.pingCache=new ET;var c=new Set;o.set(r,c)}else c=o.get(r),c===void 0&&(c=new Set,o.set(r,c));c.has(a)||(Jf=!0,c.add(a),t=RT.bind(null,t,r,a),r.then(t,t))}function RT(t,r,a){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xe===t&&(Ue&a)===a&&(ft===4||ft===3&&(Ue&62914560)===Ue&&300>Wt()-nd?(lt&2)===0&&Bs(t,0):ed|=a,Hs===Ue&&(Hs=0)),Kn(t)}function M_(t,r){r===0&&(r=I()),t=zi(t,r),t!==null&&(F(t,r),Kn(t))}function AT(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),M_(t,a)}function NT(t,r){var a=0;switch(t.tag){case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(r),M_(t,a)}function OT(t,r){return ya(t,r)}var nu=null,Fs=null,fd=!1,iu=!1,dd=!1,Kr=0;function Kn(t){t!==Fs&&t.next===null&&(Fs===null?nu=Fs=t:Fs=Fs.next=t),iu=!0,fd||(fd=!0,DT(IT))}function nl(t,r){if(!dd&&iu){dd=!0;do for(var a=!1,o=nu;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var d=0;else{var g=o.suspendedLanes,v=o.pingedLanes;d=(1<<31-Bt(42|t)+1)-1,d&=c&~(g&~v),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,x_(o,d))}else d=Ue,d=ti(o,o===Xe?d:0),(d&3)===0||Rr(o,d)||(a=!0,x_(o,d));o=o.next}while(a);dd=!1}}function IT(){iu=fd=!1;var t=0;Kr!==0&&(HT()&&(t=Kr),Kr=0);for(var r=Wt(),a=null,o=nu;o!==null;){var c=o.next,d=k_(o,r);d===0?(o.next=null,a===null?nu=c:a.next=c,c===null&&(Fs=a)):(a=o,(t!==0||(d&3)!==0)&&(iu=!0)),o=c}nl(t)}function k_(t,r){for(var a=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Bt(d),v=1<<g,S=c[g];S===-1?((v&a)===0||(v&o)!==0)&&(c[g]=Dc(v,r)):S<=r&&(t.expiredLanes|=v),d&=~v}if(r=Xe,a=Ue,a=ti(t,t===r?a:0),o=t.callbackNode,a===0||t===r&&Ze===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&In(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Rr(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(o!==null&&In(o),re(a)){case 2:case 8:a=Ea;break;case 32:a=xi;break;case 268435456:a=Dn;break;default:a=xi}return o=L_.bind(null,t),a=ya(a,o),t.callbackPriority=r,t.callbackNode=a,r}return o!==null&&o!==null&&In(o),t.callbackPriority=2,t.callbackNode=null,2}function L_(t,r){var a=t.callbackNode;if(js()&&t.callbackNode!==a)return null;var o=Ue;return o=ti(t,t===Xe?o:0),o===0?null:(S_(t,o,r),k_(t,Wt()),t.callbackNode!=null&&t.callbackNode===a?L_.bind(null,t):null)}function x_(t,r){if(js())return null;S_(t,r,!0)}function DT(t){VT(function(){(lt&6)!==0?ya(dn,t):t()})}function hd(){return Kr===0&&(Kr=T()),Kr}function U_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_o(""+t)}function P_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function MT(t,r,a,o,c){if(r==="submit"&&a&&a.stateNode===c){var d=U_((c[_e]||null).action),g=o.submitter;g&&(r=(r=g[_e]||null)?U_(r.formAction):g.getAttribute("formAction"),r!==null&&(d=r,g=null));var v=new So("action","action",null,o,c);t.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Kr!==0){var S=g?P_(c,g):new FormData(c);bf(a,{pending:!0,data:S,method:c.method,action:d},null,S)}}else typeof d=="function"&&(v.preventDefault(),S=g?P_(c,g):new FormData(c),bf(a,{pending:!0,data:S,method:c.method,action:d},d,S))},currentTarget:c}]})}}for(var pd=0;pd<Om.length;pd++){var md=Om[pd],kT=md.toLowerCase(),LT=md[0].toUpperCase()+md.slice(1);Mn(kT,"on"+LT)}Mn(wm,"onAnimationEnd"),Mn(Cm,"onAnimationIteration"),Mn(Rm,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(Xb,"onTransitionRun"),Mn(Zb,"onTransitionStart"),Mn(Jb,"onTransitionCancel"),Mn(Am,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function z_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],c=o.event;o=o.listeners;e:{var d=void 0;if(r)for(var g=o.length-1;0<=g;g--){var v=o[g],S=v.instance,R=v.currentTarget;if(v=v.listener,S!==d&&c.isPropagationStopped())break e;d=v,c.currentTarget=R;try{d(c)}catch(P){Fo(P)}c.currentTarget=null,d=S}else for(g=0;g<o.length;g++){if(v=o[g],S=v.instance,R=v.currentTarget,v=v.listener,S!==d&&c.isPropagationStopped())break e;d=v,c.currentTarget=R;try{d(c)}catch(P){Fo(P)}c.currentTarget=null,d=S}}}}function ke(t,r){var a=r[mt];a===void 0&&(a=r[mt]=new Set);var o=t+"__bubble";a.has(o)||(H_(r,t,2,!1),a.add(o))}function gd(t,r,a){var o=0;r&&(o|=4),H_(a,t,o,r)}var ru="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[ru]){t[ru]=!0,Ar.forEach(function(a){a!=="selectionchange"&&(xT.has(a)||gd(a,!1,t),gd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ru]||(r[ru]=!0,gd("selectionchange",!1,r))}}function H_(t,r,a,o){switch(ov(r)){case 2:var c=lw;break;case 8:c=ow;break;default:c=Id}a=c.bind(null,r,a,t),c=void 0,!zc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(r,a,{capture:!0,passive:c}):t.addEventListener(r,a,!0):c!==void 0?t.addEventListener(r,a,{passive:c}):t.addEventListener(r,a,!1)}function vd(t,r,a,o,c){var d=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===c||v.nodeType===8&&v.parentNode===c)break;if(g===4)for(g=o.return;g!==null;){var S=g.tag;if((S===3||S===4)&&(S=g.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;g=g.return}for(;v!==null;){if(g=kt(v),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){o=d=g;continue e}v=v.parentNode}}o=o.return}em(function(){var R=d,P=Uc(a),V=[];e:{var M=Nm.get(t);if(M!==void 0){var x=So,se=t;switch(t){case"keypress":if(yo(a)===0)break e;case"keydown":case"keyup":x=Nb;break;case"focusin":se="focus",x=jc;break;case"focusout":se="blur",x=jc;break;case"beforeblur":case"afterblur":x=jc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=im;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=gb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Db;break;case wm:case Cm:case Rm:x=yb;break;case Am:x=kb;break;case"scroll":case"scrollend":x=pb;break;case"wheel":x=xb;break;case"copy":case"cut":case"paste":x=Sb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=sm;break;case"toggle":case"beforetoggle":x=Pb}var ye=(r&4)!==0,dt=!ye&&(t==="scroll"||t==="scrollend"),O=ye?M!==null?M+"Capture":null:M;ye=[];for(var C=R,D;C!==null;){var z=C;if(D=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||D===null||O===null||(z=ba(C,O),z!=null&&ye.push(rl(C,z,D))),dt)break;C=C.return}0<ye.length&&(M=new x(M,se,null,a,P),V.push({event:M,listeners:ye}))}}if((r&7)===0){e:{if(M=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",M&&a!==xc&&(se=a.relatedTarget||a.fromElement)&&(kt(se)||se[Ge]))break e;if((x||M)&&(M=P.window===P?P:(M=P.ownerDocument)?M.defaultView||M.parentWindow:window,x?(se=a.relatedTarget||a.toElement,x=R,se=se?kt(se):null,se!==null&&(dt=ue(se),ye=se.tag,se!==dt||ye!==5&&ye!==27&&ye!==6)&&(se=null)):(x=null,se=R),x!==se)){if(ye=im,z="onMouseLeave",O="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ye=sm,z="onPointerLeave",O="onPointerEnter",C="pointer"),dt=x==null?M:ii(x),D=se==null?M:ii(se),M=new ye(z,C+"leave",x,a,P),M.target=dt,M.relatedTarget=D,z=null,kt(P)===R&&(ye=new ye(O,C+"enter",se,a,P),ye.target=D,ye.relatedTarget=dt,z=ye),dt=z,x&&se)t:{for(ye=x,O=se,C=0,D=ye;D;D=qs(D))C++;for(D=0,z=O;z;z=qs(z))D++;for(;0<C-D;)ye=qs(ye),C--;for(;0<D-C;)O=qs(O),D--;for(;C--;){if(ye===O||O!==null&&ye===O.alternate)break t;ye=qs(ye),O=qs(O)}ye=null}else ye=null;x!==null&&B_(V,M,x,ye,!1),se!==null&&dt!==null&&B_(V,dt,se,ye,!0)}}e:{if(M=R?ii(R):window,x=M.nodeName&&M.nodeName.toLowerCase(),x==="select"||x==="input"&&M.type==="file")var ee=hm;else if(fm(M))if(pm)ee=$b;else{ee=Gb;var Ce=qb}else x=M.nodeName,!x||x.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?R&&Lc(R.elementType)&&(ee=hm):ee=Yb;if(ee&&(ee=ee(t,R))){dm(V,ee,a,P);break e}Ce&&Ce(t,M,R),t==="focusout"&&R&&M.type==="number"&&R.memoizedProps.value!=null&&kc(M,"number",M.value)}switch(Ce=R?ii(R):window,t){case"focusin":(fm(Ce)||Ce.contentEditable==="true")&&(bs=Ce,Kc=R,Ia=null);break;case"focusout":Ia=Kc=bs=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,bm(V,a,P);break;case"selectionchange":if(Qb)break;case"keydown":case"keyup":bm(V,a,P)}var oe;if(qc)e:{switch(t){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Ss?um(t,a)&&(pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(pe="onCompositionStart");pe&&(am&&a.locale!=="ko"&&(Ss||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Ss&&(oe=tm()):(Pi=P,Hc="value"in Pi?Pi.value:Pi.textContent,Ss=!0)),Ce=su(R,pe),0<Ce.length&&(pe=new rm(pe,t,null,a,P),V.push({event:pe,listeners:Ce}),oe?pe.data=oe:(oe=cm(a),oe!==null&&(pe.data=oe)))),(oe=Hb?Bb(t,a):Vb(t,a))&&(pe=su(R,"onBeforeInput"),0<pe.length&&(Ce=new rm("onBeforeInput","beforeinput",null,a,P),V.push({event:Ce,listeners:pe}),Ce.data=oe)),MT(V,t,R,a,P)}z_(V,r)})}function rl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function su(t,r){for(var a=r+"Capture",o=[];t!==null;){var c=t,d=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=ba(t,a),c!=null&&o.unshift(rl(t,c,d)),c=ba(t,r),c!=null&&o.push(rl(t,c,d))),t=t.return}return o}function qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function B_(t,r,a,o,c){for(var d=r._reactName,g=[];a!==null&&a!==o;){var v=a,S=v.alternate,R=v.stateNode;if(v=v.tag,S!==null&&S===o)break;v!==5&&v!==26&&v!==27||R===null||(S=R,c?(R=ba(a,d),R!=null&&g.unshift(rl(a,R,S))):c||(R=ba(a,d),R!=null&&g.push(rl(a,R,S)))),a=a.return}g.length!==0&&t.push({event:r,listeners:g})}var UT=/\r\n?/g,PT=/\u0000|\uFFFD/g;function V_(t){return(typeof t=="string"?t:""+t).replace(UT,`
`).replace(PT,"")}function j_(t,r){return r=V_(r),V_(t)===r}function au(){}function $e(t,r,a,o,c,d){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||vs(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&vs(t,""+o);break;case"className":po(t,"class",o);break;case"tabIndex":po(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":po(t,a,o);break;case"style":Zp(t,o,d);break;case"data":if(r!=="object"){po(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=_o(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&$e(t,r,"name",c.name,c,null),$e(t,r,"formEncType",c.formEncType,c,null),$e(t,r,"formMethod",c.formMethod,c,null),$e(t,r,"formTarget",c.formTarget,c,null)):($e(t,r,"encType",c.encType,c,null),$e(t,r,"method",c.method,c,null),$e(t,r,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=_o(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=au);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=_o(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":ke("beforetoggle",t),ke("toggle",t),gs(t,"popover",o);break;case"xlinkActuate":si(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":si(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":si(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":si(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":si(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":si(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":si(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":si(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":si(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":gs(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=db.get(a)||a,gs(t,a,o))}}function yd(t,r,a,o,c,d){switch(a){case"style":Zp(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?vs(t,o):(typeof o=="number"||typeof o=="bigint")&&vs(t,""+o);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=au);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),r=a.slice(2,c?a.length-7:void 0),d=t[_e]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,c),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,o,c);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):gs(t,a,o)}}}function Pt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var o=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,d,g,a,null)}}c&&$e(t,r,"srcSet",a.srcSet,a,null),o&&$e(t,r,"src",a.src,a,null);return;case"input":ke("invalid",t);var v=d=g=c=null,S=null,R=null;for(o in a)if(a.hasOwnProperty(o)){var P=a[o];if(P!=null)switch(o){case"name":c=P;break;case"type":g=P;break;case"checked":S=P;break;case"defaultChecked":R=P;break;case"value":d=P;break;case"defaultValue":v=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,r));break;default:$e(t,r,o,P,a,null)}}Kp(t,d,v,S,R,g,c,!1),mo(t);return;case"select":ke("invalid",t),o=g=d=null;for(c in a)if(a.hasOwnProperty(c)&&(v=a[c],v!=null))switch(c){case"value":d=v;break;case"defaultValue":g=v;break;case"multiple":o=v;default:$e(t,r,c,v,a,null)}r=d,a=g,t.multiple=!!o,r!=null?_s(t,!!o,r,!1):a!=null&&_s(t,!!o,a,!0);return;case"textarea":ke("invalid",t),d=c=o=null;for(g in a)if(a.hasOwnProperty(g)&&(v=a[g],v!=null))switch(g){case"value":o=v;break;case"defaultValue":c=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:$e(t,r,g,v,a,null)}Qp(t,o,c,d),mo(t);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(o=a[S],o!=null))switch(S){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$e(t,r,S,o,a,null)}return;case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(o=0;o<il.length;o++)ke(il[o],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,R,o,a,null)}return;default:if(Lc(r)){for(P in a)a.hasOwnProperty(P)&&(o=a[P],o!==void 0&&yd(t,r,P,o,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(o=a[v],o!=null&&$e(t,r,v,o,a,null))}function zT(t,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,v=null,S=null,R=null,P=null;for(x in a){var V=a[x];if(a.hasOwnProperty(x)&&V!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":S=V;default:o.hasOwnProperty(x)||$e(t,r,x,null,o,V)}}for(var M in o){var x=o[M];if(V=a[M],o.hasOwnProperty(M)&&(x!=null||V!=null))switch(M){case"type":d=x;break;case"name":c=x;break;case"checked":R=x;break;case"defaultChecked":P=x;break;case"value":g=x;break;case"defaultValue":v=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(137,r));break;default:x!==V&&$e(t,r,M,x,o,V)}}Mc(t,g,v,S,R,P,d,c);return;case"select":x=g=v=M=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":x=S;default:o.hasOwnProperty(d)||$e(t,r,d,null,o,S)}for(c in o)if(d=o[c],S=a[c],o.hasOwnProperty(c)&&(d!=null||S!=null))switch(c){case"value":M=d;break;case"defaultValue":v=d;break;case"multiple":g=d;default:d!==S&&$e(t,r,c,d,o,S)}r=v,a=g,o=x,M!=null?_s(t,!!a,M,!1):!!o!=!!a&&(r!=null?_s(t,!!a,r,!0):_s(t,!!a,a?[]:"",!1));return;case"textarea":x=M=null;for(v in a)if(c=a[v],a.hasOwnProperty(v)&&c!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:$e(t,r,v,null,o,c)}for(g in o)if(c=o[g],d=a[g],o.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":M=c;break;case"defaultValue":x=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==d&&$e(t,r,g,c,o,d)}Wp(t,M,x);return;case"option":for(var se in a)if(M=a[se],a.hasOwnProperty(se)&&M!=null&&!o.hasOwnProperty(se))switch(se){case"selected":t.selected=!1;break;default:$e(t,r,se,null,o,M)}for(S in o)if(M=o[S],x=a[S],o.hasOwnProperty(S)&&M!==x&&(M!=null||x!=null))switch(S){case"selected":t.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:$e(t,r,S,M,o,x)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)M=a[ye],a.hasOwnProperty(ye)&&M!=null&&!o.hasOwnProperty(ye)&&$e(t,r,ye,null,o,M);for(R in o)if(M=o[R],x=a[R],o.hasOwnProperty(R)&&M!==x&&(M!=null||x!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(137,r));break;default:$e(t,r,R,M,o,x)}return;default:if(Lc(r)){for(var dt in a)M=a[dt],a.hasOwnProperty(dt)&&M!==void 0&&!o.hasOwnProperty(dt)&&yd(t,r,dt,void 0,o,M);for(P in o)M=o[P],x=a[P],!o.hasOwnProperty(P)||M===x||M===void 0&&x===void 0||yd(t,r,P,M,o,x);return}}for(var O in a)M=a[O],a.hasOwnProperty(O)&&M!=null&&!o.hasOwnProperty(O)&&$e(t,r,O,null,o,M);for(V in o)M=o[V],x=a[V],!o.hasOwnProperty(V)||M===x||M==null&&x==null||$e(t,r,V,M,o,x)}var Ed=null,Sd=null;function lu(t){return t.nodeType===9?t:t.ownerDocument}function F_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function bd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Td=null;function HT(){var t=window.event;return t&&t.type==="popstate"?t===Td?!1:(Td=t,!0):(Td=null,!1)}var G_=typeof setTimeout=="function"?setTimeout:void 0,BT=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,VT=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(t){return Y_.resolve(null).then(t).catch(jT)}:G_;function jT(t){setTimeout(function(){throw t})}function wd(t,r){var a=r,o=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(o===0){t.removeChild(c),dl(r);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=c}while(a);dl(r)}function Cd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cd(a),ni(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function FT(t,r,a,o){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[pn])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function qT(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=xn(t.nextSibling),t===null))return null;return t}function xn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}function $_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function K_(t,r,a){switch(r=lu(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var An=new Map,W_=new Set;function ou(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ei=Q.d;Q.d={f:GT,r:YT,D:$T,C:KT,L:WT,m:QT,X:ZT,S:XT,M:JT};function GT(){var t=Ei.f(),r=eu();return t||r}function YT(t){var r=Lt(t);r!==null&&r.tag===5&&r.type==="form"?bg(r):Ei.r(t)}var Gs=typeof document>"u"?null:document;function Q_(t,r,a){var o=Gs;if(o&&typeof r=="string"&&r){var c=_n(r);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),W_.has(c)||(W_.add(c),t={rel:t,crossOrigin:a,href:r},o.querySelector(c)===null&&(r=o.createElement("link"),Pt(r,"link",t),Qe(r),o.head.appendChild(r)))}}function $T(t){Ei.D(t),Q_("dns-prefetch",t,null)}function KT(t,r){Ei.C(t,r),Q_("preconnect",t,r)}function WT(t,r,a){Ei.L(t,r,a);var o=Gs;if(o&&t&&r){var c='link[rel="preload"][as="'+_n(r)+'"]';r==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+_n(a.imageSizes)+'"]')):c+='[href="'+_n(t)+'"]';var d=c;switch(r){case"style":d=Ys(t);break;case"script":d=$s(t)}An.has(d)||(t=ae({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),An.set(d,t),o.querySelector(c)!==null||r==="style"&&o.querySelector(sl(d))||r==="script"&&o.querySelector(al(d))||(r=o.createElement("link"),Pt(r,"link",t),Qe(r),o.head.appendChild(r)))}}function QT(t,r){Ei.m(t,r);var a=Gs;if(a&&t){var o=r&&typeof r.as=="string"?r.as:"script",c='link[rel="modulepreload"][as="'+_n(o)+'"][href="'+_n(t)+'"]',d=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$s(t)}if(!An.has(d)&&(t=ae({rel:"modulepreload",href:t},r),An.set(d,t),a.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(al(d)))return}o=a.createElement("link"),Pt(o,"link",t),Qe(o),a.head.appendChild(o)}}}function XT(t,r,a){Ei.S(t,r,a);var o=Gs;if(o&&t){var c=mn(o).hoistableStyles,d=Ys(t);r=r||"default";var g=c.get(d);if(!g){var v={loading:0,preload:null};if(g=o.querySelector(sl(d)))v.loading=5;else{t=ae({rel:"stylesheet",href:t,"data-precedence":r},a),(a=An.get(d))&&Rd(t,a);var S=g=o.createElement("link");Qe(S),Pt(S,"link",t),S._p=new Promise(function(R,P){S.onload=R,S.onerror=P}),S.addEventListener("load",function(){v.loading|=1}),S.addEventListener("error",function(){v.loading|=2}),v.loading|=4,uu(g,r,o)}g={type:"stylesheet",instance:g,count:1,state:v},c.set(d,g)}}}function ZT(t,r){Ei.X(t,r);var a=Gs;if(a&&t){var o=mn(a).hoistableScripts,c=$s(t),d=o.get(c);d||(d=a.querySelector(al(c)),d||(t=ae({src:t,async:!0},r),(r=An.get(c))&&Ad(t,r),d=a.createElement("script"),Qe(d),Pt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function JT(t,r){Ei.M(t,r);var a=Gs;if(a&&t){var o=mn(a).hoistableScripts,c=$s(t),d=o.get(c);d||(d=a.querySelector(al(c)),d||(t=ae({src:t,async:!0,type:"module"},r),(r=An.get(c))&&Ad(t,r),d=a.createElement("script"),Qe(d),Pt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function X_(t,r,a,o){var c=(c=Ht.current)?ou(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ys(a.href),a=mn(c).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ys(a.href);var d=mn(c).hoistableStyles,g=d.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=c.querySelector(sl(t)))&&!d._p&&(g.instance=d,g.state.loading=5),An.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},An.set(t,a),d||ew(c,t,a,g.state))),r&&o===null)throw Error(s(528,""));return g}if(r&&o!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=$s(a),a=mn(c).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ys(t){return'href="'+_n(t)+'"'}function sl(t){return'link[rel="stylesheet"]['+t+"]"}function Z_(t){return ae({},t,{"data-precedence":t.precedence,precedence:null})}function ew(t,r,a,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),Pt(r,"link",a),Qe(r),t.head.appendChild(r))}function $s(t){return'[src="'+_n(t)+'"]'}function al(t){return"script[async]"+t}function J_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+_n(a.href)+'"]');if(o)return r.instance=o,Qe(o),o;var c=ae({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Qe(o),Pt(o,"style",c),uu(o,a.precedence,t),r.instance=o;case"stylesheet":c=Ys(a.href);var d=t.querySelector(sl(c));if(d)return r.state.loading|=4,r.instance=d,Qe(d),d;o=Z_(a),(c=An.get(c))&&Rd(o,c),d=(t.ownerDocument||t).createElement("link"),Qe(d);var g=d;return g._p=new Promise(function(v,S){g.onload=v,g.onerror=S}),Pt(d,"link",o),r.state.loading|=4,uu(d,a.precedence,t),r.instance=d;case"script":return d=$s(a.src),(c=t.querySelector(al(d)))?(r.instance=c,Qe(c),c):(o=a,(c=An.get(d))&&(o=ae({},a),Ad(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),Qe(c),Pt(c,"link",o),t.head.appendChild(c),r.instance=c);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,uu(o,a.precedence,t));return r.instance}function uu(t,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,d=c,g=0;g<o.length;g++){var v=o[g];if(v.dataset.precedence===r)d=v;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Rd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Ad(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var cu=null;function ev(t,r,a){if(cu===null){var o=new Map,c=cu=new Map;c.set(a,o)}else c=cu,o=c.get(a),o||(o=new Map,c.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var d=a[c];if(!(d[pn]||d[J]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(r)||"";g=t+g;var v=o.get(g);v?v.push(d):o.set(g,[d])}}return o}function tv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function tw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function nv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ll=null;function nw(){}function iw(t,r,a){if(ll===null)throw Error(s(475));var o=ll;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=Ys(a.href),d=t.querySelector(sl(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=fu.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=d,Qe(d);return}d=t.ownerDocument||t,a=Z_(a),(c=An.get(c))&&Rd(a,c),d=d.createElement("link"),Qe(d);var g=d;g._p=new Promise(function(v,S){g.onload=v,g.onerror=S}),Pt(d,"link",a),r.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=fu.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function rw(){if(ll===null)throw Error(s(475));var t=ll;return t.stylesheets&&t.count===0&&Nd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Nd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function fu(){if(this.count--,this.count===0){if(this.stylesheets)Nd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var du=null;function Nd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,du=new Map,r.forEach(sw,t),du=null,fu.call(t))}function sw(t,r){if(!(r.state.loading&4)){var a=du.get(t);if(a)var o=a.get(null);else{a=new Map,du.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}c=r.instance,g=c.getAttribute("data-precedence"),d=a.get(g)||o,d===o&&a.set(null,c),a.set(g,c),this.count++,o=fu.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),r.state.loading|=4}}var ol={$$typeof:b,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function aw(t,r,a,o,c,d,g,v){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function iv(t,r,a,o,c,d,g,v,S,R,P,V){return t=new aw(t,r,a,g,v,S,R,V),r=1,d===!0&&(r|=24),d=Cn(3,null,null,r),t.current=d,d.stateNode=t,r=af(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:r},Bf(d),t}function rv(t){return t?(t=Cs,t):Cs}function sv(t,r,a,o,c,d){c=rv(c),o.context===null?o.context=c:o.pendingContext=c,o=Gi(r),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Yi(t,o,r),a!==null&&($t(a,t,r),Ga(a,t,r))}function av(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Od(t,r){av(t,r),(t=t.alternate)&&av(t,r)}function lv(t){if(t.tag===13){var r=zi(t,67108864);r!==null&&$t(r,t,67108864),Od(t,67108864)}}var hu=!0;function lw(t,r,a,o){var c=G.T;G.T=null;var d=Q.p;try{Q.p=2,Id(t,r,a,o)}finally{Q.p=d,G.T=c}}function ow(t,r,a,o){var c=G.T;G.T=null;var d=Q.p;try{Q.p=8,Id(t,r,a,o)}finally{Q.p=d,G.T=c}}function Id(t,r,a,o){if(hu){var c=Dd(o);if(c===null)vd(t,r,o,pu,a),uv(t,o);else if(cw(c,t,r,a,o))o.stopPropagation();else if(uv(t,o),r&4&&-1<uw.indexOf(t)){for(;c!==null;){var d=Lt(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=hn(d.pendingLanes);if(g!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var S=1<<31-Bt(g);v.entanglements[1]|=S,g&=~S}Kn(d),(lt&6)===0&&(Xo=Wt()+500,nl(0))}}break;case 13:v=zi(d,2),v!==null&&$t(v,d,2),eu(),Od(d,2)}if(d=Dd(o),d===null&&vd(t,r,o,pu,a),d===c)break;c=d}c!==null&&o.stopPropagation()}else vd(t,r,o,null,a)}}function Dd(t){return t=Uc(t),Md(t)}var pu=null;function Md(t){if(pu=null,t=kt(t),t!==null){var r=ue(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=Ie(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return pu=t,null}function ov(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fn()){case dn:return 2;case Ea:return 8;case xi:case Oc:return 32;case Dn:return 268435456;default:return 32}default:return 32}}var kd=!1,Ji=null,er=null,tr=null,ul=new Map,cl=new Map,nr=[],uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uv(t,r){switch(t){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":ul.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(r.pointerId)}}function fl(t,r,a,o,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},r!==null&&(r=Lt(r),r!==null&&lv(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,c!==null&&r.indexOf(c)===-1&&r.push(c),t)}function cw(t,r,a,o,c){switch(r){case"focusin":return Ji=fl(Ji,t,r,a,o,c),!0;case"dragenter":return er=fl(er,t,r,a,o,c),!0;case"mouseover":return tr=fl(tr,t,r,a,o,c),!0;case"pointerover":var d=c.pointerId;return ul.set(d,fl(ul.get(d)||null,t,r,a,o,c)),!0;case"gotpointercapture":return d=c.pointerId,cl.set(d,fl(cl.get(d)||null,t,r,a,o,c)),!0}return!1}function cv(t){var r=kt(t.target);if(r!==null){var a=ue(r);if(a!==null){if(r=a.tag,r===13){if(r=Ie(a),r!==null){t.blockedOn=r,X(t.priority,function(){if(a.tag===13){var o=un(),c=zi(a,o);c!==null&&$t(c,a,o),Od(a,o)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Dd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);xc=o,a.target.dispatchEvent(o),xc=null}else return r=Lt(a),r!==null&&lv(r),t.blockedOn=a,!1;r.shift()}return!0}function fv(t,r,a){mu(t)&&a.delete(r)}function fw(){kd=!1,Ji!==null&&mu(Ji)&&(Ji=null),er!==null&&mu(er)&&(er=null),tr!==null&&mu(tr)&&(tr=null),ul.forEach(fv),cl.forEach(fv)}function gu(t,r){t.blockedOn===r&&(t.blockedOn=null,kd||(kd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,fw)))}var _u=null;function dv(t){_u!==t&&(_u=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){_u===t&&(_u=null);for(var r=0;r<t.length;r+=3){var a=t[r],o=t[r+1],c=t[r+2];if(typeof o!="function"){if(Md(o||a)===null)continue;break}var d=Lt(a);d!==null&&(t.splice(r,3),r-=3,bf(d,{pending:!0,data:c,method:a.method,action:o},o,c))}}))}function dl(t){function r(S){return gu(S,t)}Ji!==null&&gu(Ji,t),er!==null&&gu(er,t),tr!==null&&gu(tr,t),ul.forEach(r),cl.forEach(r);for(var a=0;a<nr.length;a++){var o=nr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<nr.length&&(a=nr[0],a.blockedOn===null);)cv(a),a.blockedOn===null&&nr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var c=a[o],d=a[o+1],g=c[_e]||null;if(typeof d=="function")g||dv(a);else if(g){var v=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[_e]||null)v=g.formAction;else if(Md(c)!==null)continue}else v=g.action;typeof v=="function"?a[o+1]=v:(a.splice(o,3),o-=3),dv(a)}}}function Ld(t){this._internalRoot=t}vu.prototype.render=Ld.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,o=un();sv(a,o,t,r,null,null)},vu.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t.tag===0&&js(),sv(t.current,2,null,t,null,null),eu(),r[Ge]=null}};function vu(t){this._internalRoot=t}vu.prototype.unstable_scheduleHydration=function(t){if(t){var r=le();t={blockedOn:null,target:t,priority:r};for(var a=0;a<nr.length&&r!==0&&r<nr[a].priority;a++);nr.splice(a,0,t),a===0&&cv(t)}};var hv=e.version;if(hv!=="19.0.0")throw Error(s(527,hv,"19.0.0"));Q.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=j(r),t=t!==null?ne(t):null,t=t===null?null:t.stateNode,t};var dw={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:G,findFiberByHostInstance:kt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{Ui=yu.inject(dw),Gt=yu}catch{}}return pl.createRoot=function(t,r){if(!l(t))throw Error(s(299));var a=!1,o="",c=Ig,d=Dg,g=Mg,v=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(c=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(g=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(v=r.unstable_transitionCallbacks)),r=iv(t,1,!1,null,null,a,o,c,d,g,v,null),t[Ge]=r.current,_d(t.nodeType===8?t.parentNode:t),new Ld(r)},pl.hydrateRoot=function(t,r,a){if(!l(t))throw Error(s(299));var o=!1,c="",d=Ig,g=Dg,v=Mg,S=null,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(R=a.formState)),r=iv(t,1,!0,r,a??null,o,c,d,g,v,S,R),r.context=rv(null),a=r.current,o=un(),c=Gi(o),c.callback=null,Yi(a,c,o),r.current.lanes=o,F(r,o),Kn(r),t[Ge]=r.current,_d(t),new vu(r)},pl.version="19.0.0",pl}var Tv;function Sw(){if(Tv)return Pd.exports;Tv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Pd.exports=Ew(),Pd.exports}var bw=Sw();const Tw=()=>{};var wv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(i,e){if(!i)throw ca(e)},ca=function(i){return new Error("Firebase Database ("+mE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},ww=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const l=i[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[n++],f=i[n++],h=i[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Bh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const u=i[l],f=l+1<i.length,h=f?i[l+1]:0,p=l+2<i.length,m=p?i[l+2]:0,_=u>>2,y=(u&3)<<4|h>>4;let E=(h&15)<<2|m>>6,b=m&63;p||(b=64,f||(E=64)),s.push(n[_],n[y],n[E],n[b])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(gE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):ww(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const u=n[i.charAt(l++)],h=l<i.length?n[i.charAt(l)]:0;++l;const m=l<i.length?n[i.charAt(l)]:64;++l;const y=l<i.length?n[i.charAt(l)]:64;if(++l,u==null||h==null||m==null||y==null)throw new Cw;const E=u<<2|h>>4;if(s.push(E),m!==64){const b=h<<4&240|m>>2;if(s.push(b),y!==64){const N=m<<6&192|y;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Cw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _E=function(i){const e=gE(i);return Bh.encodeByteArray(e,!0)},Uu=function(i){return _E(i).replace(/\./g,"")},xl=function(i){try{return Bh.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(i){return vE(void 0,i)}function vE(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Aw(n)||(i[n]=vE(i[n],e[n]));return i}function Aw(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=()=>Nw().__FIREBASE_DEFAULTS__,Iw=()=>{if(typeof process>"u"||typeof wv>"u")return;const i=wv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Dw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&xl(i[1]);return e&&JSON.parse(e)},Vh=()=>{try{return Tw()||Ow()||Iw()||Dw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},yE=i=>{var e,n;return(n=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Mw=i=>{const e=yE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},EE=()=>{var i;return(i=Vh())===null||i===void 0?void 0:i.config},SE=i=>{var e;return(e=Vh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Uu(JSON.stringify(n)),Uu(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function bE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TE(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Fh(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lw(){const i=it();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function xw(){return mE.NODE_ADMIN===!0}function Uw(){try{return typeof indexedDB=="object"}catch{return!1}}function Pw(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="FirebaseError";class Vn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=zw,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yr.prototype.create)}}class yr{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?Hw(u,s):"Error",h=`${this.serviceName}: ${f} (${l}).`;return new Vn(l,h,s)}}function Hw(i,e){return i.replace(Bw,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Bw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(i){return JSON.parse(i)}function Ot(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=function(i){let e={},n={},s={},l="";try{const u=i.split(".");e=Ul(xl(u[0])||""),n=Ul(xl(u[1])||""),l=u[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:l}},Vw=function(i){const e=wE(i),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},jw=function(i){const e=wE(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function aa(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function uh(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Pu(i,e,n){const s={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=e.call(n,i[l],l,i));return s}function ns(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=i[l],f=e[l];if(Cv(u)&&Cv(f)){if(!ns(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function Cv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Tl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function wl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)s[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const E=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(E<<1|E>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],f=this.chain_[2],h=this.chain_[3],p=this.chain_[4],m,_;for(let y=0;y<80;y++){y<40?y<20?(m=h^u&(f^h),_=1518500249):(m=u^f^h,_=1859775393):y<60?(m=u&f|h&(u|f),_=2400959708):(m=u^f^h,_=3395469782);const E=(l<<5|l>>>27)+m+p+_+s[y]&4294967295;p=h,h=f,f=(u<<30|u>>>2)&4294967295,u=l,l=E}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let l=0;const u=this.buf_;let f=this.inbuf_;for(;l<n;){if(f===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<n;)if(u[f]=e.charCodeAt(l),++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}else for(;l<n;)if(u[f]=e[l],++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function CE(i,e){const n=new qw(i,e);return n.subscribe.bind(n)}class qw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Gw(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=Vd),l.error===void 0&&(l.error=Vd),l.complete===void 0&&(l.complete=Vd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gw(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Vd(){}function RE(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,Y(s<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(s)-56320;l=65536+(u<<10)+f}l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):l<65536?(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},dc=function(i){let e=0;for(let n=0;n<i.length;n++){const s=i.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(i){return i&&i._delegate?i._delegate:i}class Ai{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new jh;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ww(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&f.resolve(l)}return l}onInit(e,n){var s;const l=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Kw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kw(i){return i===Wr?void 0:i}function Ww(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $w(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(qe||(qe={}));const Xw={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Zw=qe.INFO,Jw={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},eC=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),l=Jw[e];if(l)console[l](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hc{constructor(e){this.name=e,this._logLevel=Zw,this._logHandler=eC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const tC=(i,e)=>e.some(n=>i instanceof n);let Rv,Av;function nC(){return Rv||(Rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iC(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AE=new WeakMap,ch=new WeakMap,NE=new WeakMap,jd=new WeakMap,qh=new WeakMap;function rC(i){const e=new Promise((n,s)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(dr(i.result)),l()},f=()=>{s(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&AE.set(n,i)}).catch(()=>{}),qh.set(e,i),e}function sC(i){if(ch.has(i))return;const e=new Promise((n,s)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});ch.set(i,e)}let fh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return ch.get(i);if(e==="objectStoreNames")return i.objectStoreNames||NE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function aC(i){fh=i(fh)}function lC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Fd(this),e,...n);return NE.set(s,e.sort?e.sort():[e]),dr(s)}:iC().includes(i)?function(...e){return i.apply(Fd(this),e),dr(AE.get(this))}:function(...e){return dr(i.apply(Fd(this),e))}}function oC(i){return typeof i=="function"?lC(i):(i instanceof IDBTransaction&&sC(i),tC(i,nC())?new Proxy(i,fh):i)}function dr(i){if(i instanceof IDBRequest)return rC(i);if(jd.has(i))return jd.get(i);const e=oC(i);return e!==i&&(jd.set(i,e),qh.set(e,i)),e}const Fd=i=>qh.get(i);function uC(i,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(i,e),h=dr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(dr(f.result),p.oldVersion,p.newVersion,dr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const cC=["get","getKey","getAll","getAllKeys","count"],fC=["put","add","delete","clear"],qd=new Map;function Nv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(qd.get(e))return qd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=fC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||cC.includes(n)))return;const u=async function(f,...h){const p=this.transaction(f,l?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),l&&p.done]))[0]};return qd.set(e,u),u}aC(i=>({...i,get:(e,n,s)=>Nv(e,n)||i.get(e,n,s),has:(e,n)=>!!Nv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function hC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dh="@firebase/app",Ov="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new hc("@firebase/app"),pC="@firebase/app-compat",mC="@firebase/analytics-compat",gC="@firebase/analytics",_C="@firebase/app-check-compat",vC="@firebase/app-check",yC="@firebase/auth",EC="@firebase/auth-compat",SC="@firebase/database",bC="@firebase/data-connect",TC="@firebase/database-compat",wC="@firebase/functions",CC="@firebase/functions-compat",RC="@firebase/installations",AC="@firebase/installations-compat",NC="@firebase/messaging",OC="@firebase/messaging-compat",IC="@firebase/performance",DC="@firebase/performance-compat",MC="@firebase/remote-config",kC="@firebase/remote-config-compat",LC="@firebase/storage",xC="@firebase/storage-compat",UC="@firebase/firestore",PC="@firebase/vertexai",zC="@firebase/firestore-compat",HC="firebase",BC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="[DEFAULT]",VC={[dh]:"fire-core",[pC]:"fire-core-compat",[gC]:"fire-analytics",[mC]:"fire-analytics-compat",[vC]:"fire-app-check",[_C]:"fire-app-check-compat",[yC]:"fire-auth",[EC]:"fire-auth-compat",[SC]:"fire-rtdb",[bC]:"fire-data-connect",[TC]:"fire-rtdb-compat",[wC]:"fire-fn",[CC]:"fire-fn-compat",[RC]:"fire-iid",[AC]:"fire-iid-compat",[NC]:"fire-fcm",[OC]:"fire-fcm-compat",[IC]:"fire-perf",[DC]:"fire-perf-compat",[MC]:"fire-rc",[kC]:"fire-rc-compat",[LC]:"fire-gcs",[xC]:"fire-gcs-compat",[UC]:"fire-fst",[zC]:"fire-fst-compat",[PC]:"fire-vertex","fire-js":"fire-js",[HC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new Map,jC=new Map,ph=new Map;function Iv(i,e){try{i.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function mr(i){const e=i.name;if(ph.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;ph.set(e,i);for(const n of zu.values())Iv(n,i);for(const n of jC.values())Iv(n,i);return!0}function Gh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function It(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new yr("app","Firebase",FC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=BC;function OE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:hh,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw hr.create("bad-app-name",{appName:String(l)});if(n||(n=EE()),!n)throw hr.create("no-options");const u=zu.get(l);if(u){if(ns(n,u.options)&&ns(s,u.config))return u;throw hr.create("duplicate-app",{appName:l})}const f=new Qw(l);for(const p of ph.values())f.addComponent(p);const h=new qC(n,s,f);return zu.set(l,h),h}function IE(i=hh){const e=zu.get(i);if(!e&&i===hh&&EE())return OE();if(!e)throw hr.create("no-app",{appName:i});return e}function Wn(i,e,n){var s;let l=(s=VC[i])!==null&&s!==void 0?s:i;n&&(l+=`-${n}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const h=[`Unable to register library "${l}" with version "${e}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(h.join(" "));return}mr(new Ai(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="firebase-heartbeat-database",YC=1,Pl="firebase-heartbeat-store";let Gd=null;function DE(){return Gd||(Gd=uC(GC,YC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(i=>{throw hr.create("idb-open",{originalErrorMessage:i.message})})),Gd}async function $C(i){try{const n=(await DE()).transaction(Pl),s=await n.objectStore(Pl).get(ME(i));return await n.done,s}catch(e){if(e instanceof Vn)Ni.warn(e.message);else{const n=hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(n.message)}}}async function Dv(i,e){try{const s=(await DE()).transaction(Pl,"readwrite");await s.objectStore(Pl).put(e,ME(i)),await s.done}catch(n){if(n instanceof Vn)Ni.warn(n.message);else{const s=hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ni.warn(s.message)}}}function ME(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=1024,WC=30;class QC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Mv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>WC){const f=JC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ni.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mv(),{heartbeatsToSend:s,unsentEntries:l}=XC(this._heartbeatsCache.heartbeats),u=Uu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ni.warn(n),""}}}function Mv(){return new Date().toISOString().substring(0,10)}function XC(i,e=KC){const n=[];let s=i.slice();for(const l of i){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),kv(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),kv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ZC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Uw()?Pw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $C(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Dv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Dv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function kv(i){return Uu(JSON.stringify({version:2,heartbeats:i})).length}function JC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(i){mr(new Ai("platform-logger",e=>new dC(e),"PRIVATE")),mr(new Ai("heartbeat",e=>new QC(e),"PRIVATE")),Wn(dh,Ov,i),Wn(dh,Ov,"esm2017"),Wn("fire-js","")}eR("");var tR="firebase",nR="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(tR,nR,"app");function Wl(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(i);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(i,s[l])&&(n[s[l]]=i[s[l]]);return n}function kE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iR=kE,LE=new yr("auth","Firebase",kE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new hc("@firebase/auth");function rR(i,...e){Hu.logLevel<=qe.WARN&&Hu.warn(`Auth (${ki}): ${i}`,...e)}function Ru(i,...e){Hu.logLevel<=qe.ERROR&&Hu.error(`Auth (${ki}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(i,...e){throw Yh(i,...e)}function Qn(i,...e){return Yh(i,...e)}function xE(i,e,n){const s=Object.assign(Object.assign({},iR()),{[e]:n});return new yr("auth","Firebase",s).create(e,{appName:i.name})}function ts(i){return xE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yh(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return LE.create(i,...e)}function ve(i,e,...n){if(!i)throw Yh(e,...n)}function Si(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ru(e),new Error(e)}function Ii(i,e){i||Si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function sR(){return Lv()==="http:"||Lv()==="https:"}function Lv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sR()||TE()||"connection"in navigator)?navigator.onLine:!0}function lR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ii(n>e,"Short delay should be less than long delay!"),this.isMobile=fc()||Fh()}get(){return aR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(i,e){Ii(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UE=class{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=new Ql(3e4,6e4);function Kh(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function fa(i,e,n,s,l={}){return PE(i,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const h=Er(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const m=Object.assign({method:e,headers:p},u);return bE()||(m.referrerPolicy="no-referrer"),UE.fetch()(zE(i,i.config.apiHost,n,h),m)})}async function PE(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},oR),e);try{const l=new fR(i),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Eu(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const h=u.ok?f.errorMessage:f.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eu(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Eu(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Eu(i,"user-disabled",f);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw xE(i,_,m);Oi(i,_)}}catch(l){if(l instanceof Vn)throw l;Oi(i,"network-request-failed",{message:String(l)})}}async function cR(i,e,n,s,l={}){const u=await fa(i,e,n,s,l);return"mfaPendingCredential"in u&&Oi(i,"multi-factor-auth-required",{_serverResponse:u}),u}function zE(i,e,n,s){const l=`${e}${n}?${s}`;return i.config.emulator?$h(i.config,l):`${i.config.apiScheme}://${l}`}let fR=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),uR.get())})}};function Eu(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Qn(i,e,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(i,e){return fa(i,"POST","/v1/accounts:delete",e)}async function HE(i,e){return fa(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hR(i,e=!1){const n=Dt(i),s=await n.getIdToken(e),l=Wh(s);ve(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:Nl(Yd(l.auth_time)),issuedAtTime:Nl(Yd(l.iat)),expirationTime:Nl(Yd(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Yd(i){return Number(i)*1e3}function Wh(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Ru("JWT malformed, contained fewer than 3 sections"),null;try{const l=xl(n);return l?JSON.parse(l):(Ru("Failed to decode base64 JWT payload"),null)}catch(l){return Ru("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function xv(i){const e=Wh(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Vn&&pR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function pR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mR=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(i){var e;const n=i.auth,s=await i.getIdToken(),l=await zl(i,HE(n,{idToken:s}));ve(l==null?void 0:l.users.length,n,"internal-error");const u=l.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?BE(u.providerUserInfo):[],h=_R(i.providerData,f),p=i.isAnonymous,m=!(i.email&&u.passwordHash)&&!(h!=null&&h.length),_=p?m:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new gh(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(i,y)}async function gR(i){const e=Dt(i);await Bu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _R(i,e){return[...i.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function BE(i){return i.map(e=>{var{providerId:n}=e,s=Wl(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(i,e){const n=await PE(i,{},async()=>{const s=Er({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=i.config,f=zE(i,l,"/v1/token",`key=${u}`),h=await i._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",UE.fetch()(f,{method:"POST",headers:h,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yR(i,e){return fa(i,"POST","/v2/accounts:revokeToken",Kh(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d=class _h{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=xv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await vR(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new _h;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(ve(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _h,this.toJSON())}_performRefresh(){return Si("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}let Vu=class Cl{constructor(e){var{uid:n,auth:s,stsTokenManager:l}=e,u=Wl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new gh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await zl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hR(this,e)}reload(){return gR(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Bu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(It(this.auth.app))return Promise.reject(ts(this.auth));const e=await this.getIdToken();return await zl(this,dR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,l,u,f,h,p,m,_;const y=(s=n.displayName)!==null&&s!==void 0?s:void 0,E=(l=n.email)!==null&&l!==void 0?l:void 0,b=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=n.photoURL)!==null&&f!==void 0?f:void 0,H=(h=n.tenantId)!==null&&h!==void 0?h:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,B=(m=n.createdAt)!==null&&m!==void 0?m:void 0,q=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:$,emailVerified:de,isAnonymous:A,providerData:te,stsTokenManager:Ee}=n;ve($&&Ee,e,"internal-error");const ce=$d.fromJSON(this.name,Ee);ve(typeof $=="string",e,"internal-error"),rr(y,e.name),rr(E,e.name),ve(typeof de=="boolean",e,"internal-error"),ve(typeof A=="boolean",e,"internal-error"),rr(b,e.name),rr(N,e.name),rr(H,e.name),rr(U,e.name),rr(B,e.name),rr(q,e.name);const G=new Cl({uid:$,auth:e,email:E,emailVerified:de,displayName:y,isAnonymous:A,photoURL:N,phoneNumber:b,tenantId:H,stsTokenManager:ce,createdAt:B,lastLoginAt:q});return te&&Array.isArray(te)&&(G.providerData=te.map(ae=>Object.assign({},ae))),U&&(G._redirectEventId=U),G}static async _fromIdTokenResponse(e,n,s=!1){const l=new $d;l.updateFromServerResponse(n);const u=new Cl({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Bu(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];ve(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?BE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),h=new $d;h.updateFromIdToken(s);const p=new Cl({uid:l.localId,auth:e,stsTokenManager:h,isAnonymous:f}),m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new gh(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,m),p}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=new Map;function bi(i){Ii(i instanceof Function,"Expected a class definition");let e=Uv.get(i);return e?(Ii(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Uv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VE=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};VE.type="NONE";const Pv=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(i,e,n){return`firebase:${i}:${e}:${n}`}let zv=class Nu{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=Au(this.userKey,l.apiKey,u),this.fullPersistenceKey=Au("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Nu(bi(Pv),e,s);const l=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=l[0]||bi(Pv);const f=Au(s,e.config.apiKey,e.name);let h=null;for(const m of n)try{const _=await m._get(f);if(_){const y=Vu._fromJSON(e,_);m!==u&&(h=y),u=m;break}}catch{}const p=l.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Nu(u,e,s):(u=p[0],h&&await u._set(f,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new Nu(u,e,s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($E(e))return"Blackberry";if(KE(e))return"Webos";if(FE(e))return"Safari";if((e.includes("chrome/")||qE(e))&&!e.includes("edge/"))return"Chrome";if(YE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function jE(i=it()){return/firefox\//i.test(i)}function FE(i=it()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qE(i=it()){return/crios\//i.test(i)}function GE(i=it()){return/iemobile/i.test(i)}function YE(i=it()){return/android/i.test(i)}function $E(i=it()){return/blackberry/i.test(i)}function KE(i=it()){return/webos/i.test(i)}function Qh(i=it()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function ER(i=it()){var e;return Qh(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SR(){return Lw()&&document.documentMode===10}function WE(i=it()){return Qh(i)||YE(i)||KE(i)||$E(i)||/windows phone/i.test(i)||GE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(i,e=[]){let n;switch(i){case"Browser":n=Hv(it());break;case"Worker":n=`${Hv(it())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ki}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bR=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,h)=>{try{const p=e(u);f(p)}catch(p){h(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(i,e={}){return fa(i,"GET","/v2/passwordPolicy",Kh(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=6;let CR=class{constructor(e){var n,s,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:wR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,l,u,f,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RR=class{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bv(this),this.idTokenSubscription=new Bv(this),this.beforeStateQueue=new bR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bi(n)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await zv.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await HE(this,{idToken:e}),s=await Vu._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(It(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===h)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(It(this.app))return Promise.reject(ts(this));const n=e?Dt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return It(this.app)?Promise.reject(ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return It(this.app)?Promise.reject(ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TR(this),n=new CR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yr("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await yR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bi(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await zv.create(this,[bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(h,this,"internal-error"),h.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(It(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function Xh(i){return Dt(i)}let Bv=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=CE(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AR(i){Zh=i}function NR(i){return Zh.loadJS(i)}function OR(){return Zh.gapiScript}function IR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(i,e){const n=Gh(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ns(u,e??{}))return l;Oi(l,"already-initialized")}return n.initialize({options:e})}function MR(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(bi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function kR(i,e,n){const s=Xh(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=XE(e),{host:f,port:h}=LR(e),p=h===null?"":`:${h}`,m={url:`${u}//${f}${p}/`},_=Object.freeze({host:f,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ns(m,s.config.emulator)&&ns(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,xR()}function XE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function LR(i){const e=XE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Vv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Vv(f)}}}function Vv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function xR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZE=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Si("not implemented")}_getIdTokenResponse(e){return Si("not implemented")}_linkToIdToken(e,n){return Si("not implemented")}_getReauthenticationResolver(e){return Si("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(i,e){return cR(i,"POST","/v1/accounts:signInWithIdp",Kh(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="http://localhost";class is extends ZE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new is(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=n,u=Wl(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new is(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Js(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Js(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Js(e,n)}buildRequest(){const e={requestUri:UR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Er(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends JE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Xl{constructor(){super("facebook.com")}static credential(e){return is._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return is._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return or.credential(n,s)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Xl{constructor(){super("github.com")}static credential(e){return is._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Xl{constructor(){super("twitter.com")}static credential(e,n){return is._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return cr.credential(n,s)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh=class vh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await Vu._fromIdTokenResponse(e,s,l),f=jv(s);return new vh({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=jv(s);return new vh({user:e,providerId:l,_tokenResponse:s,operationType:n})}};function jv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PR=class yh extends Vn{constructor(e,n,s,l){var u;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new yh(e,n,s,l)}};function e0(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?PR._fromErrorAndOperation(i,u,e,s):u})}async function zR(i,e,n=!1){const s=await zl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Jh._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(i,e,n=!1){const{auth:s}=i;if(It(s.app))return Promise.reject(ts(s));const l="reauthenticate";try{const u=await zl(i,e0(s,l,e,i),n);ve(u.idToken,s,"internal-error");const f=Wh(u.idToken);ve(f,s,"internal-error");const{sub:h}=f;return ve(i.uid===h,s,"user-mismatch"),Jh._forOperation(i,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Oi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(i,e,n=!1){if(It(i.app))return Promise.reject(ts(i));const s="signIn",l=await e0(i,s,e),u=await Jh._fromIdTokenResponse(i,s,l);return n||await i._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(i,e){return Dt(i).setPersistence(e)}function jR(i,e,n,s){return Dt(i).onIdTokenChanged(e,n,s)}function FR(i,e,n){return Dt(i).beforeAuthStateChanged(e,n)}function qR(i,e,n,s){return Dt(i).onAuthStateChanged(e,n,s)}function GR(i){return Dt(i).signOut()}const ju="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ju,"1"),this.storage.removeItem(ju),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=1e3,$R=10;class n0 extends t0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,h,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);SR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,$R):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},YR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}n0.type="LOCAL";const i0=n0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0 extends t0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}r0.type="SESSION";const s0=r0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new pc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const h=Array.from(f).map(async m=>m(n.origin,u)),p=await KR(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((h,p)=>{const m=ep("",20);l.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(y){const E=y;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(E.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return window}function QR(i){Xn().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function XR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZR(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function JR(){return a0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="firebaseLocalStorageDb",eA=1,Fu="firebaseLocalStorage",o0="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mc(i,e){return i.transaction([Fu],e?"readwrite":"readonly").objectStore(Fu)}function tA(){const i=indexedDB.deleteDatabase(l0);return new Zl(i).toPromise()}function Eh(){const i=indexedDB.open(l0,eA);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Fu,{keyPath:o0})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Fu)?e(s):(s.close(),await tA(),e(await Eh()))})})}async function Fv(i,e,n){const s=mc(i,!0).put({[o0]:e,value:n});return new Zl(s).toPromise()}async function nA(i,e){const n=mc(i,!1).get(e),s=await new Zl(n).toPromise();return s===void 0?null:s.value}function qv(i,e){const n=mc(i,!0).delete(e);return new Zl(n).toPromise()}const iA=800,rA=3;class u0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>rA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return a0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pc._getInstance(JR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await XR(),!this.activeServiceWorker)return;this.sender=new WR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eh();return await Fv(e,ju,"1"),await qv(e,ju),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Fv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>nA(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=mc(l,!1).getAll();return new Zl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u0.type="LOCAL";const sA=u0;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(i,e){return e?bi(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends ZE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Js(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Js(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Js(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lA(i){return BR(i.auth,new tp(i),i.bypassAuthState)}function oA(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),HR(n,new tp(i),i.bypassAuthState)}async function uA(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),zR(n,new tp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:h}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lA;case"linkViaPopup":case"linkViaRedirect":return uA;case"reauthViaPopup":case"reauthViaRedirect":return oA;default:Oi(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=new Ql(2e3,1e4);class Qs extends c0{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cA.get())};e()}}Qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="pendingRedirect",Ou=new Map;class dA extends c0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ou.get(this.auth._key());if(!e){try{const s=await hA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ou.set(this.auth._key(),e)}return this.bypassAuthState||Ou.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hA(i,e){const n=gA(e),s=mA(i);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function pA(i,e){Ou.set(i._key(),e)}function mA(i){return bi(i._redirectPersistence)}function gA(i){return Au(fA,i.config.apiKey,i.name)}async function _A(i,e,n=!1){if(It(i.app))return Promise.reject(ts(i));const s=Xh(i),l=aA(s,e),f=await new dA(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=10*60*1e3;class yA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!f0(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gv(e))}saveEventToCache(e){this.cachedEventUids.add(Gv(e)),this.lastProcessedEventTime=Date.now()}}function Gv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function f0({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EA(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(i,e={}){return fa(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TA=/^https?/;async function wA(i){if(i.config.emulator)return;const{authorizedDomains:e}=await SA(i);for(const n of e)try{if(CA(n))return}catch{}Oi(i,"unauthorized-domain")}function CA(i){const e=mh(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!TA.test(n))return!1;if(bA.test(i))return s===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=new Ql(3e4,6e4);function Yv(){const i=Xn().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function AA(i){return new Promise((e,n)=>{var s,l,u;function f(){Yv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yv(),n(Qn(i,"network-request-failed"))},timeout:RA.get()})}if(!((l=(s=Xn().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=Xn().gapi)===null||u===void 0)&&u.load)f();else{const h=IR("iframefcb");return Xn()[h]=()=>{gapi.load?f():n(Qn(i,"network-request-failed"))},NR(`${OR()}?onload=${h}`).catch(p=>n(p))}}).catch(e=>{throw Iu=null,e})}let Iu=null;function NA(i){return Iu=Iu||AA(i),Iu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new Ql(5e3,15e3),IA="__/auth/iframe",DA="emulator/auth/iframe",MA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LA(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?$h(e,DA):`https://${i.config.authDomain}/${IA}`,s={apiKey:e.apiKey,appName:i.name,v:ki},l=kA.get(i.config.apiHost);l&&(s.eid=l);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Er(s).slice(1)}`}async function xA(i){const e=await NA(i),n=Xn().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:LA(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MA,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=Qn(i,"network-request-failed"),h=Xn().setTimeout(()=>{u(f)},OA.get());function p(){Xn().clearTimeout(h),l(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PA=500,zA=600,HA="_blank",BA="http://localhost";class $v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VA(i,e,n,s=PA,l=zA){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const p=Object.assign(Object.assign({},UA),{width:s.toString(),height:l.toString(),top:u,left:f}),m=it().toLowerCase();n&&(h=qE(m)?HA:n),jE(m)&&(e=e||BA,p.scrollbars="yes");const _=Object.entries(p).reduce((E,[b,N])=>`${E}${b}=${N},`,"");if(ER(m)&&h!=="_self")return jA(e||"",h),new $v(null);const y=window.open(e||"",h,_);ve(y,i,"popup-blocked");try{y.focus()}catch{}return new $v(y)}function jA(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="__/auth/handler",qA="emulator/auth/handler",GA=encodeURIComponent("fac");async function Kv(i,e,n,s,l,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ki,eventId:l};if(e instanceof JE){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",uh(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,y]of Object.entries({}))f[_]=y}if(e instanceof Xl){const _=e.getScopes().filter(y=>y!=="");_.length>0&&(f.scopes=_.join(","))}i.tenantId&&(f.tid=i.tenantId);const h=f;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const p=await i._getAppCheckToken(),m=p?`#${GA}=${encodeURIComponent(p)}`:"";return`${YA(i)}?${Er(h).slice(1)}${m}`}function YA({config:i}){return i.emulator?$h(i,qA):`https://${i.authDomain}/${FA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="webStorageSupport";class $A{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s0,this._completeRedirectFn=_A,this._overrideRedirectResult=pA}async _openPopup(e,n,s,l){var u;Ii((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Kv(e,n,s,mh(),l);return VA(e,f,ep())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await Kv(e,n,s,mh(),l);return QR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Ii(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await xA(e),s=new yA(e);return n.register("authEvent",l=>(ve(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kd,{type:Kd},l=>{var u;const f=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Kd];f!==void 0&&n(!!f),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WE()||FE()||Qh()}}const KA=$A;var Wv="@firebase/auth",Qv="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WA=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XA(i){mr(new Ai("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:h}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:h,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QE(i)},m=new RR(s,l,u,p);return MR(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),mr(new Ai("auth-internal",e=>{const n=Xh(e.getProvider("auth").getImmediate());return(s=>new WA(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(Wv,Qv,QA(i)),Wn(Wv,Qv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=5*60,JA=SE("authIdTokenMaxAge")||ZA;let Xv=null;const eN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>JA)return;const l=n==null?void 0:n.token;Xv!==l&&(Xv=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function np(i=IE()){const e=Gh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=DR(i,{popupRedirectResolver:KA,persistence:[sA,i0,s0]}),s=SE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=eN(u.toString());FR(n,f,()=>f(n.currentUser)),jR(n,h=>f(h))}}const l=yE("auth");return l&&kR(n,`http://${l}`),n}function tN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}AR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=l=>{const u=Qn("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",tN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XA("Browser");var Zv={};const Jv="@firebase/database",ey="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d0="";function nN(i){d0=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ot(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ul(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Mi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new iN(e)}}catch{}return new rN},Zr=h0("localStorage"),sN=h0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new hc("@firebase/database"),aN=function(){let i=1;return function(){return i++}}(),p0=function(i){const e=Yw(i),n=new Fw;n.update(e);const s=n.digest();return Bh.encodeByteArray(s)},Jl=function(...i){let e="";for(let n=0;n<i.length;n++){const s=i[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Jl.apply(null,s):typeof s=="object"?e+=Ot(s):e+=s,e+=" "}return e};let Ol=null,ty=!0;const lN=function(i,e){Y(!0,"Can't turn on custom loggers persistently."),ea.logLevel=qe.VERBOSE,Ol=ea.log.bind(ea)},Ft=function(...i){if(ty===!0&&(ty=!1,Ol===null&&sN.get("logging_enabled")===!0&&lN()),Ol){const e=Jl.apply(null,i);Ol(e)}},eo=function(i){return function(...e){Ft(i,...e)}},Sh=function(...i){const e="FIREBASE INTERNAL ERROR: "+Jl(...i);ea.error(e)},Di=function(...i){const e=`FIREBASE FATAL ERROR: ${Jl(...i)}`;throw ea.error(e),new Error(e)},fn=function(...i){const e="FIREBASE WARNING: "+Jl(...i);ea.warn(e)},oN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&fn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},m0=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},uN=function(i){if(document.readyState==="complete")i();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},la="[MIN_NAME]",rs="[MAX_NAME]",da=function(i,e){if(i===e)return 0;if(i===la||e===rs)return-1;if(e===la||i===rs)return 1;{const n=ny(i),s=ny(e);return n!==null?s!==null?n-s===0?i.length-e.length:n-s:-1:s!==null?1:i<e?-1:1}},cN=function(i,e){return i===e?0:i<e?-1:1},ml=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+Ot(e))},ip=function(i){if(typeof i!="object"||i===null)return Ot(i);const e=[];for(const s in i)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Ot(e[s]),n+=":",n+=ip(i[e[s]]);return n+="}",n},g0=function(i,e){const n=i.length;if(n<=e)return[i];const s=[];for(let l=0;l<n;l+=e)l+e>n?s.push(i.substring(l,n)):s.push(i.substring(l,l+e));return s};function tn(i,e){for(const n in i)i.hasOwnProperty(n)&&e(n,i[n])}const _0=function(i){Y(!m0(i),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let l,u,f,h,p;i===0?(u=0,f=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),s),u=h+s,f=Math.round(i*Math.pow(2,n-h)-Math.pow(2,n))):(u=0,f=Math.round(i/Math.pow(2,1-s-n))));const m=[];for(p=n;p;p-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const _=m.join("");let y="";for(p=0;p<64;p+=8){let E=parseInt(_.substr(p,8),2).toString(16);E.length===1&&(E="0"+E),y=y+E}return y.toLowerCase()},fN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},dN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function hN(i,e){let n="Unknown Error";i==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?n="Client doesn't have permission to access the desired data.":i==="unavailable"&&(n="The service is unavailable");const s=new Error(i+" at "+e._path.toString()+": "+n);return s.code=i.toUpperCase(),s}const pN=new RegExp("^-?(0*)\\d{1,10}$"),mN=-2147483648,gN=2147483647,ny=function(i){if(pN.test(i)){const e=Number(i);if(e>=mN&&e<=gN)return e}return null},to=function(i){try{i()}catch(e){setTimeout(()=>{const n=e.stack||"";throw fn("Exception was thrown by user callback.",n),e},Math.floor(0))}},_N=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Il=function(i,e){const n=setTimeout(i,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,It(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){fn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fn(e)}}class Du{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Du.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="5",v0="v",y0="s",E0="r",S0="f",b0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,T0="ls",w0="p",bh="ac",C0="websocket",R0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n,s,l,u=!1,f="",h=!1,p=!1,m=null){this.secure=n,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Zr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function EN(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function N0(i,e,n){Y(typeof e=="string","typeof type must == string"),Y(typeof n=="object","typeof params must == object");let s;if(e===C0)s=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===R0)s=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);EN(i)&&(n.ns=i.namespace);const l=[];return tn(n,(u,f)=>{l.push(u+"="+f)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.counters_={}}incrementCounter(e,n=1){Mi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Rw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd={},Qd={};function sp(i){const e=i.toString();return Wd[e]||(Wd[e]=new SN),Wd[e]}function bN(i,e){const n=i.toString();return Qd[n]||(Qd[n]=e()),Qd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&to(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="start",wN="close",CN="pLPCommand",RN="pRTLPCB",O0="id",I0="pw",D0="ser",AN="cb",NN="seg",ON="ts",IN="d",DN="dframe",M0=1870,k0=30,MN=M0-k0,kN=25e3,LN=3e4;class Xs{constructor(e,n,s,l,u,f,h){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=eo(e),this.stats_=sp(n),this.urlFn=p=>(this.appCheckToken&&(p[bh]=this.appCheckToken),N0(n,R0,p))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new TN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LN)),uN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ap((...u)=>{const[f,h,p,m,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===iy)this.id=h,this.password=p;else if(f===wN)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[iy]="t",s[D0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[AN]=this.scriptTagHolder.uniqueCallbackIdentifier),s[v0]=rp,this.transportSessionId&&(s[y0]=this.transportSessionId),this.lastSessionId&&(s[T0]=this.lastSessionId),this.applicationId&&(s[w0]=this.applicationId),this.appCheckToken&&(s[bh]=this.appCheckToken),typeof location<"u"&&location.hostname&&b0.test(location.hostname)&&(s[E0]=S0);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xs.forceAllow_=!0}static forceDisallow(){Xs.forceDisallow_=!0}static isAvailable(){return Xs.forceAllow_?!0:!Xs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fN()&&!dN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ot(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=_E(n),l=g0(s,MN);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[DN]="t",s[O0]=e,s[I0]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ot(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ap{constructor(e,n,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=aN(),window[CN+this.uniqueCallbackIdentifier]=e,window[RN+this.uniqueCallbackIdentifier]=n,this.myIFrame=ap.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){Ft("frame writing exception"),h.stack&&Ft(h.stack),Ft(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ft("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[O0]=this.myID,e[I0]=this.myPW,e[D0]=this.currentSerial;let n=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+k0+s.length<=M0;){const f=this.pendingSegs.shift();s=s+"&"+NN+l+"="+f.seg+"&"+ON+l+"="+f.ts+"&"+IN+l+"="+f.d,l++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(s,Math.floor(kN)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{Ft("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=16384,UN=45e3;let qu=null;typeof MozWebSocket<"u"?qu=MozWebSocket:typeof WebSocket<"u"&&(qu=WebSocket);class Pn{constructor(e,n,s,l,u,f,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=eo(this.connId),this.stats_=sp(n),this.connURL=Pn.connectionURL_(n,f,h,l,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,l,u){const f={};return f[v0]=rp,typeof location<"u"&&location.hostname&&b0.test(location.hostname)&&(f[E0]=S0),n&&(f[y0]=n),s&&(f[T0]=s),l&&(f[bh]=l),u&&(f[w0]=u),N0(e,C0,f)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zr.set("previous_websocket_failure",!0);try{let s;xw(),this.mySock=new qu(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Pn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&qu!==null&&!Pn.forceDisallow_}static previouslyFailed(){return Zr.isInMemoryStorage||Zr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Zr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Ul(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Ot(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=g0(n,xN);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(UN))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pn.responsesRequiredToBeHealthy=2;Pn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{static get ALL_TRANSPORTS(){return[Xs,Pn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Pn&&Pn.isAvailable();let s=n&&!Pn.previouslyFailed();if(e.webSocketOnly&&(n||fn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Pn];else{const l=this.transports_=[];for(const u of Hl.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);Hl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Hl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=6e4,zN=5e3,HN=10*1024,BN=100*1024,Xd="t",ry="d",VN="s",sy="r",jN="e",ay="o",ly="a",oy="n",uy="p",FN="h";class qN{constructor(e,n,s,l,u,f,h,p,m,_){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=eo("c:"+this.id+":"),this.transportManager_=new Hl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Il(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>HN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Xd in e){const n=e[Xd];n===ly?this.upgradeIfSecondaryHealthy_():n===sy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ay&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ml("t",e),s=ml("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:uy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ly,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:oy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ml("t",e),s=ml("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ml(Xd,e);if(ry in e){const s=e[ry];if(n===FN){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===oy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===VN?this.onConnectionShutdown_(s):n===sy?this.onReset_(s):n===jN?Sh("Server Error: "+s):n===ay?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Sh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),rp!==s&&fn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Il(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(PN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Il(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:uy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{put(e,n,s,l){}merge(e,n,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const l=this.getInitialEvent(e);l&&n.apply(s,l)}off(e,n,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===n&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends x0{static getInstance(){return new Gu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!fc()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=32,fy=768;class We{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Fe(){return new We("")}function Ne(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function gr(i){return i.pieces_.length-i.pieceNum_}function Je(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new We(i.pieces_,e)}function U0(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function GN(i){let e="";for(let n=i.pieceNum_;n<i.pieces_.length;n++)i.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[n])));return e||"/"}function P0(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function z0(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let n=i.pieceNum_;n<i.pieces_.length-1;n++)e.push(i.pieces_[n]);return new We(e,0)}function St(i,e){const n=[];for(let s=i.pieceNum_;s<i.pieces_.length;s++)n.push(i.pieces_[s]);if(e instanceof We)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&n.push(s[l])}return new We(n,0)}function Oe(i){return i.pieceNum_>=i.pieces_.length}function Jt(i,e){const n=Ne(i),s=Ne(e);if(n===null)return e;if(n===s)return Jt(Je(i),Je(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function lp(i,e){if(gr(i)!==gr(e))return!1;for(let n=i.pieceNum_,s=e.pieceNum_;n<=i.pieces_.length;n++,s++)if(i.pieces_[n]!==e.pieces_[s])return!1;return!0}function zn(i,e){let n=i.pieceNum_,s=e.pieceNum_;if(gr(i)>gr(e))return!1;for(;n<i.pieces_.length;){if(i.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class YN{constructor(e,n){this.errorPrefix_=n,this.parts_=P0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=dc(this.parts_[s]);H0(this)}}function $N(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=dc(e),H0(i)}function KN(i){const e=i.parts_.pop();i.byteLength_-=dc(e),i.parts_.length>0&&(i.byteLength_-=1)}function H0(i){if(i.byteLength_>fy)throw new Error(i.errorPrefix_+"has a key path longer than "+fy+" bytes ("+i.byteLength_+").");if(i.parts_.length>cy)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+cy+") or object contains a cycle "+Qr(i))}function Qr(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op extends x0{static getInstance(){return new op}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=1e3,WN=60*5*1e3,dy=30*1e3,QN=1.3,XN=3e4,ZN="server_kill",hy=3;class Ri extends L0{constructor(e,n,s,l,u,f,h,p){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=Ri.nextPersistentConnectionId_++,this.log_=eo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gl,this.maxReconnectDelay_=WN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");op.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Gu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const l=++this.requestNumber_,u={r:l,a:e,b:n};this.log_(Ot(u)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const n=new jh,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,s,l){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:n,query:e,tag:s};this.listens.get(f).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},f="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,h=>{const p=h.d,m=h.s;Ri.warnOnListenWarnings_(p,n),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Mi(e,"w")){const s=aa(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();fn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||jw(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=dy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Vw(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,l=>{const u=l.s,f=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,n)}sendUnlisten_(e,n,s,l){this.log_("Unlisten on "+e+" for "+n);const u={p:e},f="n";l&&(u.q=s,u.t=l),this.sendRequest(f,u)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,l){const u={p:n,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(e,n,s,l){this.putInternal("p",e,n,s,l)}merge(e,n,s,l){this.putInternal("m",e,n,s,l)}putInternal(e,n,s,l,u){this.initConnection_();const f={p:n,d:s};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ot(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Sh("Unrecognized action received from server: "+Ot(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=gl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>XN&&(this.reconnectDelay_=gl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*QN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Ri.nextConnectionId_++,u=this.lastSessionId;let f=!1,h=null;const p=function(){h?h.close():(f=!0,s())},m=function(y){Y(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:p,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,E]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);f?Ft("getToken() completed but was canceled"):(Ft("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=E&&E.token,h=new qN(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,b=>{fn(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(ZN)},u))}catch(y){this.log_("Failed to get token: "+y),f||(this.repoInfo_.nodeAdmin&&fn(y),p())}}}interrupt(e){Ft("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ft("Resuming connection for reason: "+e),delete this.interruptReasons_[e],uh(this.interruptReasons_)&&(this.reconnectDelay_=gl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(u=>ip(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,n){const s=new We(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(n),u.delete(n),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,n){Ft("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=hy&&(this.reconnectDelay_=dy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ft("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=hy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+d0.replace(/\./g,"-")]=1,fc()?e["framework.cordova"]=1:Fh()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Gu.getInstance().currentlyOnline();return uh(this.interruptReasons_)&&e}}Ri.nextPersistentConnectionId_=0;Ri.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Re(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new Re(la,e),l=new Re(la,n);return this.compare(s,l)!==0}minPost(){return Re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su;class B0 extends gc{static get __EMPTY_NODE(){return Su}static set __EMPTY_NODE(e){Su=e}compare(e,n){return da(e.name,n.name)}isDefinedOn(e){throw ca("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Re.MIN}maxPost(){return new Re(rs,Su)}makePost(e,n){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new Re(e,Su)}toString(){return".key"}}const ta=new B0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=n?s(e.key,n):1,l&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Nt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??Nt.RED,this.left=l??en.EMPTY_NODE,this.right=u??en.EMPTY_NODE}copy(e,n,s,l,u){return new Nt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return en.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,l;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return en.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Nt.RED=!0;Nt.BLACK=!1;class JN{copy(e,n,s,l,u){return this}insert(e,n,s){return new Nt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class en{constructor(e,n=en.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new en(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Nt.BLACK,null,null))}remove(e){return new en(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Nt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,l=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new bu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new bu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new bu(this.root_,null,this.comparator_,!0,e)}}en.EMPTY_NODE=new JN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(i,e){return da(i.name,e.name)}function up(i,e){return da(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th;function tO(i){Th=i}const V0=function(i){return typeof i=="number"?"number:"+_0(i):"string:"+i},j0=function(i){if(i.isLeafNode()){const e=i.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Mi(e,".sv"),"Priority must be a string or number.")}else Y(i===Th||i.isEmpty(),"priority of unexpected type.");Y(i===Th||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let py;class At{static set __childrenNodeConstructor(e){py=e}static get __childrenNodeConstructor(){return py}constructor(e,n=At.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),j0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new At(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:At.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oe(e)?this:Ne(e)===".priority"?this.priorityNode_:At.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:At.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=Ne(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(Y(s!==".priority"||gr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,At.__childrenNodeConstructor.EMPTY_NODE.updateChild(Je(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+V0(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=_0(this.value_):e+=this.value_,this.lazyHash_=p0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===At.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof At.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,l=At.VALUE_TYPE_ORDER.indexOf(n),u=At.VALUE_TYPE_ORDER.indexOf(s);return Y(l>=0,"Unknown leaf type: "+n),Y(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}At.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F0,q0;function nO(i){F0=i}function iO(i){q0=i}class rO extends gc{compare(e,n){const s=e.node.getPriority(),l=n.node.getPriority(),u=s.compareTo(l);return u===0?da(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Re.MIN}maxPost(){return new Re(rs,new At("[PRIORITY-POST]",q0))}makePost(e,n){const s=F0(e);return new Re(n,new At("[PRIORITY-POST]",s))}toString(){return".priority"}}const ht=new rO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=Math.log(2);class aO{constructor(e){const n=u=>parseInt(Math.log(u)/sO,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Yu=function(i,e,n,s){i.sort(e);const l=function(p,m){const _=m-p;let y,E;if(_===0)return null;if(_===1)return y=i[p],E=n?n(y):y,new Nt(E,y.node,Nt.BLACK,null,null);{const b=parseInt(_/2,10)+p,N=l(p,b),H=l(b+1,m);return y=i[b],E=n?n(y):y,new Nt(E,y.node,Nt.BLACK,N,H)}},u=function(p){let m=null,_=null,y=i.length;const E=function(N,H){const U=y-N,B=y;y-=N;const q=l(U+1,B),$=i[U],de=n?n($):$;b(new Nt(de,$.node,H,null,q))},b=function(N){m?(m.left=N,m=N):(_=N,m=N)};for(let N=0;N<p.count;++N){const H=p.nextBitIsOne(),U=Math.pow(2,p.count-(N+1));H?E(U,Nt.BLACK):(E(U,Nt.BLACK),E(U,Nt.RED))}return _},f=new aO(i.length),h=u(f);return new en(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd;const Ks={};class Ti{static get Default(){return Y(Ks&&ht,"ChildrenNode.ts has not been loaded"),Zd=Zd||new Ti({".priority":Ks},{".priority":ht}),Zd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=aa(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof en?n:null}hasIndex(e){return Mi(this.indexSet_,e.toString())}addIndex(e,n){Y(e!==ta,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=n.getIterator(Re.Wrap);let f=u.getNext();for(;f;)l=l||e.isDefinedOn(f.node),s.push(f),f=u.getNext();let h;l?h=Yu(s,e.getCompare()):h=Ks;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const _=Object.assign({},this.indexes_);return _[p]=h,new Ti(_,m)}addToIndexes(e,n){const s=Pu(this.indexes_,(l,u)=>{const f=aa(this.indexSet_,u);if(Y(f,"Missing index implementation for "+u),l===Ks)if(f.isDefinedOn(e.node)){const h=[],p=n.getIterator(Re.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&h.push(m),m=p.getNext();return h.push(e),Yu(h,f.getCompare())}else return Ks;else{const h=n.get(e.name);let p=l;return h&&(p=p.remove(new Re(e.name,h))),p.insert(e,e.node)}});return new Ti(s,this.indexSet_)}removeFromIndexes(e,n){const s=Pu(this.indexes_,l=>{if(l===Ks)return l;{const u=n.get(e.name);return u?l.remove(new Re(e.name,u)):l}});return new Ti(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l;class ge{static get EMPTY_NODE(){return _l||(_l=new ge(new en(up),null,Ti.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&j0(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_l}updatePriority(e){return this.children_.isEmpty()?this:new ge(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?_l:n}}getChild(e){const n=Ne(e);return n===null?this:this.getImmediateChild(n).getChild(Je(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Y(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new Re(e,n);let l,u;n.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(s,this.children_));const f=l.isEmpty()?_l:this.priorityNode_;return new ge(l,f,u)}}updateChild(e,n){const s=Ne(e);if(s===null)return n;{Y(Ne(e)!==".priority"||gr(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Je(e),n);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,l=0,u=!0;if(this.forEachChild(ht,(f,h)=>{n[f]=h.val(e),s++,u&&ge.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):u=!1}),!e&&u&&l<2*s){const f=[];for(const h in n)f[h]=n[h];return f}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+V0(this.getPriority().val())+":"),this.forEachChild(ht,(n,s)=>{const l=s.hash();l!==""&&(e+=":"+n+":"+l)}),this.lazyHash_=e===""?"":p0(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new Re(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Re(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Re(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Re.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Re.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===no?-1:0}withIndex(e){if(e===ta||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ge(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ta||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(ht),l=n.getIterator(ht);let u=s.getNext(),f=l.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=s.getNext(),f=l.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===ta?null:this.indexMap_.get(e.toString())}}ge.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class lO extends ge{constructor(){super(new en(up),ge.EMPTY_NODE,Ti.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ge.EMPTY_NODE}isEmpty(){return!1}}const no=new lO;Object.defineProperties(Re,{MIN:{value:new Re(la,ge.EMPTY_NODE)},MAX:{value:new Re(rs,no)}});B0.__EMPTY_NODE=ge.EMPTY_NODE;At.__childrenNodeConstructor=ge;tO(no);iO(no);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=!0;function qt(i,e=null){if(i===null)return ge.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const n=i;return new At(n,qt(e))}if(!(i instanceof Array)&&oO){const n=[];let s=!1;if(tn(i,(f,h)=>{if(f.substring(0,1)!=="."){const p=qt(h);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),n.push(new Re(f,p)))}}),n.length===0)return ge.EMPTY_NODE;const u=Yu(n,eO,f=>f.name,up);if(s){const f=Yu(n,ht.getCompare());return new ge(u,qt(e),new Ti({".priority":f},{".priority":ht}))}else return new ge(u,qt(e),Ti.Default)}else{let n=ge.EMPTY_NODE;return tn(i,(s,l)=>{if(Mi(i,s)&&s.substring(0,1)!=="."){const u=qt(l);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(s,u))}}),n.updatePriority(qt(e))}}nO(qt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO extends gc{constructor(e){super(),this.indexPath_=e,Y(!Oe(e)&&Ne(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),l=this.extractChild(n.node),u=s.compareTo(l);return u===0?da(e.name,n.name):u}makePost(e,n){const s=qt(e),l=ge.EMPTY_NODE.updateChild(this.indexPath_,s);return new Re(n,l)}maxPost(){const e=ge.EMPTY_NODE.updateChild(this.indexPath_,no);return new Re(rs,e)}toString(){return P0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO extends gc{compare(e,n){const s=e.node.compareTo(n.node);return s===0?da(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Re.MIN}maxPost(){return Re.MAX}makePost(e,n){const s=qt(e);return new Re(n,s)}toString(){return".value"}}const fO=new cO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(i){return{type:"value",snapshotNode:i}}function oa(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function Bl(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function Vl(i,e,n){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:n}}function dO(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e){this.index_=e}updateChild(e,n,s,l,u,f){Y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(f!=null&&(s.isEmpty()?e.hasChild(n)?f.trackChildChange(Bl(n,h)):Y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(oa(n,s)):f.trackChildChange(Vl(n,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(ht,(l,u)=>{n.hasChild(l)||s.trackChildChange(Bl(l,u))}),n.isLeafNode()||n.forEachChild(ht,(l,u)=>{if(e.hasChild(l)){const f=e.getImmediateChild(l);f.equals(u)||s.trackChildChange(Vl(l,u,f))}else s.trackChildChange(oa(l,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ge.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.indexedFilter_=new cp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=jl.getStartPost_(e),this.endPost_=jl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,l,u,f){return this.matches(new Re(n,s))||(s=ge.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,l,u,f)}updateFullNode(e,n,s){n.isLeafNode()&&(n=ge.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(ge.EMPTY_NODE);const u=this;return n.forEachChild(ht,(f,h)=>{u.matches(new Re(f,h))||(l=l.updateImmediateChild(f,ge.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new jl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,l,u,f){return this.rangedFilter_.matches(new Re(n,s))||(s=ge.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,l,u,f):this.fullLimitUpdateChild_(e,n,s,u,f)}updateFullNode(e,n,s){let l;if(n.isLeafNode()||n.isEmpty())l=ge.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=ge.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(ge.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let f=0;for(;u.hasNext();){const h=u.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:l=l.updateImmediateChild(h.name,ge.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,l,u){let f;if(this.reverse_){const y=this.index_.getCompare();f=(E,b)=>y(b,E)}else f=this.index_.getCompare();const h=e;Y(h.numChildren()===this.limit_,"");const p=new Re(n,s),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(h.hasChild(n)){const y=h.getImmediateChild(n);let E=l.getChildAfterChild(this.index_,m,this.reverse_);for(;E!=null&&(E.name===n||h.hasChild(E.name));)E=l.getChildAfterChild(this.index_,E,this.reverse_);const b=E==null?1:f(E,p);if(_&&!s.isEmpty()&&b>=0)return u!=null&&u.trackChildChange(Vl(n,s,y)),h.updateImmediateChild(n,s);{u!=null&&u.trackChildChange(Bl(n,y));const H=h.updateImmediateChild(n,ge.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u!=null&&u.trackChildChange(oa(E.name,E.node)),H.updateImmediateChild(E.name,E.node)):H}}else return s.isEmpty()?e:_&&f(m,p)>=0?(u!=null&&(u.trackChildChange(Bl(m.name,m.node)),u.trackChildChange(oa(n,s))),h.updateImmediateChild(n,s).updateImmediateChild(m.name,ge.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ht}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:la}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ht}copy(){const e=new fp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pO(i){return i.loadsAllData()?new cp(i.getIndex()):i.hasLimit()?new hO(i):new jl(i)}function my(i){const e={};if(i.isDefault())return e;let n;if(i.index_===ht?n="$priority":i.index_===fO?n="$value":i.index_===ta?n="$key":(Y(i.index_ instanceof uO,"Unrecognized index type!"),n=i.index_.toString()),e.orderBy=Ot(n),i.startSet_){const s=i.startAfterSet_?"startAfter":"startAt";e[s]=Ot(i.indexStartValue_),i.startNameSet_&&(e[s]+=","+Ot(i.indexStartName_))}if(i.endSet_){const s=i.endBeforeSet_?"endBefore":"endAt";e[s]=Ot(i.indexEndValue_),i.endNameSet_&&(e[s]+=","+Ot(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function gy(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let n=i.viewFrom_;n===""&&(i.isViewFromLeft()?n="l":n="r"),e.vf=n}return i.index_!==ht&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends L0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=eo("p:rest:"),this.listens_={}}listen(e,n,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=$u.getListenId_(e,s),h={};this.listens_[f]=h;const p=my(e._queryParams);this.restRequest_(u+".json",p,(m,_)=>{let y=_;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(u,y,!1,s),aa(this.listens_,f)===h){let E;m?m===401?E="permission_denied":E="rest_error:"+m:E="ok",l(E,null)}})}unlisten(e,n){const s=$u.getListenId_(e,n);delete this.listens_[s]}get(e){const n=my(e._queryParams),s=e._path.toString(),l=new jh;return this.restRequest_(s+".json",n,(u,f)=>{let h=f;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(n.auth=l.accessToken),u&&u.token&&(n.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Er(n);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=Ul(h.responseText)}catch{fn("Failed to parse JSON response for "+f+": "+h.responseText)}s(null,p)}else h.status!==401&&h.status!==404&&fn("Got unsuccessful REST response for "+f+" Status: "+h.status),s(h.status);s=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.rootNode_=ge.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(){return{value:null,children:new Map}}function Y0(i,e,n){if(Oe(e))i.value=n,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,n);else{const s=Ne(e);i.children.has(s)||i.children.set(s,Ku());const l=i.children.get(s);e=Je(e),Y0(l,e,n)}}function wh(i,e,n){i.value!==null?n(e,i.value):gO(i,(s,l)=>{const u=new We(e.toString()+"/"+s);wh(l,u,n)})}function gO(i,e){i.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&tn(this.last_,(s,l)=>{n[s]=n[s]-l}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=10*1e3,vO=30*1e3,yO=5*60*1e3;class EO{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new _O(e);const s=_y+(vO-_y)*Math.random();Il(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;tn(e,(l,u)=>{u>0&&Mi(this.statsToReport_,l)&&(n[l]=u,s=!0)}),s&&this.server_.reportStats(n),Il(this.reportStats_.bind(this),Math.floor(Math.random()*2*yO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Hn||(Hn={}));function $0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function dp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hp(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Hn.ACK_USER_WRITE,this.source=$0()}operationForChild(e){if(Oe(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new We(e));return new Wu(Fe(),n,this.revert)}}else return Y(Ne(this.path)===e,"operationForChild called for unrelated child."),new Wu(Je(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.source=e,this.path=n,this.type=Hn.LISTEN_COMPLETE}operationForChild(e){return Oe(this.path)?new Fl(this.source,Fe()):new Fl(this.source,Je(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Hn.OVERWRITE}operationForChild(e){return Oe(this.path)?new ss(this.source,Fe(),this.snap.getImmediateChild(e)):new ss(this.source,Je(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Hn.MERGE}operationForChild(e){if(Oe(this.path)){const n=this.children.subtree(new We(e));return n.isEmpty()?null:n.value?new ss(this.source,Fe(),n.value):new ql(this.source,Fe(),n)}else return Y(Ne(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ql(this.source,Je(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ne(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function bO(i,e,n,s){const l=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(dO(f.childName,f.snapshotNode))}),vl(i,l,"child_removed",e,s,n),vl(i,l,"child_added",e,s,n),vl(i,l,"child_moved",u,s,n),vl(i,l,"child_changed",e,s,n),vl(i,l,"value",e,s,n),l}function vl(i,e,n,s,l,u){const f=s.filter(h=>h.type===n);f.sort((h,p)=>wO(i,h,p)),f.forEach(h=>{const p=TO(i,h,u);l.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(p,i.query_))})})}function TO(i,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function wO(i,e,n){if(e.childName==null||n.childName==null)throw ca("Should only compare child_ events.");const s=new Re(e.childName,e.snapshotNode),l=new Re(n.childName,n.snapshotNode);return i.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(i,e){return{eventCache:i,serverCache:e}}function Dl(i,e,n,s){return _c(new as(e,n,s),i.serverCache)}function K0(i,e,n,s){return _c(i.eventCache,new as(e,n,s))}function Ch(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function ls(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd;const CO=()=>(Jd||(Jd=new en(cN)),Jd);class tt{static fromObject(e){let n=new tt(null);return tn(e,(s,l)=>{n=n.set(new We(s),l)}),n}constructor(e,n=CO()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Fe(),value:this.value};if(Oe(e))return null;{const s=Ne(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Je(e),n);return u!=null?{path:St(new We(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const n=Ne(e),s=this.children.get(n);return s!==null?s.subtree(Je(e)):new tt(null)}}set(e,n){if(Oe(e))return new tt(n,this.children);{const s=Ne(e),u=(this.children.get(s)||new tt(null)).set(Je(e),n),f=this.children.insert(s,u);return new tt(this.value,f)}}remove(e){if(Oe(e))return this.children.isEmpty()?new tt(null):new tt(null,this.children);{const n=Ne(e),s=this.children.get(n);if(s){const l=s.remove(Je(e));let u;return l.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,l),this.value===null&&u.isEmpty()?new tt(null):new tt(this.value,u)}else return this}}get(e){if(Oe(e))return this.value;{const n=Ne(e),s=this.children.get(n);return s?s.get(Je(e)):null}}setTree(e,n){if(Oe(e))return n;{const s=Ne(e),u=(this.children.get(s)||new tt(null)).setTree(Je(e),n);let f;return u.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,u),new tt(this.value,f)}}fold(e){return this.fold_(Fe(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(St(e,l),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Fe(),n)}findOnPath_(e,n,s){const l=this.value?s(n,this.value):!1;if(l)return l;if(Oe(e))return null;{const u=Ne(e),f=this.children.get(u);return f?f.findOnPath_(Je(e),St(n,u),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Fe(),n)}foreachOnPath_(e,n,s){if(Oe(e))return this;{this.value&&s(n,this.value);const l=Ne(e),u=this.children.get(l);return u?u.foreachOnPath_(Je(e),St(n,l),s):new tt(null)}}foreach(e){this.foreach_(Fe(),e)}foreach_(e,n){this.children.inorderTraversal((s,l)=>{l.foreach_(St(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.writeTree_=e}static empty(){return new Bn(new tt(null))}}function Ml(i,e,n){if(Oe(e))return new Bn(new tt(n));{const s=i.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const f=Jt(l,e);return u=u.updateChild(f,n),new Bn(i.writeTree_.set(l,u))}else{const l=new tt(n),u=i.writeTree_.setTree(e,l);return new Bn(u)}}}function vy(i,e,n){let s=i;return tn(n,(l,u)=>{s=Ml(s,St(e,l),u)}),s}function yy(i,e){if(Oe(e))return Bn.empty();{const n=i.writeTree_.setTree(e,new tt(null));return new Bn(n)}}function Rh(i,e){return os(i,e)!=null}function os(i,e){const n=i.writeTree_.findRootMostValueAndPath(e);return n!=null?i.writeTree_.get(n.path).getChild(Jt(n.path,e)):null}function Ey(i){const e=[],n=i.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ht,(s,l)=>{e.push(new Re(s,l))}):i.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new Re(s,l.value))}),e}function pr(i,e){if(Oe(e))return i;{const n=os(i,e);return n!=null?new Bn(new tt(n)):new Bn(i.writeTree_.subtree(e))}}function Ah(i){return i.writeTree_.isEmpty()}function ua(i,e){return W0(Fe(),i.writeTree_,e)}function W0(i,e,n){if(e.value!=null)return n.updateChild(i,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(Y(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):n=W0(St(i,l),u,n)}),!n.getChild(i).isEmpty()&&s!==null&&(n=n.updateChild(St(i,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(i,e){return J0(e,i)}function RO(i,e,n,s,l){Y(s>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:e,snap:n,writeId:s,visible:l}),l&&(i.visibleWrites=Ml(i.visibleWrites,e,n)),i.lastWriteId=s}function AO(i,e){for(let n=0;n<i.allWrites.length;n++){const s=i.allWrites[n];if(s.writeId===e)return s}return null}function NO(i,e){const n=i.allWrites.findIndex(h=>h.writeId===e);Y(n>=0,"removeWrite called with nonexistent writeId.");const s=i.allWrites[n];i.allWrites.splice(n,1);let l=s.visible,u=!1,f=i.allWrites.length-1;for(;l&&f>=0;){const h=i.allWrites[f];h.visible&&(f>=n&&OO(h,s.path)?l=!1:zn(s.path,h.path)&&(u=!0)),f--}if(l){if(u)return IO(i),!0;if(s.snap)i.visibleWrites=yy(i.visibleWrites,s.path);else{const h=s.children;tn(h,p=>{i.visibleWrites=yy(i.visibleWrites,St(s.path,p))})}return!0}else return!1}function OO(i,e){if(i.snap)return zn(i.path,e);for(const n in i.children)if(i.children.hasOwnProperty(n)&&zn(St(i.path,n),e))return!0;return!1}function IO(i){i.visibleWrites=Q0(i.allWrites,DO,Fe()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function DO(i){return i.visible}function Q0(i,e,n){let s=Bn.empty();for(let l=0;l<i.length;++l){const u=i[l];if(e(u)){const f=u.path;let h;if(u.snap)zn(n,f)?(h=Jt(n,f),s=Ml(s,h,u.snap)):zn(f,n)&&(h=Jt(f,n),s=Ml(s,Fe(),u.snap.getChild(h)));else if(u.children){if(zn(n,f))h=Jt(n,f),s=vy(s,h,u.children);else if(zn(f,n))if(h=Jt(f,n),Oe(h))s=vy(s,Fe(),u.children);else{const p=aa(u.children,Ne(h));if(p){const m=p.getChild(Je(h));s=Ml(s,Fe(),m)}}}else throw ca("WriteRecord should have .snap or .children")}}return s}function X0(i,e,n,s,l){if(!s&&!l){const u=os(i.visibleWrites,e);if(u!=null)return u;{const f=pr(i.visibleWrites,e);if(Ah(f))return n;if(n==null&&!Rh(f,Fe()))return null;{const h=n||ge.EMPTY_NODE;return ua(f,h)}}}else{const u=pr(i.visibleWrites,e);if(!l&&Ah(u))return n;if(!l&&n==null&&!Rh(u,Fe()))return null;{const f=function(m){return(m.visible||l)&&(!s||!~s.indexOf(m.writeId))&&(zn(m.path,e)||zn(e,m.path))},h=Q0(i.allWrites,f,e),p=n||ge.EMPTY_NODE;return ua(h,p)}}}function MO(i,e,n){let s=ge.EMPTY_NODE;const l=os(i.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(ht,(u,f)=>{s=s.updateImmediateChild(u,f)}),s;if(n){const u=pr(i.visibleWrites,e);return n.forEachChild(ht,(f,h)=>{const p=ua(pr(u,new We(f)),h);s=s.updateImmediateChild(f,p)}),Ey(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}else{const u=pr(i.visibleWrites,e);return Ey(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}}function kO(i,e,n,s,l){Y(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=St(e,n);if(Rh(i.visibleWrites,u))return null;{const f=pr(i.visibleWrites,u);return Ah(f)?l.getChild(n):ua(f,l.getChild(n))}}function LO(i,e,n,s){const l=St(e,n),u=os(i.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(n)){const f=pr(i.visibleWrites,l);return ua(f,s.getNode().getImmediateChild(n))}else return null}function xO(i,e){return os(i.visibleWrites,e)}function UO(i,e,n,s,l,u,f){let h;const p=pr(i.visibleWrites,e),m=os(p,Fe());if(m!=null)h=m;else if(n!=null)h=ua(p,n);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const _=[],y=f.getCompare(),E=u?h.getReverseIteratorFrom(s,f):h.getIteratorFrom(s,f);let b=E.getNext();for(;b&&_.length<l;)y(b,s)!==0&&_.push(b),b=E.getNext();return _}else return[]}function PO(){return{visibleWrites:Bn.empty(),allWrites:[],lastWriteId:-1}}function Qu(i,e,n,s){return X0(i.writeTree,i.treePath,e,n,s)}function mp(i,e){return MO(i.writeTree,i.treePath,e)}function Sy(i,e,n,s){return kO(i.writeTree,i.treePath,e,n,s)}function Xu(i,e){return xO(i.writeTree,St(i.treePath,e))}function zO(i,e,n,s,l,u){return UO(i.writeTree,i.treePath,e,n,s,l,u)}function gp(i,e,n){return LO(i.writeTree,i.treePath,e,n)}function Z0(i,e){return J0(St(i.treePath,e),i.writeTree)}function J0(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;Y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Y(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(s,Vl(s,e.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(s,Bl(s,l.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(s,oa(s,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(s,Vl(s,e.snapshotNode,l.oldSnap));else throw ca("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const eS=new BO;class _p{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new as(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gp(this.writes_,e,s)}}getChildAfterChild(e,n,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ls(this.viewCache_),u=zO(this.writes_,l,n,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(i){return{filter:i}}function jO(i,e){Y(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function FO(i,e,n,s,l){const u=new HO;let f,h;if(n.type===Hn.OVERWRITE){const m=n;m.source.fromUser?f=Nh(i,e,m.path,m.snap,s,l,u):(Y(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!Oe(m.path),f=Zu(i,e,m.path,m.snap,s,l,h,u))}else if(n.type===Hn.MERGE){const m=n;m.source.fromUser?f=GO(i,e,m.path,m.children,s,l,u):(Y(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),f=Oh(i,e,m.path,m.children,s,l,h,u))}else if(n.type===Hn.ACK_USER_WRITE){const m=n;m.revert?f=KO(i,e,m.path,s,l,u):f=YO(i,e,m.path,m.affectedTree,s,l,u)}else if(n.type===Hn.LISTEN_COMPLETE)f=$O(i,e,n.path,s,u);else throw ca("Unknown operation type: "+n.type);const p=u.getChanges();return qO(e,f,p),{viewCache:f,changes:p}}function qO(i,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=Ch(i);(n.length>0||!i.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&n.push(G0(Ch(e)))}}function tS(i,e,n,s,l,u){const f=e.eventCache;if(Xu(s,n)!=null)return e;{let h,p;if(Oe(n))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=ls(e),_=m instanceof ge?m:ge.EMPTY_NODE,y=mp(s,_);h=i.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const m=Qu(s,ls(e));h=i.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=Ne(n);if(m===".priority"){Y(gr(n)===1,"Can't have a priority with additional path components");const _=f.getNode();p=e.serverCache.getNode();const y=Sy(s,n,_,p);y!=null?h=i.filter.updatePriority(_,y):h=f.getNode()}else{const _=Je(n);let y;if(f.isCompleteForChild(m)){p=e.serverCache.getNode();const E=Sy(s,n,f.getNode(),p);E!=null?y=f.getNode().getImmediateChild(m).updateChild(_,E):y=f.getNode().getImmediateChild(m)}else y=gp(s,m,e.serverCache);y!=null?h=i.filter.updateChild(f.getNode(),m,y,_,l,u):h=f.getNode()}}return Dl(e,h,f.isFullyInitialized()||Oe(n),i.filter.filtersNodes())}}function Zu(i,e,n,s,l,u,f,h){const p=e.serverCache;let m;const _=f?i.filter:i.filter.getIndexedFilter();if(Oe(n))m=_.updateFullNode(p.getNode(),s,null);else if(_.filtersNodes()&&!p.isFiltered()){const b=p.getNode().updateChild(n,s);m=_.updateFullNode(p.getNode(),b,null)}else{const b=Ne(n);if(!p.isCompleteForPath(n)&&gr(n)>1)return e;const N=Je(n),U=p.getNode().getImmediateChild(b).updateChild(N,s);b===".priority"?m=_.updatePriority(p.getNode(),U):m=_.updateChild(p.getNode(),b,U,N,eS,null)}const y=K0(e,m,p.isFullyInitialized()||Oe(n),_.filtersNodes()),E=new _p(l,y,u);return tS(i,y,n,l,E,h)}function Nh(i,e,n,s,l,u,f){const h=e.eventCache;let p,m;const _=new _p(l,e,u);if(Oe(n))m=i.filter.updateFullNode(e.eventCache.getNode(),s,f),p=Dl(e,m,!0,i.filter.filtersNodes());else{const y=Ne(n);if(y===".priority")m=i.filter.updatePriority(e.eventCache.getNode(),s),p=Dl(e,m,h.isFullyInitialized(),h.isFiltered());else{const E=Je(n),b=h.getNode().getImmediateChild(y);let N;if(Oe(E))N=s;else{const H=_.getCompleteChild(y);H!=null?U0(E)===".priority"&&H.getChild(z0(E)).isEmpty()?N=H:N=H.updateChild(E,s):N=ge.EMPTY_NODE}if(b.equals(N))p=e;else{const H=i.filter.updateChild(h.getNode(),y,N,E,_,f);p=Dl(e,H,h.isFullyInitialized(),i.filter.filtersNodes())}}}return p}function by(i,e){return i.eventCache.isCompleteForChild(e)}function GO(i,e,n,s,l,u,f){let h=e;return s.foreach((p,m)=>{const _=St(n,p);by(e,Ne(_))&&(h=Nh(i,h,_,m,l,u,f))}),s.foreach((p,m)=>{const _=St(n,p);by(e,Ne(_))||(h=Nh(i,h,_,m,l,u,f))}),h}function Ty(i,e,n){return n.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function Oh(i,e,n,s,l,u,f,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;Oe(n)?m=s:m=new tt(null).setTree(n,s);const _=e.serverCache.getNode();return m.children.inorderTraversal((y,E)=>{if(_.hasChild(y)){const b=e.serverCache.getNode().getImmediateChild(y),N=Ty(i,b,E);p=Zu(i,p,new We(y),N,l,u,f,h)}}),m.children.inorderTraversal((y,E)=>{const b=!e.serverCache.isCompleteForChild(y)&&E.value===null;if(!_.hasChild(y)&&!b){const N=e.serverCache.getNode().getImmediateChild(y),H=Ty(i,N,E);p=Zu(i,p,new We(y),H,l,u,f,h)}}),p}function YO(i,e,n,s,l,u,f){if(Xu(l,n)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(Oe(n)&&p.isFullyInitialized()||p.isCompleteForPath(n))return Zu(i,e,n,p.getNode().getChild(n),l,u,h,f);if(Oe(n)){let m=new tt(null);return p.getNode().forEachChild(ta,(_,y)=>{m=m.set(new We(_),y)}),Oh(i,e,n,m,l,u,h,f)}else return e}else{let m=new tt(null);return s.foreach((_,y)=>{const E=St(n,_);p.isCompleteForPath(E)&&(m=m.set(_,p.getNode().getChild(E)))}),Oh(i,e,n,m,l,u,h,f)}}function $O(i,e,n,s,l){const u=e.serverCache,f=K0(e,u.getNode(),u.isFullyInitialized()||Oe(n),u.isFiltered());return tS(i,f,n,s,eS,l)}function KO(i,e,n,s,l,u){let f;if(Xu(s,n)!=null)return e;{const h=new _p(s,e,l),p=e.eventCache.getNode();let m;if(Oe(n)||Ne(n)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=Qu(s,ls(e));else{const y=e.serverCache.getNode();Y(y instanceof ge,"serverChildren would be complete if leaf node"),_=mp(s,y)}_=_,m=i.filter.updateFullNode(p,_,u)}else{const _=Ne(n);let y=gp(s,_,e.serverCache);y==null&&e.serverCache.isCompleteForChild(_)&&(y=p.getImmediateChild(_)),y!=null?m=i.filter.updateChild(p,_,y,Je(n),h,u):e.eventCache.getNode().hasChild(_)?m=i.filter.updateChild(p,_,ge.EMPTY_NODE,Je(n),h,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Qu(s,ls(e)),f.isLeafNode()&&(m=i.filter.updateFullNode(m,f,u)))}return f=e.serverCache.isFullyInitialized()||Xu(s,Fe())!=null,Dl(e,m,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new cp(s.getIndex()),u=pO(s);this.processor_=VO(u);const f=n.serverCache,h=n.eventCache,p=l.updateFullNode(ge.EMPTY_NODE,f.getNode(),null),m=u.updateFullNode(ge.EMPTY_NODE,h.getNode(),null),_=new as(p,f.isFullyInitialized(),l.filtersNodes()),y=new as(m,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=_c(y,_),this.eventGenerator_=new SO(this.query_)}get query(){return this.query_}}function QO(i){return i.viewCache_.serverCache.getNode()}function XO(i,e){const n=ls(i.viewCache_);return n&&(i.query._queryParams.loadsAllData()||!Oe(e)&&!n.getImmediateChild(Ne(e)).isEmpty())?n.getChild(e):null}function wy(i){return i.eventRegistrations_.length===0}function ZO(i,e){i.eventRegistrations_.push(e)}function Cy(i,e,n){const s=[];if(n){Y(e==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(n,l);f&&s.push(f)})}if(e){let l=[];for(let u=0;u<i.eventRegistrations_.length;++u){const f=i.eventRegistrations_[u];if(!f.matches(e))l.push(f);else if(e.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return s}function Ry(i,e,n,s){e.type===Hn.MERGE&&e.source.queryId!==null&&(Y(ls(i.viewCache_),"We should always have a full cache before handling merges"),Y(Ch(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,u=FO(i.processor_,l,e,n,s);return jO(i.processor_,u.viewCache),Y(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,nS(i,u.changes,u.viewCache.eventCache.getNode(),null)}function JO(i,e){const n=i.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ht,(u,f)=>{s.push(oa(u,f))}),n.isFullyInitialized()&&s.push(G0(n.getNode())),nS(i,s,n.getNode(),e)}function nS(i,e,n,s){const l=s?[s]:i.eventRegistrations_;return bO(i.eventGenerator_,e,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju;class eI{constructor(){this.views=new Map}}function tI(i){Y(!Ju,"__referenceConstructor has already been defined"),Ju=i}function nI(){return Y(Ju,"Reference.ts has not been loaded"),Ju}function iI(i){return i.views.size===0}function vp(i,e,n,s){const l=e.source.queryId;if(l!==null){const u=i.views.get(l);return Y(u!=null,"SyncTree gave us an op for an invalid query."),Ry(u,e,n,s)}else{let u=[];for(const f of i.views.values())u=u.concat(Ry(f,e,n,s));return u}}function rI(i,e,n,s,l){const u=e._queryIdentifier,f=i.views.get(u);if(!f){let h=Qu(n,l?s:null),p=!1;h?p=!0:s instanceof ge?(h=mp(n,s),p=!1):(h=ge.EMPTY_NODE,p=!1);const m=_c(new as(h,p,!1),new as(s,l,!1));return new WO(e,m)}return f}function sI(i,e,n,s,l,u){const f=rI(i,e,s,l,u);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,f),ZO(f,n),JO(f,n)}function aI(i,e,n,s){const l=e._queryIdentifier,u=[];let f=[];const h=_r(i);if(l==="default")for(const[p,m]of i.views.entries())f=f.concat(Cy(m,n,s)),wy(m)&&(i.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=i.views.get(l);p&&(f=f.concat(Cy(p,n,s)),wy(p)&&(i.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return h&&!_r(i)&&u.push(new(nI())(e._repo,e._path)),{removed:u,events:f}}function iS(i){const e=[];for(const n of i.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function na(i,e){let n=null;for(const s of i.views.values())n=n||XO(s,e);return n}function rS(i,e){if(e._queryParams.loadsAllData())return vc(i);{const s=e._queryIdentifier;return i.views.get(s)}}function sS(i,e){return rS(i,e)!=null}function _r(i){return vc(i)!=null}function vc(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec;function lI(i){Y(!ec,"__referenceConstructor has already been defined"),ec=i}function oI(){return Y(ec,"Reference.ts has not been loaded"),ec}let uI=1;class Ay{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tt(null),this.pendingWriteTree_=PO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cI(i,e,n,s,l){return RO(i.pendingWriteTree_,e,n,s,l),l?io(i,new ss($0(),e,n)):[]}function Zs(i,e,n=!1){const s=AO(i.pendingWriteTree_,e);if(NO(i.pendingWriteTree_,e)){let u=new tt(null);return s.snap!=null?u=u.set(Fe(),!0):tn(s.children,f=>{u=u.set(new We(f),!0)}),io(i,new Wu(s.path,u,n))}else return[]}function yc(i,e,n){return io(i,new ss(dp(),e,n))}function fI(i,e,n){const s=tt.fromObject(n);return io(i,new ql(dp(),e,s))}function dI(i,e){return io(i,new Fl(dp(),e))}function hI(i,e,n){const s=yp(i,n);if(s){const l=Ep(s),u=l.path,f=l.queryId,h=Jt(u,e),p=new Fl(hp(f),h);return Sp(i,u,p)}else return[]}function Ih(i,e,n,s,l=!1){const u=e._path,f=i.syncPointTree_.get(u);let h=[];if(f&&(e._queryIdentifier==="default"||sS(f,e))){const p=aI(f,e,n,s);iI(f)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const m=p.removed;if(h=p.events,!l){const _=m.findIndex(E=>E._queryParams.loadsAllData())!==-1,y=i.syncPointTree_.findOnPath(u,(E,b)=>_r(b));if(_&&!y){const E=i.syncPointTree_.subtree(u);if(!E.isEmpty()){const b=gI(E);for(let N=0;N<b.length;++N){const H=b[N],U=H.query,B=uS(i,H);i.listenProvider_.startListening(kl(U),tc(i,U),B.hashFn,B.onComplete)}}}!y&&m.length>0&&!s&&(_?i.listenProvider_.stopListening(kl(e),null):m.forEach(E=>{const b=i.queryToTagMap.get(Ec(E));i.listenProvider_.stopListening(kl(E),b)}))}_I(i,m)}return h}function pI(i,e,n,s){const l=yp(i,s);if(l!=null){const u=Ep(l),f=u.path,h=u.queryId,p=Jt(f,e),m=new ss(hp(h),p,n);return Sp(i,f,m)}else return[]}function mI(i,e,n,s){const l=yp(i,s);if(l){const u=Ep(l),f=u.path,h=u.queryId,p=Jt(f,e),m=tt.fromObject(n),_=new ql(hp(h),p,m);return Sp(i,f,_)}else return[]}function Ny(i,e,n,s=!1){const l=e._path;let u=null,f=!1;i.syncPointTree_.foreachOnPath(l,(E,b)=>{const N=Jt(E,l);u=u||na(b,N),f=f||_r(b)});let h=i.syncPointTree_.get(l);h?(f=f||_r(h),u=u||na(h,Fe())):(h=new eI,i.syncPointTree_=i.syncPointTree_.set(l,h));let p;u!=null?p=!0:(p=!1,u=ge.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((b,N)=>{const H=na(N,Fe());H&&(u=u.updateImmediateChild(b,H))}));const m=sS(h,e);if(!m&&!e._queryParams.loadsAllData()){const E=Ec(e);Y(!i.queryToTagMap.has(E),"View does not exist, but we have a tag");const b=vI();i.queryToTagMap.set(E,b),i.tagToQueryMap.set(b,E)}const _=pp(i.pendingWriteTree_,l);let y=sI(h,e,n,_,u,p);if(!m&&!f&&!s){const E=rS(h,e);y=y.concat(yI(i,e,E))}return y}function aS(i,e,n){const l=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(e,(f,h)=>{const p=Jt(f,e),m=na(h,p);if(m)return m});return X0(l,e,u,n,!0)}function io(i,e){return lS(e,i.syncPointTree_,null,pp(i.pendingWriteTree_,Fe()))}function lS(i,e,n,s){if(Oe(i.path))return oS(i,e,n,s);{const l=e.get(Fe());n==null&&l!=null&&(n=na(l,Fe()));let u=[];const f=Ne(i.path),h=i.operationForChild(f),p=e.children.get(f);if(p&&h){const m=n?n.getImmediateChild(f):null,_=Z0(s,f);u=u.concat(lS(h,p,m,_))}return l&&(u=u.concat(vp(l,i,s,n))),u}}function oS(i,e,n,s){const l=e.get(Fe());n==null&&l!=null&&(n=na(l,Fe()));let u=[];return e.children.inorderTraversal((f,h)=>{const p=n?n.getImmediateChild(f):null,m=Z0(s,f),_=i.operationForChild(f);_&&(u=u.concat(oS(_,h,p,m)))}),l&&(u=u.concat(vp(l,i,s,n))),u}function uS(i,e){const n=e.query,s=tc(i,n);return{hashFn:()=>(QO(e)||ge.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?hI(i,n._path,s):dI(i,n._path);{const u=hN(l,n);return Ih(i,n,null,u)}}}}function tc(i,e){const n=Ec(e);return i.queryToTagMap.get(n)}function Ec(i){return i._path.toString()+"$"+i._queryIdentifier}function yp(i,e){return i.tagToQueryMap.get(e)}function Ep(i){const e=i.indexOf("$");return Y(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new We(i.substr(0,e))}}function Sp(i,e,n){const s=i.syncPointTree_.get(e);Y(s,"Missing sync point for query tag that we're tracking");const l=pp(i.pendingWriteTree_,e);return vp(s,n,l,null)}function gI(i){return i.fold((e,n,s)=>{if(n&&_r(n))return[vc(n)];{let l=[];return n&&(l=iS(n)),tn(s,(u,f)=>{l=l.concat(f)}),l}})}function kl(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(oI())(i._repo,i._path):i}function _I(i,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const l=Ec(s),u=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(u)}}}function vI(){return uI++}function yI(i,e,n){const s=e._path,l=tc(i,e),u=uS(i,n),f=i.listenProvider_.startListening(kl(e),l,u.hashFn,u.onComplete),h=i.syncPointTree_.subtree(s);if(l)Y(!_r(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((m,_,y)=>{if(!Oe(m)&&_&&_r(_))return[vc(_).query];{let E=[];return _&&(E=E.concat(iS(_).map(b=>b.query))),tn(y,(b,N)=>{E=E.concat(N)}),E}});for(let m=0;m<p.length;++m){const _=p[m];i.listenProvider_.stopListening(kl(_),tc(i,_))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new bp(n)}node(){return this.node_}}class Tp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=St(this.path_,e);return new Tp(this.syncTree_,n)}node(){return aS(this.syncTree_,this.path_)}}const EI=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Oy=function(i,e,n){if(!i||typeof i!="object")return i;if(Y(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return SI(i[".sv"],e,n);if(typeof i[".sv"]=="object")return bI(i[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},SI=function(i,e,n){switch(i){case"timestamp":return n.timestamp;default:Y(!1,"Unexpected server value: "+i)}},bI=function(i,e,n){i.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const s=i.increment;typeof s!="number"&&Y(!1,"Unexpected increment value: "+s);const l=e.node();if(Y(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const f=l.getValue();return typeof f!="number"?s:f+s},TI=function(i,e,n,s){return wp(e,new Tp(n,i),s)},wI=function(i,e,n){return wp(i,new bp(e),n)};function wp(i,e,n){const s=i.getPriority().val(),l=Oy(s,e.getImmediateChild(".priority"),n);let u;if(i.isLeafNode()){const f=i,h=Oy(f.getValue(),e,n);return h!==f.getValue()||l!==f.getPriority().val()?new At(h,qt(l)):i}else{const f=i;return u=f,l!==f.getPriority().val()&&(u=u.updatePriority(new At(l))),f.forEachChild(ht,(h,p)=>{const m=wp(p,e.getImmediateChild(h),n);m!==p&&(u=u.updateImmediateChild(h,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Rp(i,e){let n=e instanceof We?e:new We(e),s=i,l=Ne(n);for(;l!==null;){const u=aa(s.node.children,l)||{children:{},childCount:0};s=new Cp(l,s,u),n=Je(n),l=Ne(n)}return s}function ha(i){return i.node.value}function cS(i,e){i.node.value=e,Dh(i)}function fS(i){return i.node.childCount>0}function CI(i){return ha(i)===void 0&&!fS(i)}function Sc(i,e){tn(i.node.children,(n,s)=>{e(new Cp(n,i,s))})}function dS(i,e,n,s){n&&e(i),Sc(i,l=>{dS(l,e,!0)})}function RI(i,e,n){let s=i.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function ro(i){return new We(i.parent===null?i.name:ro(i.parent)+"/"+i.name)}function Dh(i){i.parent!==null&&AI(i.parent,i.name,i)}function AI(i,e,n){const s=CI(n),l=Mi(i.node.children,e);s&&l?(delete i.node.children[e],i.node.childCount--,Dh(i)):!s&&!l&&(i.node.children[e]=n.node,i.node.childCount++,Dh(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=/[\[\].#$\/\u0000-\u001F\u007F]/,OI=/[\[\].#$\u0000-\u001F\u007F]/,eh=10*1024*1024,hS=function(i){return typeof i=="string"&&i.length!==0&&!NI.test(i)},pS=function(i){return typeof i=="string"&&i.length!==0&&!OI.test(i)},II=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),pS(i)},mS=function(i,e,n){const s=n instanceof We?new YN(n,i):n;if(e===void 0)throw new Error(i+"contains undefined "+Qr(s));if(typeof e=="function")throw new Error(i+"contains a function "+Qr(s)+" with contents = "+e.toString());if(m0(e))throw new Error(i+"contains "+e.toString()+" "+Qr(s));if(typeof e=="string"&&e.length>eh/3&&dc(e)>eh)throw new Error(i+"contains a string greater than "+eh+" utf8 bytes "+Qr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(tn(e,(f,h)=>{if(f===".value")l=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!hS(f)))throw new Error(i+" contains an invalid key ("+f+") "+Qr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$N(s,f),mS(i,h,s),KN(s)}),l&&u)throw new Error(i+' contains ".value" child '+Qr(s)+" in addition to actual children.")}},gS=function(i,e,n,s){if(!pS(n))throw new Error(RE(i,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},DI=function(i,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gS(i,e,n)},MI=function(i,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!hS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!II(n))throw new Error(RE(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _S(i,e){let n=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();n!==null&&!lp(u,n.path)&&(i.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(l)}n&&i.eventLists_.push(n)}function vS(i,e,n){_S(i,n),yS(i,s=>lp(s,e))}function us(i,e,n){_S(i,n),yS(i,s=>zn(s,e)||zn(e,s))}function yS(i,e){i.recursionDepth_++;let n=!0;for(let s=0;s<i.eventLists_.length;s++){const l=i.eventLists_[s];if(l){const u=l.path;e(u)?(LI(i.eventLists_[s]),i.eventLists_[s]=null):n=!1}}n&&(i.eventLists_=[]),i.recursionDepth_--}function LI(i){for(let e=0;e<i.events.length;e++){const n=i.events[e];if(n!==null){i.events[e]=null;const s=n.getEventRunner();Ol&&Ft("event: "+n.toString()),to(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="repo_interrupt",UI=25;class PI{constructor(e,n,s,l){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ku(),this.transactionQueueTree_=new Cp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zI(i,e,n){if(i.stats_=sp(i.repoInfo_),i.forceRestClient_||_N())i.server_=new $u(i.repoInfo_,(s,l,u,f)=>{Iy(i,s,l,u,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Dy(i,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ot(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}i.persistentConnection_=new Ri(i.repoInfo_,e,(s,l,u,f)=>{Iy(i,s,l,u,f)},s=>{Dy(i,s)},s=>{BI(i,s)},i.authTokenProvider_,i.appCheckProvider_,n),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(s=>{i.server_.refreshAuthToken(s)}),i.appCheckProvider_.addTokenChangeListener(s=>{i.server_.refreshAppCheckToken(s.token)}),i.statsReporter_=bN(i.repoInfo_,()=>new EO(i.stats_,i.server_)),i.infoData_=new mO,i.infoSyncTree_=new Ay({startListening:(s,l,u,f)=>{let h=[];const p=i.infoData_.getNode(s._path);return p.isEmpty()||(h=yc(i.infoSyncTree_,s._path,p),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),Ap(i,"connected",!1),i.serverSyncTree_=new Ay({startListening:(s,l,u,f)=>(i.server_.listen(s,u,l,(h,p)=>{const m=f(h,p);us(i.eventQueue_,s._path,m)}),[]),stopListening:(s,l)=>{i.server_.unlisten(s,l)}})}function HI(i){const n=i.infoData_.getNode(new We(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ES(i){return EI({timestamp:HI(i)})}function Iy(i,e,n,s,l){i.dataUpdateCount++;const u=new We(e);n=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,n):n;let f=[];if(l)if(s){const p=Pu(n,m=>qt(m));f=mI(i.serverSyncTree_,u,p,l)}else{const p=qt(n);f=pI(i.serverSyncTree_,u,p,l)}else if(s){const p=Pu(n,m=>qt(m));f=fI(i.serverSyncTree_,u,p)}else{const p=qt(n);f=yc(i.serverSyncTree_,u,p)}let h=u;f.length>0&&(h=Op(i,u)),us(i.eventQueue_,h,f)}function Dy(i,e){Ap(i,"connected",e),e===!1&&jI(i)}function BI(i,e){tn(e,(n,s)=>{Ap(i,n,s)})}function Ap(i,e,n){const s=new We("/.info/"+e),l=qt(n);i.infoData_.updateSnapshot(s,l);const u=yc(i.infoSyncTree_,s,l);us(i.eventQueue_,s,u)}function VI(i){return i.nextWriteId_++}function jI(i){SS(i,"onDisconnectEvents");const e=ES(i),n=Ku();wh(i.onDisconnect_,Fe(),(l,u)=>{const f=TI(l,u,i.serverSyncTree_,e);Y0(n,l,f)});let s=[];wh(n,Fe(),(l,u)=>{s=s.concat(yc(i.serverSyncTree_,l,u));const f=KI(i,l);Op(i,f)}),i.onDisconnect_=Ku(),us(i.eventQueue_,Fe(),s)}function FI(i,e,n){let s;Ne(e._path)===".info"?s=Ny(i.infoSyncTree_,e,n):s=Ny(i.serverSyncTree_,e,n),vS(i.eventQueue_,e._path,s)}function qI(i,e,n){let s;Ne(e._path)===".info"?s=Ih(i.infoSyncTree_,e,n):s=Ih(i.serverSyncTree_,e,n),vS(i.eventQueue_,e._path,s)}function GI(i){i.persistentConnection_&&i.persistentConnection_.interrupt(xI)}function SS(i,...e){let n="";i.persistentConnection_&&(n=i.persistentConnection_.id+":"),Ft(n,...e)}function bS(i,e,n){return aS(i.serverSyncTree_,e,n)||ge.EMPTY_NODE}function Np(i,e=i.transactionQueueTree_){if(e||bc(i,e),ha(e)){const n=wS(i,e);Y(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&YI(i,ro(e),n)}else fS(e)&&Sc(e,n=>{Np(i,n)})}function YI(i,e,n){const s=n.map(m=>m.currentWriteId),l=bS(i,e,s);let u=l;const f=l.hash();for(let m=0;m<n.length;m++){const _=n[m];Y(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const y=Jt(e,_.path);u=u.updateChild(y,_.currentOutputSnapshotRaw)}const h=u.val(!0),p=e;i.server_.put(p.toString(),h,m=>{SS(i,"transaction put response",{path:p.toString(),status:m});let _=[];if(m==="ok"){const y=[];for(let E=0;E<n.length;E++)n[E].status=2,_=_.concat(Zs(i.serverSyncTree_,n[E].currentWriteId)),n[E].onComplete&&y.push(()=>n[E].onComplete(null,!0,n[E].currentOutputSnapshotResolved)),n[E].unwatcher();bc(i,Rp(i.transactionQueueTree_,e)),Np(i,i.transactionQueueTree_),us(i.eventQueue_,e,_);for(let E=0;E<y.length;E++)to(y[E])}else{if(m==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{fn("transaction at "+p.toString()+" failed: "+m);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=m}Op(i,e)}},f)}function Op(i,e){const n=TS(i,e),s=ro(n),l=wS(i,n);return $I(i,l,s),s}function $I(i,e,n){if(e.length===0)return;const s=[];let l=[];const f=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],m=Jt(n,p.path);let _=!1,y;if(Y(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,y=p.abortReason,l=l.concat(Zs(i.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=UI)_=!0,y="maxretry",l=l.concat(Zs(i.serverSyncTree_,p.currentWriteId,!0));else{const E=bS(i,p.path,f);p.currentInputSnapshot=E;const b=e[h].update(E.val());if(b!==void 0){mS("transaction failed: Data returned ",b,p.path);let N=qt(b);typeof b=="object"&&b!=null&&Mi(b,".priority")||(N=N.updatePriority(E.getPriority()));const U=p.currentWriteId,B=ES(i),q=wI(N,E,B);p.currentOutputSnapshotRaw=N,p.currentOutputSnapshotResolved=q,p.currentWriteId=VI(i),f.splice(f.indexOf(U),1),l=l.concat(cI(i.serverSyncTree_,p.path,q,p.currentWriteId,p.applyLocally)),l=l.concat(Zs(i.serverSyncTree_,U,!0))}else _=!0,y="nodata",l=l.concat(Zs(i.serverSyncTree_,p.currentWriteId,!0))}us(i.eventQueue_,n,l),l=[],_&&(e[h].status=2,function(E){setTimeout(E,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(y),!1,null))))}bc(i,i.transactionQueueTree_);for(let h=0;h<s.length;h++)to(s[h]);Np(i,i.transactionQueueTree_)}function TS(i,e){let n,s=i.transactionQueueTree_;for(n=Ne(e);n!==null&&ha(s)===void 0;)s=Rp(s,n),e=Je(e),n=Ne(e);return s}function wS(i,e){const n=[];return CS(i,e,n),n.sort((s,l)=>s.order-l.order),n}function CS(i,e,n){const s=ha(e);if(s)for(let l=0;l<s.length;l++)n.push(s[l]);Sc(e,l=>{CS(i,l,n)})}function bc(i,e){const n=ha(e);if(n){let s=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[s]=n[l],s++);n.length=s,cS(e,n.length>0?n:void 0)}Sc(e,s=>{bc(i,s)})}function KI(i,e){const n=ro(TS(i,e)),s=Rp(i.transactionQueueTree_,e);return RI(s,l=>{th(i,l)}),th(i,s),dS(s,l=>{th(i,l)}),n}function th(i,e){const n=ha(e);if(n){const s=[];let l=[],u=-1;for(let f=0;f<n.length;f++)n[f].status===3||(n[f].status===1?(Y(u===f-1,"All SENT items should be at beginning of queue."),u=f,n[f].status=3,n[f].abortReason="set"):(Y(n[f].status===0,"Unexpected transaction status in abort"),n[f].unwatcher(),l=l.concat(Zs(i.serverSyncTree_,n[f].currentWriteId,!0)),n[f].onComplete&&s.push(n[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?cS(e,void 0):n.length=u+1,us(i.eventQueue_,ro(e),l);for(let f=0;f<s.length;f++)to(s[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(i){let e="";const n=i.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let l=n[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function QI(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const n of i.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):fn(`Invalid query segment '${n}' in query '${i}'`)}return e}const My=function(i,e){const n=XI(i),s=n.namespace;n.domain==="firebase.com"&&Di(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Di("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||oN();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new A0(n.host,n.secure,s,l,e,"",s!==n.subdomain),path:new We(n.pathString)}},XI=function(i){let e="",n="",s="",l="",u="",f=!0,h="https",p=443;if(typeof i=="string"){let m=i.indexOf("//");m>=0&&(h=i.substring(0,m-1),i=i.substring(m+2));let _=i.indexOf("/");_===-1&&(_=i.length);let y=i.indexOf("?");y===-1&&(y=i.length),e=i.substring(0,Math.min(_,y)),_<y&&(l=WI(i.substring(_,y)));const E=QI(i.substring(Math.min(i.length,y)));m=e.indexOf(":"),m>=0?(f=h==="https"||h==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const b=e.slice(0,m);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{const N=e.indexOf(".");s=e.substring(0,N).toLowerCase(),n=e.substring(N+1),u=s}"ns"in E&&(u=E.ns)}return{host:e,port:p,domain:n,subdomain:s,secure:f,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,s,l){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ot(this.snapshot.exportVal())}}class JI{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,s,l){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=l}get key(){return Oe(this._path)?null:U0(this._path)}get ref(){return new Sr(this._repo,this._path)}get _queryIdentifier(){const e=gy(this._queryParams),n=ip(e);return n==="{}"?"default":n}get _queryObject(){return gy(this._queryParams)}isEqual(e){if(e=Dt(e),!(e instanceof Ip))return!1;const n=this._repo===e._repo,s=lp(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return n&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+GN(this._path)}}class Sr extends Ip{constructor(e,n){super(e,n,new fp,!1)}get parent(){const e=z0(this._path);return e===null?null:new Sr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class nc{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new We(e),s=Mh(this.ref,e);return new nc(this._node.getChild(n),s,ht)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new nc(l,Mh(this.ref,s),ht)))}hasChild(e){const n=new We(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function t1(i,e){return i=Dt(i),i._checkNotDeleted("ref"),Mh(i._root,e)}function Mh(i,e){return i=Dt(i),Ne(i._path)===null?DI("child","path",e):gS("child","path",e),new Sr(i._repo,St(i._path,e))}class Dp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new ZI("value",this,new nc(e.snapshotNode,new Sr(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new JI(this,e,n):null}matches(e){return e instanceof Dp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function n1(i,e,n,s,l){const u=new e1(n,void 0),f=new Dp(u);return FI(i._repo,i,f),()=>qI(i._repo,i,f)}function i1(i,e,n,s){return n1(i,"value",e)}tI(Sr);lI(Sr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="FIREBASE_DATABASE_EMULATOR_HOST",kh={};let s1=!1;function a1(i,e,n,s){i.repoInfo_=new A0(e,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(i.authTokenProvider_=s)}function l1(i,e,n,s,l){let u=s||i.options.databaseURL;u===void 0&&(i.options.projectId||Di("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ft("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=My(u,l),h=f.repoInfo,p;typeof process<"u"&&Zv&&(p=Zv[r1]),p?(u=`http://${p}?ns=${h.namespace}`,f=My(u,l),h=f.repoInfo):f.repoInfo.secure;const m=new yN(i.name,i.options,e);MI("Invalid Firebase Database URL",f),Oe(f.path)||Di("Database URL must point to the root of a Firebase Database (not including a child path).");const _=u1(h,i,m,new vN(i,n));return new c1(_,i)}function o1(i,e){const n=kh[e];(!n||n[i.key]!==i)&&Di(`Database ${e}(${i.repoInfo_}) has already been deleted.`),GI(i),delete n[i.key]}function u1(i,e,n,s){let l=kh[e.name];l||(l={},kh[e.name]=l);let u=l[i.toURLString()];return u&&Di("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new PI(i,s1,n,s),l[i.toURLString()]=u,u}class c1{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sr(this._repo,Fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(o1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Di("Cannot call "+e+" on a deleted database.")}}function f1(i=IE(),e){const n=Gh(i,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=Mw("database");s&&d1(n,...s)}return n}function d1(i,e,n,s={}){i=Dt(i),i._checkNotDeleted("useEmulator");const l=`${e}:${n}`,u=i._repoInternal;if(i._instanceStarted){if(l===i._repoInternal.repoInfo_.host&&ns(s,u.repoInfo_.emulatorOptions))return;Di("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&Di('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Du(Du.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:kw(s.mockUserToken,i.app.options.projectId);f=new Du(h)}a1(u,l,s,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(i){nN(ki),mr(new Ai("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return l1(s,l,u,n)},"PUBLIC").setMultipleInstances(!0)),Wn(Jv,ey,i),Wn(Jv,ey,"esm2017")}Ri.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};Ri.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};h1();const p1={apiKey:"AIzaSyAs9bhyCwko9COM7FzI7zwel8MlsefpYq8",authDomain:"granjastar-dc53a.firebaseapp.com",databaseURL:"https://granjastar-dc53a-default-rtdb.firebaseio.com",projectId:"granjastar-dc53a",storageBucket:"granjastar-dc53a.firebasestorage.app",messagingSenderId:"72736281745",appId:"1:72736281745:web:acc2948901b26033029b30"},RS=OE(p1),Mp=np(RS);VR(Mp,i0).then(()=>{console.log("Persistência configurada")}).catch(i=>{console.error("Erro ao configurar a persistência:",i)});const m1=f1(RS),AS=k.createContext(),Tc=()=>k.useContext(AS),g1=({children:i})=>{const[e,n]=k.useState(null);return k.useEffect(()=>{const s=Mp.onAuthStateChanged(l=>{n(l)});return()=>s()},[]),Le.jsx(AS.Provider,{value:{user:e,setUser:n},children:i})};var yl={},ky;function _1(){if(ky)return yl;ky=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.parse=f,yl.serialize=m;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function f(E,b){const N=new u,H=E.length;if(H<2)return N;const U=(b==null?void 0:b.decode)||_;let B=0;do{const q=E.indexOf("=",B);if(q===-1)break;const $=E.indexOf(";",B),de=$===-1?H:$;if(q>de){B=E.lastIndexOf(";",q-1)+1;continue}const A=h(E,B,q),te=p(E,q,A),Ee=E.slice(A,te);if(N[Ee]===void 0){let ce=h(E,q+1,de),G=p(E,de,ce);const ae=U(E.slice(ce,G));N[Ee]=ae}B=de+1}while(B<H);return N}function h(E,b,N){do{const H=E.charCodeAt(b);if(H!==32&&H!==9)return b}while(++b<N);return N}function p(E,b,N){for(;b>N;){const H=E.charCodeAt(--b);if(H!==32&&H!==9)return b+1}return N}function m(E,b,N){const H=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(E))throw new TypeError(`argument name is invalid: ${E}`);const U=H(b);if(!e.test(U))throw new TypeError(`argument val is invalid: ${b}`);let B=E+"="+U;if(!N)return B;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);B+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);B+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);B+="; Path="+N.path}if(N.expires){if(!y(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);B+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(B+="; HttpOnly"),N.secure&&(B+="; Secure"),N.partitioned&&(B+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return B}function _(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function y(E){return l.call(E)==="[object Date]"}return yl}_1();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var NS=i=>{throw TypeError(i)},v1=(i,e,n)=>e.has(i)||NS("Cannot "+n),nh=(i,e,n)=>(v1(i,e,"read from private field"),n?n.call(i):e.get(i)),y1=(i,e,n)=>e.has(i)?NS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,n),Ly="popstate";function E1(i={}){function e(l,u){let{pathname:f="/",search:h="",hash:p=""}=Li(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Gl("",{pathname:f,search:h,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let f=l.document.querySelector("base"),h="";if(f&&f.getAttribute("href")){let p=l.location.href,m=p.indexOf("#");h=m===-1?p:p.slice(0,m)}return h+"#"+(typeof u=="string"?u:vr(u))}function s(l,u){bt(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return b1(e,n,s,i)}function Me(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function bt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function S1(){return Math.random().toString(36).substring(2,10)}function xy(i,e){return{usr:i.state,key:i.key,idx:e}}function Gl(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Li(e):e,state:n,key:e&&e.key||s||S1()}}function vr({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Li(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function b1(i,e,n,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,h="POP",p=null,m=_();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function _(){return(f.state||{idx:null}).idx}function y(){h="POP";let U=_(),B=U==null?null:U-m;m=U,p&&p({action:h,location:H.location,delta:B})}function E(U,B){h="PUSH";let q=Gl(H.location,U,B);n&&n(q,U),m=_()+1;let $=xy(q,m),de=H.createHref(q);try{f.pushState($,"",de)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;l.location.assign(de)}u&&p&&p({action:h,location:H.location,delta:1})}function b(U,B){h="REPLACE";let q=Gl(H.location,U,B);n&&n(q,U),m=_();let $=xy(q,m),de=H.createHref(q);f.replaceState($,"",de),u&&p&&p({action:h,location:H.location,delta:0})}function N(U){let B=l.location.origin!=="null"?l.location.origin:l.location.href,q=typeof U=="string"?U:vr(U);return q=q.replace(/ $/,"%20"),Me(B,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,B)}let H={get action(){return h},get location(){return i(l,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Ly,y),p=U,()=>{l.removeEventListener(Ly,y),p=null}},createHref(U){return e(l,U)},createURL:N,encodeLocation(U){let B=N(U);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:E,replace:b,go(U){return f.go(U)}};return H}var Rl,Uy=class{constructor(i){if(y1(this,Rl,new Map),i)for(let[e,n]of i)this.set(e,n)}get(i){if(nh(this,Rl).has(i))return nh(this,Rl).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,e){nh(this,Rl).set(i,e)}};Rl=new WeakMap;var T1=new Set(["lazy","caseSensitive","path","id","index","children"]);function w1(i){return i.index===!0}function ic(i,e,n=[],s={}){return i.map((l,u)=>{let f=[...n,String(u)],h=typeof l.id=="string"?l.id:f.join("-");if(Me(l.index!==!0||!l.children,"Cannot specify children on an index route"),Me(!s[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),w1(l)){let p={...l,...e(l),id:h};return s[h]=p,p}else{let p={...l,...e(l),id:h,children:void 0};return s[h]=p,l.children&&(p.children=ic(l.children,e,f,s)),p}})}function fr(i,e,n="/"){return Mu(i,e,n,!1)}function Mu(i,e,n,s){let l=typeof e=="string"?Li(e):e,u=On(l.pathname||"/",n);if(u==null)return null;let f=OS(i);R1(f);let h=null;for(let p=0;h==null&&p<f.length;++p){let m=P1(u);h=x1(f[p],m,s)}return h}function C1(i,e){let{route:n,pathname:s,params:l}=i;return{id:n.id,pathname:s,params:l,data:e[n.id],handle:n.handle}}function OS(i,e=[],n=[],s=""){let l=(u,f,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Me(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let m=Zn([s,p.relativePath]),_=n.concat(p);u.children&&u.children.length>0&&(Me(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),OS(u.children,e,_,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:k1(m,u.index),routesMeta:_})};return i.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,f);else for(let p of IS(u.path))l(u,f,p)}),e}function IS(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=IS(s.join("/")),h=[];return h.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&h.push(...f),h.map(p=>i.startsWith("/")&&p===""?"/":p)}function R1(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:L1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var A1=/^:[\w-]+$/,N1=3,O1=2,I1=1,D1=10,M1=-2,Py=i=>i==="*";function k1(i,e){let n=i.split("/"),s=n.length;return n.some(Py)&&(s+=M1),e&&(s+=O1),n.filter(l=>!Py(l)).reduce((l,u)=>l+(A1.test(u)?N1:u===""?I1:D1),s)}function L1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,l)=>s===e[l])?i[i.length-1]-e[e.length-1]:0}function x1(i,e,n=!1){let{routesMeta:s}=i,l={},u="/",f=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",y=rc({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),E=p.route;if(!y&&m&&n&&!s[s.length-1].route.index&&(y=rc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!y)return null;Object.assign(l,y.params),f.push({params:l,pathname:Zn([u,y.pathname]),pathnameBase:B1(Zn([u,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(u=Zn([u,y.pathnameBase]))}return f}function rc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=U1(i.path,i.caseSensitive,i.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:s.reduce((m,{paramName:_,isOptional:y},E)=>{if(_==="*"){let N=h[E]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const b=h[E];return y&&!b?m[_]=void 0:m[_]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:i}}function U1(i,e=!1,n=!0){bt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function P1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function On(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function z1(i,e="/"){let{pathname:n,search:s="",hash:l=""}=typeof i=="string"?Li(i):i;return{pathname:n?n.startsWith("/")?n:H1(n,e):e,search:V1(s),hash:j1(l)}}function H1(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function ih(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wc(i){let e=DS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Cc(i,e,n,s=!1){let l;typeof i=="string"?l=Li(i):(l={...i},Me(!l.pathname||!l.pathname.includes("?"),ih("?","pathname","search",l)),Me(!l.pathname||!l.pathname.includes("#"),ih("#","pathname","hash",l)),Me(!l.search||!l.search.includes("#"),ih("#","search","hash",l)));let u=i===""||l.pathname==="",f=u?"/":l.pathname,h;if(f==null)h=n;else{let y=e.length-1;if(!s&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),y-=1;l.pathname=E.join("/")}h=y>=0?e[y]:"/"}let p=z1(l,h),m=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var Zn=i=>i.join("/").replace(/\/\/+/g,"/"),B1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),V1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,j1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,sc=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Yl(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var MS=["POST","PUT","PATCH","DELETE"],F1=new Set(MS),q1=["GET",...MS],G1=new Set(q1),Y1=new Set([301,302,303,307,308]),$1=new Set([307,308]),rh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},K1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},El={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},kp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W1=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),kS="remix-router-transitions",LS=Symbol("ResetLoaderData");function Q1(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Me(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.mapRouteProperties||W1,l={},u=ic(i.routes,s,void 0,l),f,h=i.basename||"/",p=i.dataStrategy||tD,m={unstable_middleware:!1,...i.future},_=null,y=new Set,E=null,b=null,N=null,H=i.hydrationData!=null,U=fr(u,i.history.location,h),B=!1,q=null;if(U==null&&!i.patchRoutesOnNavigation){let T=Nn(404,{pathname:i.history.location.pathname}),{matches:I,route:L}=Wy(u);U=I,q={[L.id]:T}}U&&!i.hydrationData&&hn(U,u,i.history.location.pathname).active&&(U=null);let $;if(U)if(U.some(T=>T.route.lazy))$=!1;else if(!U.some(T=>T.route.loader))$=!0;else{let T=i.hydrationData?i.hydrationData.loaderData:null,I=i.hydrationData?i.hydrationData.errors:null;if(I){let L=U.findIndex(F=>I[F.route.id]!==void 0);$=U.slice(0,L+1).every(F=>!xh(F.route,T,I))}else $=U.every(L=>!xh(L.route,T,I))}else{$=!1,U=[];let T=hn(null,u,i.history.location.pathname);T.active&&T.matches&&(B=!0,U=T.matches)}let de,A={historyAction:i.history.action,location:i.history.location,matches:U,initialized:$,navigation:rh,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||q,fetchers:new Map,blockers:new Map},te="POP",Ee=!1,ce,G=!1,ae=new Map,et=null,zt=!1,Tt=!1,Kt=new Set,Pe=new Map,K=0,me=-1,ue=new Map,Ie=new Set,w=new Map,j=new Map,ne=new Set,ie=new Map,Q,Se=null;function be(){if(_=i.history.listen(({action:T,location:I,delta:L})=>{if(Q){Q(),Q=void 0;return}bt(ie.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let F=Bt({currentLocation:A.location,nextLocation:I,historyAction:T});if(F&&L!=null){let W=new Promise(he=>{Q=he});i.history.go(L*-1),rn(F,{state:"blocked",location:I,proceed(){rn(F,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),W.then(()=>i.history.go(L))},reset(){let he=new Map(A.blockers);he.set(F,El),De({blockers:he})}});return}return Ht(T,I)}),n){hD(e,ae);let T=()=>pD(e,ae);e.addEventListener("pagehide",T),et=()=>e.removeEventListener("pagehide",T)}return A.initialized||Ht("POP",A.location,{initialHydration:!0}),de}function Mt(){_&&_(),et&&et(),y.clear(),ce&&ce.abort(),A.fetchers.forEach((T,I)=>xi(I)),A.blockers.forEach((T,I)=>co(I))}function He(T){return y.add(T),()=>y.delete(T)}function De(T,I={}){A={...A,...T};let L=[],F=[];A.fetchers.forEach((W,he)=>{W.state==="idle"&&(ne.has(he)?L.push(he):F.push(he))}),ne.forEach(W=>{!A.fetchers.has(W)&&!Pe.has(W)&&L.push(W)}),[...y].forEach(W=>W(A,{deletedFetchers:L,viewTransitionOpts:I.viewTransitionOpts,flushSync:I.flushSync===!0})),L.forEach(W=>xi(W)),F.forEach(W=>A.fetchers.delete(W))}function je(T,I,{flushSync:L}={}){var X,Z;let F=A.actionData!=null&&A.navigation.formMethod!=null&&Un(A.navigation.formMethod)&&A.navigation.state==="loading"&&((X=T.state)==null?void 0:X._isRedirect)!==!0,W;I.actionData?Object.keys(I.actionData).length>0?W=I.actionData:W=null:F?W=A.actionData:W=null;let he=I.loaderData?$y(A.loaderData,I.loaderData,I.matches||[],I.errors):A.loaderData,fe=A.blockers;fe.size>0&&(fe=new Map(fe),fe.forEach((J,_e)=>fe.set(_e,El)));let re=Ee===!0||A.navigation.formMethod!=null&&Un(A.navigation.formMethod)&&((Z=T.state)==null?void 0:Z._isRedirect)!==!0;f&&(u=f,f=void 0),zt||te==="POP"||(te==="PUSH"?i.history.push(T,T.state):te==="REPLACE"&&i.history.replace(T,T.state));let le;if(te==="POP"){let J=ae.get(A.location.pathname);J&&J.has(T.pathname)?le={currentLocation:A.location,nextLocation:T}:ae.has(T.pathname)&&(le={currentLocation:T,nextLocation:A.location})}else if(G){let J=ae.get(A.location.pathname);J?J.add(T.pathname):(J=new Set([T.pathname]),ae.set(A.location.pathname,J)),le={currentLocation:A.location,nextLocation:T}}De({...I,actionData:W,loaderData:he,historyAction:te,location:T,initialized:!0,navigation:rh,revalidation:"idle",restoreScrollPosition:Cr(T,I.matches||A.matches),preventScrollReset:re,blockers:fe},{viewTransitionOpts:le,flushSync:L===!0}),te="POP",Ee=!1,G=!1,zt=!1,Tt=!1,Se==null||Se.resolve(),Se=null}async function nn(T,I){if(typeof T=="number"){i.history.go(T);return}let L=Lh(A.location,A.matches,h,T,I==null?void 0:I.fromRouteId,I==null?void 0:I.relative),{path:F,submission:W,error:he}=zy(!1,L,I),fe=A.location,re=Gl(A.location,F,I&&I.state);re={...re,...i.history.encodeLocation(re)};let le=I&&I.replace!=null?I.replace:void 0,X="PUSH";le===!0?X="REPLACE":le===!1||W!=null&&Un(W.formMethod)&&W.formAction===A.location.pathname+A.location.search&&(X="REPLACE");let Z=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,J=(I&&I.flushSync)===!0,_e=Bt({currentLocation:fe,nextLocation:re,historyAction:X});if(_e){rn(_e,{state:"blocked",location:re,proceed(){rn(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),nn(T,I)},reset(){let Ge=new Map(A.blockers);Ge.set(_e,El),De({blockers:Ge})}});return}await Ht(X,re,{submission:W,pendingError:he,preventScrollReset:Z,replace:I&&I.replace,enableViewTransition:I&&I.viewTransition,flushSync:J})}function Tr(){Se||(Se=mD()),Wt(),De({revalidation:"loading"});let T=Se.promise;return A.navigation.state==="submitting"?T:A.navigation.state==="idle"?(Ht(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),T):(Ht(te||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:G===!0}),T)}async function Ht(T,I,L){ce&&ce.abort(),ce=null,te=T,zt=(L&&L.startUninterruptedRevalidation)===!0,ms(A.location,A.matches),Ee=(L&&L.preventScrollReset)===!0,G=(L&&L.enableViewTransition)===!0;let F=f||u,W=L&&L.overrideNavigation,he=L!=null&&L.initialHydration&&A.matches&&A.matches.length>0&&!B?A.matches:fr(F,I,h),fe=(L&&L.flushSync)===!0;if(he&&A.initialized&&!Tt&&oD(A.location,I)&&!(L&&L.submission&&Un(L.submission.formMethod))){je(I,{matches:he},{flushSync:fe});return}let re=hn(he,F,I.pathname);if(re.active&&re.matches&&(he=re.matches),!he){let{error:ot,notFoundMatches:nt,route:ut}=Sa(I.pathname);je(I,{matches:nt,loaderData:{},errors:{[ut.id]:ot}},{flushSync:fe});return}ce=new AbortController;let le=Ws(i.history,I,ce.signal,L&&L.submission),X=new Uy(i.unstable_getContext?await i.unstable_getContext():void 0),Z;if(L&&L.pendingError)Z=[Xr(he).route.id,{type:"error",error:L.pendingError}];else if(L&&L.submission&&Un(L.submission.formMethod)){let ot=await ds(le,I,L.submission,he,X,re.active,{replace:L.replace,flushSync:fe});if(ot.shortCircuited)return;if(ot.pendingActionResult){let[nt,ut]=ot.pendingActionResult;if(cn(ut)&&Yl(ut.error)&&ut.error.status===404){ce=null,je(I,{matches:ot.matches,loaderData:{},errors:{[nt]:ut.error}});return}}he=ot.matches||he,Z=ot.pendingActionResult,W=sh(I,L.submission),fe=!1,re.active=!1,le=Ws(i.history,le.url,le.signal)}let{shortCircuited:J,matches:_e,loaderData:Ge,errors:mt}=await hs(le,I,he,X,re.active,W,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,fe,Z);J||(ce=null,je(I,{matches:_e||he,...Ky(Z),loaderData:Ge,errors:mt}))}async function ds(T,I,L,F,W,he,fe={}){Wt();let re=fD(I,L);if(De({navigation:re},{flushSync:fe.flushSync===!0}),he){let Z=await ti(F,I.pathname,T.signal);if(Z.type==="aborted")return{shortCircuited:!0};if(Z.type==="error"){let J=Xr(Z.partialMatches).route.id;return{matches:Z.partialMatches,pendingActionResult:[J,{type:"error",error:Z.error}]}}else if(Z.matches)F=Z.matches;else{let{notFoundMatches:J,error:_e,route:Ge}=Sa(I.pathname);return{matches:J,pendingActionResult:[Ge.id,{type:"error",error:_e}]}}}let le,X=Al(F,I);if(!X.route.action&&!X.route.lazy)le={type:"error",error:Nn(405,{method:T.method,pathname:I.pathname,routeId:X.route.id})};else{let Z=await wr("action",T,[X],F,W,null);if(le=Z[X.route.id],!le){for(let J of F)if(Z[J.route.id]){le=Z[J.route.id];break}}if(T.signal.aborted)return{shortCircuited:!0}}if(Jr(le)){let Z;return fe&&fe.replace!=null?Z=fe.replace:Z=qy(le.response.headers.get("Location"),new URL(T.url),h)===A.location.pathname+A.location.search,await In(T,le,!0,{submission:L,replace:Z}),{shortCircuited:!0}}if(cn(le)){let Z=Xr(F,X.route.id);return(fe&&fe.replace)!==!0&&(te="PUSH"),{matches:F,pendingActionResult:[Z.route.id,le]}}return{matches:F,pendingActionResult:[X.route.id,le]}}async function hs(T,I,L,F,W,he,fe,re,le,X,Z,J){let _e=he||sh(I,fe),Ge=fe||re||Xy(_e),mt=!zt&&!X;if(W){if(mt){let rt=ei(J);De({navigation:_e,...rt!==void 0?{actionData:rt}:{}},{flushSync:Z})}let xe=await ti(L,I.pathname,T.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let rt=Xr(xe.partialMatches).route.id;return{matches:xe.partialMatches,loaderData:{},errors:{[rt]:xe.error}}}else if(xe.matches)L=xe.matches;else{let{error:rt,notFoundMatches:Qt,route:Or}=Sa(I.pathname);return{matches:Qt,loaderData:{},errors:{[Or.id]:rt}}}}let ot=f||u,[nt,ut]=By(i.history,A,L,Ge,I,X===!0,Tt,Kt,ne,w,Ie,ot,h,J);if(me=++K,nt.length===0&&ut.length===0){let xe=uo();return je(I,{matches:L,loaderData:{},errors:J&&cn(J[1])?{[J[0]]:J[1].error}:null,...Ky(J),...xe?{fetchers:new Map(A.fetchers)}:{}},{flushSync:Z}),{shortCircuited:!0}}if(mt){let xe={};if(!W){xe.navigation=_e;let rt=ei(J);rt!==void 0&&(xe.actionData=rt)}ut.length>0&&(xe.fetchers=_a(ut)),De(xe,{flushSync:Z})}ut.forEach(xe=>{Dn(xe.key),xe.controller&&Pe.set(xe.key,xe.controller)});let pn=()=>ut.forEach(xe=>Dn(xe.key));ce&&ce.signal.addEventListener("abort",pn);let{loaderResults:ni,fetcherResults:kt}=await lo(L,nt,ut,T,F);if(T.signal.aborted)return{shortCircuited:!0};ce&&ce.signal.removeEventListener("abort",pn),ut.forEach(xe=>Pe.delete(xe.key));let Lt=Tu(ni);if(Lt)return await In(T,Lt.result,!0,{replace:le}),{shortCircuited:!0};if(Lt=Tu(kt),Lt)return Ie.add(Lt.key),await In(T,Lt.result,!0,{replace:le}),{shortCircuited:!0};let{loaderData:ii,errors:mn}=Yy(A,L,ni,J,ut,kt);X&&A.errors&&(mn={...A.errors,...mn});let Qe=uo(),Ar=Ui(me),Nr=Qe||Ar||ut.length>0;return{matches:L,loaderData:ii,errors:mn,...Nr?{fetchers:new Map(A.fetchers)}:{}}}function ei(T){if(T&&!cn(T[1]))return{[T[0]]:T[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function _a(T){return T.forEach(I=>{let L=A.fetchers.get(I.key),F=Sl(void 0,L?L.data:void 0);A.fetchers.set(I.key,F)}),new Map(A.fetchers)}async function ps(T,I,L,F){Dn(T);let W=(F&&F.flushSync)===!0,he=f||u,fe=Lh(A.location,A.matches,h,L,I,F==null?void 0:F.relative),re=fr(he,fe,h),le=hn(re,he,fe);if(le.active&&le.matches&&(re=le.matches),!re){dn(T,I,Nn(404,{pathname:fe}),{flushSync:W});return}let{path:X,submission:Z,error:J}=zy(!0,fe,F);if(J){dn(T,I,J,{flushSync:W});return}let _e=Al(re,X),Ge=new Uy(i.unstable_getContext?await i.unstable_getContext():void 0),mt=(F&&F.preventScrollReset)===!0;if(Z&&Un(Z.formMethod)){await va(T,I,X,_e,re,Ge,le.active,W,mt,Z);return}w.set(T,{routeId:I,path:X}),await ya(T,I,X,_e,re,Ge,le.active,W,mt,Z)}async function va(T,I,L,F,W,he,fe,re,le,X){Wt(),w.delete(T);function Z(st){if(!st.route.action&&!st.route.lazy){let ri=Nn(405,{method:X.formMethod,pathname:L,routeId:I});return dn(T,I,ri,{flushSync:re}),!0}return!1}if(!fe&&Z(F))return;let J=A.fetchers.get(T);Fn(T,dD(X,J),{flushSync:re});let _e=new AbortController,Ge=Ws(i.history,L,_e.signal,X);if(fe){let st=await ti(W,L,Ge.signal,T);if(st.type==="aborted")return;if(st.type==="error"){dn(T,I,st.error,{flushSync:re});return}else if(st.matches){if(W=st.matches,F=Al(W,L),Z(F))return}else{dn(T,I,Nn(404,{pathname:L}),{flushSync:re});return}}Pe.set(T,_e);let mt=K,nt=(await wr("action",Ge,[F],W,he,T))[F.route.id];if(Ge.signal.aborted){Pe.get(T)===_e&&Pe.delete(T);return}if(ne.has(T)){if(Jr(nt)||cn(nt)){Fn(T,ar(void 0));return}}else{if(Jr(nt))if(Pe.delete(T),me>mt){Fn(T,ar(void 0));return}else return Ie.add(T),Fn(T,Sl(X)),In(Ge,nt,!1,{fetcherSubmission:X,preventScrollReset:le});if(cn(nt)){dn(T,I,nt.error);return}}let ut=A.navigation.location||A.location,pn=Ws(i.history,ut,_e.signal),ni=f||u,kt=A.navigation.state!=="idle"?fr(ni,A.navigation.location,h):A.matches;Me(kt,"Didn't find any matches after fetcher action");let Lt=++K;ue.set(T,Lt);let ii=Sl(X,nt.data);A.fetchers.set(T,ii);let[mn,Qe]=By(i.history,A,kt,X,ut,!1,Tt,Kt,ne,w,Ie,ni,h,[F.route.id,nt]);Qe.filter(st=>st.key!==T).forEach(st=>{let ri=st.key,ho=A.fetchers.get(ri),gs=Sl(void 0,ho?ho.data:void 0);A.fetchers.set(ri,gs),Dn(ri),st.controller&&Pe.set(ri,st.controller)}),De({fetchers:new Map(A.fetchers)});let Ar=()=>Qe.forEach(st=>Dn(st.key));_e.signal.addEventListener("abort",Ar);let{loaderResults:Nr,fetcherResults:xe}=await lo(kt,mn,Qe,pn,he);if(_e.signal.aborted)return;_e.signal.removeEventListener("abort",Ar),ue.delete(T),Pe.delete(T),Qe.forEach(st=>Pe.delete(st.key));let rt=Tu(Nr);if(rt)return In(pn,rt.result,!1,{preventScrollReset:le});if(rt=Tu(xe),rt)return Ie.add(rt.key),In(pn,rt.result,!1,{preventScrollReset:le});let{loaderData:Qt,errors:Or}=Yy(A,kt,Nr,void 0,Qe,xe);if(A.fetchers.has(T)){let st=ar(nt.data);A.fetchers.set(T,st)}Ui(Lt),A.navigation.state==="loading"&&Lt>me?(Me(te,"Expected pending action"),ce&&ce.abort(),je(A.navigation.location,{matches:kt,loaderData:Qt,errors:Or,fetchers:new Map(A.fetchers)})):(De({errors:Or,loaderData:$y(A.loaderData,Qt,kt,Or),fetchers:new Map(A.fetchers)}),Tt=!1)}async function ya(T,I,L,F,W,he,fe,re,le,X){let Z=A.fetchers.get(T);Fn(T,Sl(X,Z?Z.data:void 0),{flushSync:re});let J=new AbortController,_e=Ws(i.history,L,J.signal);if(fe){let nt=await ti(W,L,_e.signal,T);if(nt.type==="aborted")return;if(nt.type==="error"){dn(T,I,nt.error,{flushSync:re});return}else if(nt.matches)W=nt.matches,F=Al(W,L);else{dn(T,I,Nn(404,{pathname:L}),{flushSync:re});return}}Pe.set(T,J);let Ge=K,ot=(await wr("loader",_e,[F],W,he,T))[F.route.id];if(Pe.get(T)===J&&Pe.delete(T),!_e.signal.aborted){if(ne.has(T)){Fn(T,ar(void 0));return}if(Jr(ot))if(me>Ge){Fn(T,ar(void 0));return}else{Ie.add(T),await In(_e,ot,!1,{preventScrollReset:le});return}if(cn(ot)){dn(T,I,ot.error);return}Fn(T,ar(ot.data))}}async function In(T,I,L,{submission:F,fetcherSubmission:W,preventScrollReset:he,replace:fe}={}){I.response.headers.has("X-Remix-Revalidate")&&(Tt=!0);let re=I.response.headers.get("Location");Me(re,"Expected a Location header on the redirect Response"),re=qy(re,new URL(T.url),h);let le=Gl(A.location,re,{_isRedirect:!0});if(n){let mt=!1;if(I.response.headers.has("X-Remix-Reload-Document"))mt=!0;else if(kp.test(re)){const ot=i.history.createURL(re);mt=ot.origin!==e.location.origin||On(ot.pathname,h)==null}if(mt){fe?e.location.replace(re):e.location.assign(re);return}}ce=null;let X=fe===!0||I.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Z,formAction:J,formEncType:_e}=A.navigation;!F&&!W&&Z&&J&&_e&&(F=Xy(A.navigation));let Ge=F||W;if($1.has(I.response.status)&&Ge&&Un(Ge.formMethod))await Ht(X,le,{submission:{...Ge,formAction:re},preventScrollReset:he||Ee,enableViewTransition:L?G:void 0});else{let mt=sh(le,F);await Ht(X,le,{overrideNavigation:mt,fetcherSubmission:W,preventScrollReset:he||Ee,enableViewTransition:L?G:void 0})}}async function wr(T,I,L,F,W,he){let fe,re={};try{fe=await iD(p,T,I,L,F,he,l,s,W,m.unstable_middleware)}catch(le){return L.forEach(X=>{re[X.route.id]={type:"error",error:le}}),re}for(let[le,X]of Object.entries(fe))if(uD(X)){let Z=X.result;re[le]={type:"redirect",response:aD(Z,I,le,F,h)}}else re[le]=await sD(X);return re}async function lo(T,I,L,F,W){let he=wr("loader",F,I,T,W,null),fe=Promise.all(L.map(async X=>{if(X.matches&&X.match&&X.controller){let J=(await wr("loader",Ws(i.history,X.path,X.controller.signal),[X.match],X.matches,W,X.key))[X.match.route.id];return{[X.key]:J}}else return Promise.resolve({[X.key]:{type:"error",error:Nn(404,{pathname:X.path})}})})),re=await he,le=(await fe).reduce((X,Z)=>Object.assign(X,Z),{});return{loaderResults:re,fetcherResults:le}}function Wt(){Tt=!0,w.forEach((T,I)=>{Pe.has(I)&&Kt.add(I),Dn(I)})}function Fn(T,I,L={}){A.fetchers.set(T,I),De({fetchers:new Map(A.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function dn(T,I,L,F={}){let W=Xr(A.matches,I);xi(T),De({errors:{[W.route.id]:L},fetchers:new Map(A.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Ea(T){return j.set(T,(j.get(T)||0)+1),ne.has(T)&&ne.delete(T),A.fetchers.get(T)||K1}function xi(T){let I=A.fetchers.get(T);Pe.has(T)&&!(I&&I.state==="loading"&&ue.has(T))&&Dn(T),w.delete(T),ue.delete(T),Ie.delete(T),ne.delete(T),Kt.delete(T),A.fetchers.delete(T)}function Oc(T){let I=(j.get(T)||0)-1;I<=0?(j.delete(T),ne.add(T)):j.set(T,I),De({fetchers:new Map(A.fetchers)})}function Dn(T){let I=Pe.get(T);I&&(I.abort(),Pe.delete(T))}function oo(T){for(let I of T){let L=Ea(I),F=ar(L.data);A.fetchers.set(I,F)}}function uo(){let T=[],I=!1;for(let L of Ie){let F=A.fetchers.get(L);Me(F,`Expected fetcher: ${L}`),F.state==="loading"&&(Ie.delete(L),T.push(L),I=!0)}return oo(T),I}function Ui(T){let I=[];for(let[L,F]of ue)if(F<T){let W=A.fetchers.get(L);Me(W,`Expected fetcher: ${L}`),W.state==="loading"&&(Dn(L),ue.delete(L),I.push(L))}return oo(I),I.length>0}function Gt(T,I){let L=A.blockers.get(T)||El;return ie.get(T)!==I&&ie.set(T,I),L}function co(T){A.blockers.delete(T),ie.delete(T)}function rn(T,I){let L=A.blockers.get(T)||El;Me(L.state==="unblocked"&&I.state==="blocked"||L.state==="blocked"&&I.state==="blocked"||L.state==="blocked"&&I.state==="proceeding"||L.state==="blocked"&&I.state==="unblocked"||L.state==="proceeding"&&I.state==="unblocked",`Invalid blocker state transition: ${L.state} -> ${I.state}`);let F=new Map(A.blockers);F.set(T,I),De({blockers:F})}function Bt({currentLocation:T,nextLocation:I,historyAction:L}){if(ie.size===0)return;ie.size>1&&bt(!1,"A router only supports one blocker at a time");let F=Array.from(ie.entries()),[W,he]=F[F.length-1],fe=A.blockers.get(W);if(!(fe&&fe.state==="proceeding")&&he({currentLocation:T,nextLocation:I,historyAction:L}))return W}function Sa(T){let I=Nn(404,{pathname:T}),L=f||u,{matches:F,route:W}=Wy(L);return{notFoundMatches:F,route:W,error:I}}function Ic(T,I,L){if(E=T,N=I,b=L||null,!H&&A.navigation===rh){H=!0;let F=Cr(A.location,A.matches);F!=null&&De({restoreScrollPosition:F})}return()=>{E=null,N=null,b=null}}function fo(T,I){return b&&b(T,I.map(F=>C1(F,A.loaderData)))||T.key}function ms(T,I){if(E&&N){let L=fo(T,I);E[L]=N()}}function Cr(T,I){if(E){let L=fo(T,I),F=E[L];if(typeof F=="number")return F}return null}function hn(T,I,L){if(i.patchRoutesOnNavigation)if(T){if(Object.keys(T[0].params).length>0)return{active:!0,matches:Mu(I,L,h,!0)}}else return{active:!0,matches:Mu(I,L,h,!0)||[]};return{active:!1,matches:null}}async function ti(T,I,L,F){if(!i.patchRoutesOnNavigation)return{type:"success",matches:T};let W=T;for(;;){let he=f==null,fe=f||u,re=l;try{await i.patchRoutesOnNavigation({signal:L,path:I,matches:W,fetcherKey:F,patch:(Z,J)=>{L.aborted||jy(Z,J,fe,re,s)}})}catch(Z){return{type:"error",error:Z,partialMatches:W}}finally{he&&!L.aborted&&(u=[...u])}if(L.aborted)return{type:"aborted"};let le=fr(fe,I,h);if(le)return{type:"success",matches:le};let X=Mu(fe,I,h,!0);if(!X||W.length===X.length&&W.every((Z,J)=>Z.route.id===X[J].route.id))return{type:"success",matches:null};W=X}}function Rr(T){l={},f=ic(T,s,void 0,l)}function Dc(T,I){let L=f==null;jy(T,I,f||u,l,s),L&&(u=[...u],De({}))}return de={get basename(){return h},get future(){return m},get state(){return A},get routes(){return u},get window(){return e},initialize:be,subscribe:He,enableScrollRestoration:Ic,navigate:nn,fetch:ps,revalidate:Tr,createHref:T=>i.history.createHref(T),encodeLocation:T=>i.history.encodeLocation(T),getFetcher:Ea,deleteFetcher:Oc,dispose:Mt,getBlocker:Gt,deleteBlocker:co,patchRoutes:Dc,_internalFetchControllers:Pe,_internalSetRoutes:Rr},de}function X1(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Lh(i,e,n,s,l,u){let f,h;if(l){f=[];for(let m of e)if(f.push(m),m.route.id===l){h=m;break}}else f=e,h=e[e.length-1];let p=Cc(s||".",wc(f),On(i.pathname,n)||i.pathname,u==="path");if(s==null&&(p.search=i.search,p.hash=i.hash),(s==null||s===""||s===".")&&h){let m=Lp(p.search);if(h.route.index&&!m)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&m){let _=new URLSearchParams(p.search),y=_.getAll("index");_.delete("index"),y.filter(b=>b).forEach(b=>_.append("index",b));let E=_.toString();p.search=E?`?${E}`:""}}return n!=="/"&&(p.pathname=p.pathname==="/"?n:Zn([n,p.pathname])),vr(p)}function zy(i,e,n){if(!n||!X1(n))return{path:e};if(n.formMethod&&!cD(n.formMethod))return{path:e,error:Nn(405,{method:n.formMethod})};let s=()=>({path:e,error:Nn(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),f=PS(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Un(u))return s();let y=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((E,[b,N])=>`${E}${b}=${N}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:y}}}else if(n.formEncType==="application/json"){if(!Un(u))return s();try{let y=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:y,text:void 0}}}catch{return s()}}}Me(typeof FormData=="function","FormData is not available in this environment");let h,p;if(n.formData)h=Uh(n.formData),p=n.formData;else if(n.body instanceof FormData)h=Uh(n.body),p=n.body;else if(n.body instanceof URLSearchParams)h=n.body,p=Gy(h);else if(n.body==null)h=new URLSearchParams,p=new FormData;else try{h=new URLSearchParams(n.body),p=Gy(h)}catch{return s()}let m={formMethod:u,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Un(m.formMethod))return{path:e,submission:m};let _=Li(e);return i&&_.search&&Lp(_.search)&&h.append("index",""),_.search=`?${h}`,{path:vr(_),submission:m}}function Hy(i,e,n=!1){let s=i.findIndex(l=>l.route.id===e);return s>=0?i.slice(0,n?s+1:s):i}function By(i,e,n,s,l,u,f,h,p,m,_,y,E,b){let N=b?cn(b[1])?b[1].error:b[1].data:void 0,H=i.createURL(e.location),U=i.createURL(l),B=n;u&&e.errors?B=Hy(n,Object.keys(e.errors)[0],!0):b&&cn(b[1])&&(B=Hy(n,b[0]));let q=b?b[1].statusCode:void 0,$=q&&q>=400,de=B.filter((te,Ee)=>{let{route:ce}=te;if(ce.lazy)return!0;if(ce.loader==null)return!1;if(u)return xh(ce,e.loaderData,e.errors);if(Z1(e.loaderData,e.matches[Ee],te))return!0;let G=e.matches[Ee],ae=te;return Vy(te,{currentUrl:H,currentParams:G.params,nextUrl:U,nextParams:ae.params,...s,actionResult:N,actionStatus:q,defaultShouldRevalidate:$?!1:f||H.pathname+H.search===U.pathname+U.search||H.search!==U.search||J1(G,ae)})}),A=[];return m.forEach((te,Ee)=>{if(u||!n.some(zt=>zt.route.id===te.routeId)||p.has(Ee))return;let ce=fr(y,te.path,E);if(!ce){A.push({key:Ee,routeId:te.routeId,path:te.path,matches:null,match:null,controller:null});return}let G=e.fetchers.get(Ee),ae=Al(ce,te.path),et=!1;_.has(Ee)?et=!1:h.has(Ee)?(h.delete(Ee),et=!0):G&&G.state!=="idle"&&G.data===void 0?et=f:et=Vy(ae,{currentUrl:H,currentParams:e.matches[e.matches.length-1].params,nextUrl:U,nextParams:n[n.length-1].params,...s,actionResult:N,actionStatus:q,defaultShouldRevalidate:$?!1:f}),et&&A.push({key:Ee,routeId:te.routeId,path:te.path,matches:ce,match:ae,controller:new AbortController})}),[de,A]}function xh(i,e,n){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&e[i.id]!==void 0,l=n!=null&&n[i.id]!==void 0;return!s&&l?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!l}function Z1(i,e,n){let s=!e||n.route.id!==e.route.id,l=!i.hasOwnProperty(n.route.id);return s||l}function J1(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function Vy(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function jy(i,e,n,s,l){let u;if(i){let p=s[i];Me(p,`No route found to patch children into: routeId = ${i}`),p.children||(p.children=[]),u=p.children}else u=n;let f=e.filter(p=>!u.some(m=>xS(p,m))),h=ic(f,l,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...h)}function xS(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((n,s)=>{var l;return(l=e.children)==null?void 0:l.some(u=>xS(n,u))}):!1}async function eD(i,e,n){if(!i.lazy)return;let s=await i.lazy();if(!i.lazy)return;let l=n[i.id];Me(l,"No route found in manifest");let u={};for(let f in s){let p=l[f]!==void 0&&f!=="hasErrorBoundary";bt(!p,`Route "${l.id}" has a static property "${f}" defined but its lazy function is also returning a value for this property. The lazy route property "${f}" will be ignored.`),!p&&!T1.has(f)&&(u[f]=s[f])}Object.assign(l,u),Object.assign(l,{...e(l),lazy:void 0})}async function Fy(i){let e=i.matches.filter(l=>l.shouldLoad),n={};return(await Promise.all(e.map(l=>l.resolve()))).forEach((l,u)=>{n[e[u].route.id]=l}),n}async function tD(i){return i.matches.some(e=>e.route.unstable_middleware)?nD(i,!1,()=>Fy(i),(e,n)=>({[n]:{type:"error",result:e}})):Fy(i)}async function nD(i,e,n,s){let{matches:l,request:u,params:f,context:h}=i,p={handlerResult:void 0};try{let m=l.flatMap(y=>y.route.unstable_middleware?y.route.unstable_middleware.map(E=>[y.route.id,E]):[]),_=await US({request:u,params:f,context:h},m,e,p,n);return e?_:p.handlerResult}catch(m){if(!p.middlewareError)throw m;let _=await s(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,_):_}}async function US(i,e,n,s,l,u=0){let{request:f}=i;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let h=e[u];if(!h)return s.handlerResult=await l(),s.handlerResult;let[p,m]=h,_=!1,y,E=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");_=!0,await US(i,e,n,s,l,u+1)};try{let b=await m({request:i.request,params:i.params,context:i.context},E);return _?b===void 0?y:b:E()}catch(b){throw s.middlewareError?s.middlewareError.error!==b&&(s.middlewareError={routeId:p,error:b}):s.middlewareError={routeId:p,error:b},b}}async function iD(i,e,n,s,l,u,f,h,p,m){let _=l.map(b=>b.route.lazy?eD(b.route,h,f):void 0);m&&await Promise.all(_);let y=l.map((b,N)=>{let H=_[N],U=s.some(q=>q.route.id===b.route.id);return{...b,shouldLoad:U,resolve:async q=>(q&&n.method==="GET"&&(b.route.lazy||b.route.loader)&&(U=!0),U?rD(e,n,b,H,q,p):Promise.resolve({type:"data",result:void 0}))}}),E=await i({matches:y,request:n,params:l[0].params,fetcherKey:u,context:p});try{await Promise.all(_)}catch{}return E}async function rD(i,e,n,s,l,u){let f,h,p=m=>{let _,y=new Promise((N,H)=>_=H);h=()=>_(),e.signal.addEventListener("abort",h);let E=N=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${i}" [routeId: ${n.route.id}]`)):m({request:e,params:n.params,context:u},...N!==void 0?[N]:[]),b=(async()=>{try{return{type:"data",result:await(l?l(H=>E(H)):E())}}catch(N){return{type:"error",result:N}}})();return Promise.race([b,y])};try{let m=n.route[i];if(s)if(m){let _,[y]=await Promise.all([p(m).catch(E=>{_=E}),s]);if(_!==void 0)throw _;f=y}else if(await s,m=n.route[i],m)f=await p(m);else if(i==="action"){let _=new URL(e.url),y=_.pathname+_.search;throw Nn(405,{method:e.method,pathname:y,routeId:n.route.id})}else return{type:"data",result:void 0};else if(m)f=await p(m);else{let _=new URL(e.url),y=_.pathname+_.search;throw Nn(404,{pathname:y})}}catch(m){return{type:"error",result:m}}finally{h&&e.signal.removeEventListener("abort",h)}return f}async function sD(i){var s,l,u,f,h,p;let{result:e,type:n}=i;if(zS(e)){let m;try{let _=e.headers.get("Content-Type");_&&/\bapplication\/json\b/.test(_)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(_){return{type:"error",error:_}}return n==="error"?{type:"error",error:new sc(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return n==="error"?Qy(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new sc(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Yl(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Yl(e)?e.status:void 0}:Qy(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function aD(i,e,n,s,l){let u=i.headers.get("Location");if(Me(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!kp.test(u)){let f=s.slice(0,s.findIndex(h=>h.route.id===n)+1);u=Lh(new URL(e.url),f,l,u),i.headers.set("Location",u)}return i}function qy(i,e,n){if(kp.test(i)){let s=i,l=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=On(l.pathname,n)!=null;if(l.origin===e.origin&&u)return l.pathname+l.search+l.hash}return i}function Ws(i,e,n,s){let l=i.createURL(PS(e)).toString(),u={signal:n};if(s&&Un(s.formMethod)){let{formMethod:f,formEncType:h}=s;u.method=f.toUpperCase(),h==="application/json"?(u.headers=new Headers({"Content-Type":h}),u.body=JSON.stringify(s.json)):h==="text/plain"?u.body=s.text:h==="application/x-www-form-urlencoded"&&s.formData?u.body=Uh(s.formData):u.body=s.formData}return new Request(l,u)}function Uh(i){let e=new URLSearchParams;for(let[n,s]of i.entries())e.append(n,typeof s=="string"?s:s.name);return e}function Gy(i){let e=new FormData;for(let[n,s]of i.entries())e.append(n,s);return e}function lD(i,e,n,s=!1,l=!1){let u={},f=null,h,p=!1,m={},_=n&&cn(n[1])?n[1].error:void 0;return i.forEach(y=>{if(!(y.route.id in e))return;let E=y.route.id,b=e[E];if(Me(!Jr(b),"Cannot handle redirect results in processLoaderData"),cn(b)){let N=b.error;if(_!==void 0&&(N=_,_=void 0),f=f||{},l)f[E]=N;else{let H=Xr(i,E);f[H.route.id]==null&&(f[H.route.id]=N)}s||(u[E]=LS),p||(p=!0,h=Yl(b.error)?b.error.status:500),b.headers&&(m[E]=b.headers)}else u[E]=b.data,b.statusCode&&b.statusCode!==200&&!p&&(h=b.statusCode),b.headers&&(m[E]=b.headers)}),_!==void 0&&n&&(f={[n[0]]:_},u[n[0]]=void 0),{loaderData:u,errors:f,statusCode:h||200,loaderHeaders:m}}function Yy(i,e,n,s,l,u){let{loaderData:f,errors:h}=lD(e,n,s);return l.forEach(p=>{let{key:m,match:_,controller:y}=p,E=u[m];if(Me(E,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(cn(E)){let b=Xr(i.matches,_==null?void 0:_.route.id);h&&h[b.route.id]||(h={...h,[b.route.id]:E.error}),i.fetchers.delete(m)}else if(Jr(E))Me(!1,"Unhandled fetcher revalidation redirect");else{let b=ar(E.data);i.fetchers.set(m,b)}}),{loaderData:f,errors:h}}function $y(i,e,n,s){let l=Object.entries(e).filter(([,u])=>u!==LS).reduce((u,[f,h])=>(u[f]=h,u),{});for(let u of n){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(l[f]=i[f]),s&&s.hasOwnProperty(f))break}return l}function Ky(i){return i?cn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Xr(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function Wy(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Nn(i,{pathname:e,routeId:n,method:s,type:l,message:u}={}){let f="Unknown Server Error",h="Unknown @remix-run/router error";return i===400?(f="Bad Request",s&&e&&n?h=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:l==="invalid-body"&&(h="Unable to encode submission body")):i===403?(f="Forbidden",h=`Route "${n}" does not match URL "${e}"`):i===404?(f="Not Found",h=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",s&&e&&n?h=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(h=`Invalid request method "${s.toUpperCase()}"`)),new sc(i||500,f,new Error(h),!0)}function Tu(i){let e=Object.entries(i);for(let n=e.length-1;n>=0;n--){let[s,l]=e[n];if(Jr(l))return{key:s,result:l}}}function PS(i){let e=typeof i=="string"?Li(i):i;return vr({...e,hash:""})}function oD(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function uD(i){return zS(i.result)&&Y1.has(i.result.status)}function cn(i){return i.type==="error"}function Jr(i){return(i&&i.type)==="redirect"}function Qy(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function zS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function cD(i){return G1.has(i.toUpperCase())}function Un(i){return F1.has(i.toUpperCase())}function Lp(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function Al(i,e){let n=typeof e=="string"?Li(e).search:e.search;if(i[i.length-1].route.index&&Lp(n||""))return i[i.length-1];let s=DS(i);return s[s.length-1]}function Xy(i){let{formMethod:e,formAction:n,formEncType:s,text:l,formData:u,json:f}=i;if(!(!e||!n||!s)){if(l!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:l};if(u!=null)return{formMethod:e,formAction:n,formEncType:s,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:f,text:void 0}}}function sh(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function fD(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Sl(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function dD(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function ar(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function hD(i,e){try{let n=i.sessionStorage.getItem(kS);if(n){let s=JSON.parse(n);for(let[l,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(l,new Set(u||[]))}}catch{}}function pD(i,e){if(e.size>0){let n={};for(let[s,l]of e)n[s]=[...l];try{i.sessionStorage.setItem(kS,JSON.stringify(n))}catch(s){bt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function mD(){let i,e,n=new Promise((s,l)=>{i=async u=>{s(u);try{await n}catch{}},e=async u=>{l(u);try{await n}catch{}}});return{promise:n,resolve:i,reject:e}}var cs=k.createContext(null);cs.displayName="DataRouter";var so=k.createContext(null);so.displayName="DataRouterState";var xp=k.createContext({isTransitioning:!1});xp.displayName="ViewTransition";var HS=k.createContext(new Map);HS.displayName="Fetchers";var gD=k.createContext(null);gD.displayName="Await";var jn=k.createContext(null);jn.displayName="Navigation";var Rc=k.createContext(null);Rc.displayName="Location";var Jn=k.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var Up=k.createContext(null);Up.displayName="RouteError";function _D(i,{relative:e}={}){Me(pa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(jn),{hash:l,pathname:u,search:f}=ao(i,{relative:e}),h=u;return n!=="/"&&(h=u==="/"?n:Zn([n,u])),s.createHref({pathname:h,search:f,hash:l})}function pa(){return k.useContext(Rc)!=null}function br(){return Me(pa(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Rc).location}var BS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VS(i){k.useContext(jn).static||k.useLayoutEffect(i)}function Pp(){let{isDataRoute:i}=k.useContext(Jn);return i?ID():vD()}function vD(){Me(pa(),"useNavigate() may be used only in the context of a <Router> component.");let i=k.useContext(cs),{basename:e,navigator:n}=k.useContext(jn),{matches:s}=k.useContext(Jn),{pathname:l}=br(),u=JSON.stringify(wc(s)),f=k.useRef(!1);return VS(()=>{f.current=!0}),k.useCallback((p,m={})=>{if(bt(f.current,BS),!f.current)return;if(typeof p=="number"){n.go(p);return}let _=Cc(p,JSON.parse(u),l,m.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Zn([e,_.pathname])),(m.replace?n.replace:n.push)(_,m.state,m)},[e,n,u,l,i])}k.createContext(null);function ao(i,{relative:e}={}){let{matches:n}=k.useContext(Jn),{pathname:s}=br(),l=JSON.stringify(wc(n));return k.useMemo(()=>Cc(i,JSON.parse(l),s,e==="path"),[i,l,s,e])}function yD(i,e,n,s){Me(pa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=k.useContext(jn),{matches:f}=k.useContext(Jn),h=f[f.length-1],p=h?h.params:{},m=h?h.pathname:"/",_=h?h.pathnameBase:"/",y=h&&h.route;{let q=y&&y.path||"";jS(m,!y||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=br(),b;b=E;let N=b.pathname||"/",H=N;if(_!=="/"){let q=_.replace(/^\//,"").split("/");H="/"+N.replace(/^\//,"").split("/").slice(q.length).join("/")}let U=!u&&n&&n.matches&&n.matches.length>0?n.matches:fr(i,{pathname:H});return bt(y||U!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),bt(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),wD(U&&U.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:Zn([_,l.encodeLocation?l.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?_:Zn([_,l.encodeLocation?l.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),f,n,s)}function ED(){let i=OD(),e=Yl(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:l},n):null,f)}var SD=k.createElement(ED,null),bD=class extends k.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?k.createElement(Jn.Provider,{value:this.props.routeContext},k.createElement(Up.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TD({routeContext:i,match:e,children:n}){let s=k.useContext(cs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Jn.Provider,{value:i},n)}function wD(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let l=i,u=n==null?void 0:n.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);Me(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,h=-1;if(n)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:_,errors:y}=n,E=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||E){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,_)=>{let y,E=!1,b=null,N=null;n&&(y=u&&m.route.id?u[m.route.id]:void 0,b=m.route.errorElement||SD,f&&(h<0&&_===0?(jS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):h===_&&(E=!0,N=m.route.hydrateFallbackElement||null)));let H=e.concat(l.slice(0,_+1)),U=()=>{let B;return y?B=b:E?B=N:m.route.Component?B=k.createElement(m.route.Component,null):m.route.element?B=m.route.element:B=p,k.createElement(TD,{match:m,routeContext:{outlet:p,matches:H,isDataRoute:n!=null},children:B})};return n&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?k.createElement(bD,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:U(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):U()},null)}function zp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CD(i){let e=k.useContext(cs);return Me(e,zp(i)),e}function RD(i){let e=k.useContext(so);return Me(e,zp(i)),e}function AD(i){let e=k.useContext(Jn);return Me(e,zp(i)),e}function Hp(i){let e=AD(i),n=e.matches[e.matches.length-1];return Me(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function ND(){return Hp("useRouteId")}function OD(){var s;let i=k.useContext(Up),e=RD("useRouteError"),n=Hp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function ID(){let{router:i}=CD("useNavigate"),e=Hp("useNavigate"),n=k.useRef(!1);return VS(()=>{n.current=!0}),k.useCallback(async(l,u={})=>{bt(n.current,BS),n.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:e,...u}))},[i,e])}var Zy={};function jS(i,e,n){!e&&!Zy[i]&&(Zy[i]=!0,bt(!1,n))}var Jy={};function eE(i,e){!i&&!Jy[e]&&(Jy[e]=!0,console.warn(e))}function DD(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&bt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:k.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&bt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:k.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&bt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:k.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var MD=class{constructor(){this.status="pending",this.promise=new Promise((i,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",i(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function kD({router:i,flushSync:e}){let[n,s]=k.useState(i.state),[l,u]=k.useState(),[f,h]=k.useState({isTransitioning:!1}),[p,m]=k.useState(),[_,y]=k.useState(),[E,b]=k.useState(),N=k.useRef(new Map),H=k.useCallback(($,{deletedFetchers:de,flushSync:A,viewTransitionOpts:te})=>{$.fetchers.forEach((ce,G)=>{ce.data!==void 0&&N.current.set(G,ce.data)}),de.forEach(ce=>N.current.delete(ce)),eE(A===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Ee=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(eE(te==null||Ee,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!te||!Ee){e&&A?e(()=>s($)):k.startTransition(()=>s($));return}if(e&&A){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:te.currentLocation,nextLocation:te.nextLocation})});let ce=i.window.document.startViewTransition(()=>{e(()=>s($))});ce.finished.finally(()=>{e(()=>{m(void 0),y(void 0),u(void 0),h({isTransitioning:!1})})}),e(()=>y(ce));return}_?(p&&p.resolve(),_.skipTransition(),b({state:$,currentLocation:te.currentLocation,nextLocation:te.nextLocation})):(u($),h({isTransitioning:!0,flushSync:!1,currentLocation:te.currentLocation,nextLocation:te.nextLocation}))},[i.window,e,_,p]);k.useLayoutEffect(()=>i.subscribe(H),[i,H]),k.useEffect(()=>{f.isTransitioning&&!f.flushSync&&m(new MD)},[f]),k.useEffect(()=>{if(p&&l&&i.window){let $=l,de=p.promise,A=i.window.document.startViewTransition(async()=>{k.startTransition(()=>s($)),await de});A.finished.finally(()=>{m(void 0),y(void 0),u(void 0),h({isTransitioning:!1})}),y(A)}},[l,p,i.window]),k.useEffect(()=>{p&&l&&n.location.key===l.location.key&&p.resolve()},[p,_,n.location,l]),k.useEffect(()=>{!f.isTransitioning&&E&&(u(E.state),h({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),b(void 0))},[f.isTransitioning,E]);let U=k.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:$=>i.navigate($),push:($,de,A)=>i.navigate($,{state:de,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:($,de,A)=>i.navigate($,{replace:!0,state:de,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[i]),B=i.basename||"/",q=k.useMemo(()=>({router:i,navigator:U,static:!1,basename:B}),[i,U,B]);return k.createElement(k.Fragment,null,k.createElement(cs.Provider,{value:q},k.createElement(so.Provider,{value:n},k.createElement(HS.Provider,{value:N.current},k.createElement(xp.Provider,{value:f},k.createElement(UD,{basename:B,location:n.location,navigationType:n.historyAction,navigator:U},k.createElement(LD,{routes:i.routes,future:i.future,state:n})))))),null)}var LD=k.memo(xD);function xD({routes:i,future:e,state:n}){return yD(i,void 0,n,e)}function Bp({to:i,replace:e,state:n,relative:s}){Me(pa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=k.useContext(jn);bt(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext(Jn),{pathname:f}=br(),h=Pp(),p=Cc(i,wc(u),f,s==="path"),m=JSON.stringify(p);return k.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:s})},[h,m,s,e,n]),null}function UD({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:l,static:u=!1}){Me(!pa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),h=k.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof n=="string"&&(n=Li(n));let{pathname:p="/",search:m="",hash:_="",state:y=null,key:E="default"}=n,b=k.useMemo(()=>{let N=On(p,f);return N==null?null:{location:{pathname:N,search:m,hash:_,state:y,key:E},navigationType:s}},[f,p,m,_,y,E,s]);return bt(b!=null,`<Router basename="${f}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:k.createElement(jn.Provider,{value:h},k.createElement(Rc.Provider,{children:e,value:b}))}var ku="get",Lu="application/x-www-form-urlencoded";function Ac(i){return i!=null&&typeof i.tagName=="string"}function PD(i){return Ac(i)&&i.tagName.toLowerCase()==="button"}function zD(i){return Ac(i)&&i.tagName.toLowerCase()==="form"}function HD(i){return Ac(i)&&i.tagName.toLowerCase()==="input"}function BD(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function VD(i,e){return i.button===0&&(!e||e==="_self")&&!BD(i)}var wu=null;function jD(){if(wu===null)try{new FormData(document.createElement("form"),0),wu=!1}catch{wu=!0}return wu}var FD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ah(i){return i!=null&&!FD.has(i)?(bt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lu}"`),null):i}function qD(i,e){let n,s,l,u,f;if(zD(i)){let h=i.getAttribute("action");s=h?On(h,e):null,n=i.getAttribute("method")||ku,l=ah(i.getAttribute("enctype"))||Lu,u=new FormData(i)}else if(PD(i)||HD(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||h.getAttribute("action");if(s=p?On(p,e):null,n=i.getAttribute("formmethod")||h.getAttribute("method")||ku,l=ah(i.getAttribute("formenctype"))||ah(h.getAttribute("enctype"))||Lu,u=new FormData(h,i),!jD()){let{name:m,type:_,value:y}=i;if(_==="image"){let E=m?`${m}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else m&&u.append(m,y)}}else{if(Ac(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ku,s=null,l=Lu,f=i}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:u,body:f}}function Vp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function GD(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YD(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function $D(i,e,n){let s=await Promise.all(i.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await GD(u,n);return f.links?f.links():[]}return[]}));return XD(s.flat(1).filter(YD).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function tE(i,e,n,s,l,u){let f=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>{var _;return n[m].pathname!==p.pathname||((_=n[m].route.path)==null?void 0:_.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,m)=>f(p,m)||h(p,m)):u==="data"?e.filter((p,m)=>{var y;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(f(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function KD(i,e,{includeHydrateFallback:n}={}){return WD(i.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function WD(i){return[...new Set(i)]}function QD(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function XD(i,e){let n=new Set;return new Set(e),i.reduce((s,l)=>{let u=JSON.stringify(QD(l));return n.has(u)||(n.add(u),s.push({key:u,link:l})),s},[])}function ZD(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&On(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function FS(){let i=k.useContext(cs);return Vp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function JD(){let i=k.useContext(so);return Vp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var jp=k.createContext(void 0);jp.displayName="FrameworkContext";function qS(){let i=k.useContext(jp);return Vp(i,"You must render this element inside a <HydratedRouter> element"),i}function eM(i,e){let n=k.useContext(jp),[s,l]=k.useState(!1),[u,f]=k.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:y}=e,E=k.useRef(null);k.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let H=B=>{B.forEach(q=>{f(q.isIntersecting)})},U=new IntersectionObserver(H,{threshold:.5});return E.current&&U.observe(E.current),()=>{U.disconnect()}}},[i]),k.useEffect(()=>{if(s){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[s]);let b=()=>{l(!0)},N=()=>{l(!1),f(!1)};return n?i!=="intent"?[u,E,{}]:[u,E,{onFocus:bl(h,b),onBlur:bl(p,N),onMouseEnter:bl(m,b),onMouseLeave:bl(_,N),onTouchStart:bl(y,b)}]:[!1,E,{}]}function bl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function tM({page:i,...e}){let{router:n}=FS(),s=k.useMemo(()=>fr(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?k.createElement(iM,{page:i,matches:s,...e}):null}function nM(i){let{manifest:e,routeModules:n}=qS(),[s,l]=k.useState([]);return k.useEffect(()=>{let u=!1;return $D(i,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[i,e,n]),s}function iM({page:i,matches:e,...n}){let s=br(),{manifest:l,routeModules:u}=qS(),{basename:f}=FS(),{loaderData:h,matches:p}=JD(),m=k.useMemo(()=>tE(i,e,p,l,s,"data"),[i,e,p,l,s]),_=k.useMemo(()=>tE(i,e,p,l,s,"assets"),[i,e,p,l,s]),y=k.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let N=new Set,H=!1;if(e.forEach(B=>{var $;let q=l.routes[B.route.id];!q||!q.hasLoader||(!m.some(de=>de.route.id===B.route.id)&&B.route.id in h&&(($=u[B.route.id])!=null&&$.shouldRevalidate)||q.hasClientLoader?H=!0:N.add(B.route.id))}),N.size===0)return[];let U=ZD(i,f);return H&&N.size>0&&U.searchParams.set("_routes",e.filter(B=>N.has(B.route.id)).map(B=>B.route.id).join(",")),[U.pathname+U.search]},[f,h,s,l,m,e,i,u]),E=k.useMemo(()=>KD(_,l),[_,l]),b=nM(_);return k.createElement(k.Fragment,null,y.map(N=>k.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),E.map(N=>k.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),b.map(({key:N,link:H})=>k.createElement("link",{key:N,...H})))}function rM(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var GS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GS&&(window.__reactRouterVersion="7.4.0")}catch{}function sM(i,e){return Q1({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:E1({window:e==null?void 0:e.window}),hydrationData:aM(),routes:i,mapRouteProperties:DD,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function aM(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:lM(i.errors)}),i}function lM(i){if(!i)return null;let e=Object.entries(i),n={};for(let[s,l]of e)if(l&&l.__type==="RouteErrorResponse")n[s]=new sc(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let u=window[l.__subType];if(typeof u=="function")try{let f=new u(l.message);f.stack="",n[s]=f}catch{}}if(n[s]==null){let u=new Error(l.message);u.stack="",n[s]=u}}else n[s]=l;return n}var YS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$S=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:h,target:p,to:m,preventScrollReset:_,viewTransition:y,...E},b){let{basename:N}=k.useContext(jn),H=typeof m=="string"&&YS.test(m),U,B=!1;if(typeof m=="string"&&H&&(U=m,GS))try{let G=new URL(window.location.href),ae=m.startsWith("//")?new URL(G.protocol+m):new URL(m),et=On(ae.pathname,N);ae.origin===G.origin&&et!=null?m=et+ae.search+ae.hash:B=!0}catch{bt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=_D(m,{relative:l}),[$,de,A]=eM(s,E),te=fM(m,{replace:f,state:h,target:p,preventScrollReset:_,relative:l,viewTransition:y});function Ee(G){e&&e(G),G.defaultPrevented||te(G)}let ce=k.createElement("a",{...E,...A,href:U||q,onClick:B||u?e:Ee,ref:rM(b,de),target:p,"data-discover":!H&&n==="render"?"true":void 0});return $&&!H?k.createElement(k.Fragment,null,ce,k.createElement(tM,{page:q})):ce});$S.displayName="Link";var oM=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:h,children:p,...m},_){let y=ao(f,{relative:m.relative}),E=br(),b=k.useContext(so),{navigator:N,basename:H}=k.useContext(jn),U=b!=null&&gM(y)&&h===!0,B=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,q=E.pathname,$=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(q=q.toLowerCase(),$=$?$.toLowerCase():null,B=B.toLowerCase()),$&&H&&($=On($,H)||$);const de=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let A=q===B||!l&&q.startsWith(B)&&q.charAt(de)==="/",te=$!=null&&($===B||!l&&$.startsWith(B)&&$.charAt(B.length)==="/"),Ee={isActive:A,isPending:te,isTransitioning:U},ce=A?e:void 0,G;typeof s=="function"?G=s(Ee):G=[s,A?"active":null,te?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let ae=typeof u=="function"?u(Ee):u;return k.createElement($S,{...m,"aria-current":ce,className:G,ref:_,style:ae,to:f,viewTransition:h},typeof p=="function"?p(Ee):p)});oM.displayName="NavLink";var uM=k.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:l,state:u,method:f=ku,action:h,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:y,...E},b)=>{let N=pM(),H=mM(h,{relative:m}),U=f.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&YS.test(h),q=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let de=$.nativeEvent.submitter,A=(de==null?void 0:de.getAttribute("formmethod"))||f;N(de||$.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:l,state:u,relative:m,preventScrollReset:_,viewTransition:y})};return k.createElement("form",{ref:b,method:U,action:H,onSubmit:s?p:q,...E,"data-discover":!B&&i==="render"?"true":void 0})});uM.displayName="Form";function cM(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KS(i){let e=k.useContext(cs);return Me(e,cM(i)),e}function fM(i,{target:e,replace:n,state:s,preventScrollReset:l,relative:u,viewTransition:f}={}){let h=Pp(),p=br(),m=ao(i,{relative:u});return k.useCallback(_=>{if(VD(_,e)){_.preventDefault();let y=n!==void 0?n:vr(p)===vr(m);h(i,{replace:y,state:s,preventScrollReset:l,relative:u,viewTransition:f})}},[p,h,m,n,s,e,i,l,u,f])}var dM=0,hM=()=>`__${String(++dM)}__`;function pM(){let{router:i}=KS("useSubmit"),{basename:e}=k.useContext(jn),n=ND();return k.useCallback(async(s,l={})=>{let{action:u,method:f,encType:h,formData:p,body:m}=qD(s,e);if(l.navigate===!1){let _=l.fetcherKey||hM();await i.fetch(_,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,e,n])}function mM(i,{relative:e}={}){let{basename:n}=k.useContext(jn),s=k.useContext(Jn);Me(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...ao(i||".",{relative:e})},f=br();if(i==null){u.search=f.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(_=>_==="")){h.delete("index"),p.filter(y=>y).forEach(y=>h.append("index",y));let _=h.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Zn([n,u.pathname])),vr(u)}function gM(i,e={}){let n=k.useContext(xp);Me(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=KS("useViewTransitionState"),l=ao(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=On(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=On(n.nextLocation.pathname,s)||n.nextLocation.pathname;return rc(l.pathname,f)!=null||rc(l.pathname,u)!=null}new TextEncoder;var _M=pE();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vM(i){return k.createElement(kD,{flushSync:_M.flushSync,...i})}const yM="/granja_star/assets/granja_logo_150x150-OW1YxLPE.png";function EM({email:i,setEmail:e,passaword:n,setPassaword:s,handleLogin:l}){return Le.jsxs("div",{id:"conteiner_login",children:[Le.jsx("figure",{children:Le.jsx("img",{src:yM,alt:"logo_granja"})}),Le.jsxs("form",{onSubmit:l,children:[Le.jsx("label",{children:"Login"}),Le.jsx("input",{type:"email",placeholder:"Digite seu email",value:i,onChange:u=>e(u.target.value)}),Le.jsx("input",{type:"passaword",placeholder:"Digite a sua senha",value:n,onChange:u=>s(u.target.value)}),Le.jsx("button",{type:"submit",children:"Entrar"})]})]})}function WS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SM=WS,QS=new yr("auth","Firebase",WS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new hc("@firebase/auth");function bM(i,...e){ac.logLevel<=qe.WARN&&ac.warn(`Auth (${ki}): ${i}`,...e)}function xu(i,...e){ac.logLevel<=qe.ERROR&&ac.error(`Auth (${ki}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(i,...e){throw Fp(i,...e)}function XS(i,...e){return Fp(i,...e)}function ZS(i,e,n){const s=Object.assign(Object.assign({},SM()),{[e]:n});return new yr("auth","Firebase",s).create(e,{appName:i.name})}function ia(i){return ZS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return QS.create(i,...e)}function ze(i,e,...n){if(!i)throw Fp(e,...n)}function wi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw xu(e),new Error(e)}function lc(i,e){i||wi(e)}function TM(){return nE()==="http:"||nE()==="https:"}function nE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TM()||TE()||"connection"in navigator)?navigator.onLine:!0}function CM(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n){this.shortDelay=e,this.longDelay=n,lc(n>e,"Short delay should be less than long delay!"),this.isMobile=fc()||Fh()}get(){return wM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(i,e){lc(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new RM(3e4,6e4);function ma(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function fs(i,e,n,s,l={}){return eb(i,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const h=Er(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const m=Object.assign({method:e,headers:p},u);return bE()||(m.referrerPolicy="no-referrer"),JS.fetch()(tb(i,i.config.apiHost,n,h),m)})}async function eb(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},NM),e);try{const l=new DM(i),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Cu(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const h=u.ok?f.errorMessage:f.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cu(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Cu(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Cu(i,"user-disabled",f);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw ZS(i,_,m);$l(i,_)}}catch(l){if(l instanceof Vn)throw l;$l(i,"network-request-failed",{message:String(l)})}}async function qp(i,e,n,s,l={}){const u=await fs(i,e,n,s,l);return"mfaPendingCredential"in u&&$l(i,"multi-factor-auth-required",{_serverResponse:u}),u}function tb(i,e,n,s){const l=`${e}${n}?${s}`;return i.config.emulator?AM(i.config,l):`${i.config.apiScheme}://${l}`}function IM(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(XS(this.auth,"network-request-failed")),OM.get())})}}function Cu(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=XS(i,e,s);return l.customData._tokenResponse=n,l}function iE(i){return i!==void 0&&i.enterprise!==void 0}class MM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kM(i,e){return fs(i,"GET","/v2/recaptchaConfig",ma(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(i,e){return fs(i,"POST","/v1/accounts:delete",e)}async function nb(i,e){return fs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xM(i,e=!1){const n=Dt(i),s=await n.getIdToken(e),l=ib(s);ze(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:Ll(lh(l.auth_time)),issuedAtTime:Ll(lh(l.iat)),expirationTime:Ll(lh(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function lh(i){return Number(i)*1e3}function ib(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return xu("JWT malformed, contained fewer than 3 sections"),null;try{const l=xl(n);return l?JSON.parse(l):(xu("Failed to decode base64 JWT payload"),null)}catch(l){return xu("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function rE(i){const e=ib(i);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Vn&&UM(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function UM({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(i){var e;const n=i.auth,s=await i.getIdToken(),l=await Ph(i,nb(n,{idToken:s}));ze(l==null?void 0:l.users.length,n,"internal-error");const u=l.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?rb(u.providerUserInfo):[],h=HM(i.providerData,f),p=i.isAnonymous,m=!(i.email&&u.passwordHash)&&!(h!=null&&h.length),_=p?m:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new zh(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(i,y)}async function zM(i){const e=Dt(i);await oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HM(i,e){return[...i.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function rb(i){return i.map(e=>{var{providerId:n}=e,s=Wl(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(i,e){const n=await eb(i,{},async()=>{const s=Er({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=i.config,f=tb(i,l,"/v1/token",`key=${u}`),h=await i._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",JS.fetch()(f,{method:"POST",headers:h,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VM(i,e){return fs(i,"POST","/v2/accounts:revokeToken",ma(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=rE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await BM(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new ra;return s&&(ze(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(ze(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ze(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ra,this.toJSON())}_performRefresh(){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(i,e){ze(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ci{constructor(e){var{uid:n,auth:s,stsTokenManager:l}=e,u=Wl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new zh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Ph(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xM(this,e)}reload(){return zM(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await oc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(It(this.auth.app))return Promise.reject(ia(this.auth));const e=await this.getIdToken();return await Ph(this,LM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,l,u,f,h,p,m,_;const y=(s=n.displayName)!==null&&s!==void 0?s:void 0,E=(l=n.email)!==null&&l!==void 0?l:void 0,b=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=n.photoURL)!==null&&f!==void 0?f:void 0,H=(h=n.tenantId)!==null&&h!==void 0?h:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,B=(m=n.createdAt)!==null&&m!==void 0?m:void 0,q=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:$,emailVerified:de,isAnonymous:A,providerData:te,stsTokenManager:Ee}=n;ze($&&Ee,e,"internal-error");const ce=ra.fromJSON(this.name,Ee);ze(typeof $=="string",e,"internal-error"),sr(y,e.name),sr(E,e.name),ze(typeof de=="boolean",e,"internal-error"),ze(typeof A=="boolean",e,"internal-error"),sr(b,e.name),sr(N,e.name),sr(H,e.name),sr(U,e.name),sr(B,e.name),sr(q,e.name);const G=new Ci({uid:$,auth:e,email:E,emailVerified:de,displayName:y,isAnonymous:A,photoURL:N,phoneNumber:b,tenantId:H,stsTokenManager:ce,createdAt:B,lastLoginAt:q});return te&&Array.isArray(te)&&(G.providerData=te.map(ae=>Object.assign({},ae))),U&&(G._redirectEventId=U),G}static async _fromIdTokenResponse(e,n,s=!1){const l=new ra;l.updateFromServerResponse(n);const u=new Ci({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await oc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];ze(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?rb(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),h=new ra;h.updateFromIdToken(s);const p=new Ci({uid:l.localId,auth:e,stsTokenManager:h,isAnonymous:f}),m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new zh(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function es(i){lc(i instanceof Function,"Expected a class definition");let e=sE.get(i);return e?(lc(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,sE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sb.type="NONE";const aE=sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(i,e,n){return`firebase:${i}:${e}:${n}`}class sa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=oh(this.userKey,l.apiKey,u),this.fullPersistenceKey=oh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ci._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new sa(es(aE),e,s);const l=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=l[0]||es(aE);const f=oh(s,e.config.apiKey,e.name);let h=null;for(const m of n)try{const _=await m._get(f);if(_){const y=Ci._fromJSON(e,_);m!==u&&(h=y),u=m;break}}catch{}const p=l.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new sa(u,e,s):(u=p[0],h&&await u._set(f,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new sa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($M(e))return"Blackberry";if(KM(e))return"Webos";if(FM(e))return"Safari";if((e.includes("chrome/")||qM(e))&&!e.includes("edge/"))return"Chrome";if(YM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function jM(i=it()){return/firefox\//i.test(i)}function FM(i=it()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qM(i=it()){return/crios\//i.test(i)}function GM(i=it()){return/iemobile/i.test(i)}function YM(i=it()){return/android/i.test(i)}function $M(i=it()){return/blackberry/i.test(i)}function KM(i=it()){return/webos/i.test(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(i,e=[]){let n;switch(i){case"Browser":n=lE(it());break;case"Worker":n=`${lE(it())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ki}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,h)=>{try{const p=e(u);f(p)}catch(p){h(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(i,e={}){return fs(i,"GET","/v2/passwordPolicy",ma(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=6;class ZM{constructor(e){var n,s,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:XM,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,l,u,f,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oE(this),this.idTokenSubscription=new oE(this),this.beforeStateQueue=new WM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await sa.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nb(this,{idToken:e}),s=await Ci._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(It(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===h)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await oc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(It(this.app))return Promise.reject(ia(this));const n=e?Dt(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return It(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return It(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QM(this),n=new ZM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yr("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await VM(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await sa.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(h,this,"internal-error"),h.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(It(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Nc(i){return Dt(i)}class oE{constructor(e){this.auth=e,this.observer=null,this.addObserver=CE(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ek(i){return lb.loadJS(i)}function tk(){return lb.recaptchaEnterpriseScript}class nk{constructor(){this.enterprise=new ik}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ik{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rk="recaptcha-enterprise",ob="NO_RECAPTCHA";class sk{constructor(e){this.type=rk,this.auth=Nc(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,h)=>{kM(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new MM(p);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,f(m.siteKey)}}).catch(p=>{h(p)})})}function l(u,f,h){const p=window.grecaptcha;iE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(m=>{f(m)}).catch(()=>{f(ob)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nk().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(h=>{if(!n&&iE(window.grecaptcha))l(h,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=tk();p.length!==0&&(p+=h),ek(p).then(()=>{l(h,u,f)}).catch(m=>{f(m)})}}).catch(h=>{f(h)})})}}async function uE(i,e,n,s=!1,l=!1){const u=new sk(i);let f;if(l)f=ob;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:f}):Object.assign(h,{captchaResponse:f}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function cE(i,e,n,s,l){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await uE(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await uE(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(f)})}function ak(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(es);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,n){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}async function ok(i,e){return fs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(i,e){return qp(i,"POST","/v1/accounts:signInWithPassword",ma(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(i,e){return qp(i,"POST","/v1/accounts:signInWithEmailLink",ma(i,e))}async function fk(i,e){return qp(i,"POST","/v1/accounts:signInWithEmailLink",ma(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends lk{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Kl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Kl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cE(e,n,"signInWithPassword",uk);case"emailLink":return ck(e,{email:this._email,oobCode:this._password});default:$l(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cE(e,s,"signUpPassword",ok);case"emailLink":return fk(e,{idToken:n,email:this._email,oobCode:this._password});default:$l(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hk(i){const e=Tl(wl(i)).link,n=e?Tl(wl(e)).deep_link_id:null,s=Tl(wl(i)).deep_link_id;return(s?Tl(wl(s)).link:null)||s||n||e||i}class Gp{constructor(e){var n,s,l,u,f,h;const p=Tl(wl(e)),m=(n=p.apiKey)!==null&&n!==void 0?n:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,y=dk((l=p.mode)!==null&&l!==void 0?l:null);ze(m&&_&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=hk(e);try{return new Gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.providerId=ga.PROVIDER_ID}static credential(e,n){return Kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Gp.parseLink(n);return ze(s,"argument-error"),Kl._fromEmailAndCode(e,s.code,s.tenantId)}}ga.PROVIDER_ID="password";ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await Ci._fromIdTokenResponse(e,s,l),f=fE(s);return new uc({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=fE(s);return new uc({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function fE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Vn{constructor(e,n,s,l){var u;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new cc(e,n,s,l)}}function pk(i,e,n,s){return n._getIdTokenResponse(i).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?cc._fromErrorAndOperation(i,u,e,s):u})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(i,e,n=!1){if(It(i.app))return Promise.reject(ia(i));const s="signIn",l=await pk(i,s,e),u=await uc._fromIdTokenResponse(i,s,l);return n||await i._updateCurrentUser(u.user),u}async function gk(i,e){return mk(Nc(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(i){const e=Nc(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function vk(i,e,n){return It(i.app)?Promise.reject(ia(i)):gk(Dt(i),ga.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&_k(i),s})}var dE="@firebase/auth",hE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Sk(i){mr(new Ai("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:h}=s.options;ze(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:h,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ab(i)},m=new JM(s,l,u,p);return ak(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),mr(new Ai("auth-internal",e=>{const n=Nc(e.getProvider("auth").getImmediate());return(s=>new yk(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(dE,hE,Ek(i)),Wn(dE,hE,"esm2017")}Sk("Cordova");function bk(){const{setUser:i}=Tc(),[e,n]=k.useState(""),[s,l]=k.useState(""),[u,f]=k.useState(""),h=Pp(),p=async m=>{m.preventDefault();try{const y=(await vk(Mp,e,s)).user;i(y),h("/granja_star/dados")}catch{f("Erro em fazer o login. Verifique suas credenciais")}};return Le.jsx(Le.Fragment,{children:Le.jsxs("div",{className:"conteiner_principal",children:[Le.jsx(EM,{email:e,setEmail:n,passaword:s,setPassaword:l,handleLogin:p}),u&&Le.jsx("p",{children:u})]})})}function Tk({dados:i,logout:e}){return Le.jsxs("div",{children:[Le.jsxs("ul",{children:[Le.jsxs("li",{children:["Index: ",i?i.index:"Carregando..."]}),Le.jsxs("li",{children:["Temperatura: ",i?i.temper:"Carregando..."]}),Le.jsxs("li",{children:["Umidade: ",i?i.umidade:"Carregando..."]}),Le.jsxs("li",{children:["Estado da luz:"," ",i?i.estadoLuz?"Ligada":"Desligada":"Carregando..."]})]}),Le.jsx("button",{onClick:e,children:"Sair"})]})}function wk(){const{user:i,setUser:e}=Tc(),[n,s]=k.useState(null),[l,u]=k.useState(!0);k.useEffect(()=>{const h=t1(m1,"/dados"),p=i1(h,m=>{m.exists()?(s(m.val()),u(!1)):(console.log("Nenhum dado encontrado"),u(!1))});return()=>p()},[]);function f(){const h=np();GR(h).then(()=>{console.log("Usuário deslogado com sucesso do Firebase"),e(null)}).catch(p=>{console.error("Erro ao deslogar do Firebase:",p)})}return Le.jsx("div",{children:l?Le.jsx("p",{children:"Carregando..."}):Le.jsx(Tk,{dados:n,logout:f})})}function Ck({children:i}){const{user:e}=Tc();return e?i:Le.jsx(Bp,{to:"/granja_star"})}function Rk({children:i}){const{user:e,setUser:n}=Tc(),[s,l]=k.useState(!0);return k.useEffect(()=>{const u=np(),f=qR(u,h=>{n(h||null),l(!1)});return()=>f()},[n]),s?Le.jsx("div",{children:"Carregando..."}):e?Le.jsx(Bp,{to:"/granja_star/dados"}):i}const Ak=sM([{path:"/",element:Le.jsx(Bp,{to:"/granja_star"})},{path:"/granja_star",element:Le.jsx(Rk,{children:Le.jsx(bk,{})})},{path:"/granja_star/dados",element:Le.jsx(Ck,{children:Le.jsx(wk,{})})}]);bw.createRoot(document.getElementById("root")).render(Le.jsx(k.StrictMode,{children:Le.jsx(g1,{children:Le.jsx(vM,{router:Ak})})}));
